!function(e){function t(t){for(var r,o,c=t[0],u=t[1],s=t[2],l=0,d=[];l<c.length;l++)o=c[l],i[o]&&d.push(i[o][0]),i[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(f&&f(t);d.length;)d.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==i[u]&&(r=!1)}r&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={0:0},i={0:0},a=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[];o[e]?t.push(o[e]):0!==o[e]&&{14:1}[e]&&t.push(o[e]=new Promise(function(t,n){for(var r="../css/"+e+".react.authv2.cij.css",i=c.p+r,a=document.getElementsByTagName("link"),u=0;u<a.length;u++){var s=(f=a[u]).getAttribute("data-href")||f.getAttribute("href");if("stylesheet"===f.rel&&(s===r||s===i))return t()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){var f;if((s=(f=l[u]).getAttribute("data-href"))===r||s===i)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||i,a=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");a.request=r,delete o[e],d.parentNode.removeChild(d),n(a)},d.href=i,document.getElementsByTagName("head")[0].appendChild(d)}).then(function(){o[e]=0}));var n=i[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise(function(t,r){n=i[e]=[t,r]});t.push(n[2]=r);var a,u=document.getElementsByTagName("head")[0],s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=function(e){return c.p+"chunk-react.authv2-"+{1:"8027ed36",2:"c4514e22",3:"83487672",4:"84e29aa6",5:"2f0b6f67",6:"a04ffe47",7:"e12755a0",8:"d5b6251d",9:"3a8d9688",10:"b59a3993",11:"6c131fc9",12:"a16cfe94",13:"61f59145",14:"fced6d14",15:"0e78c7a7",16:"5794a091",17:"78a4ae7f",18:"0bcf715e",19:"6a03bdea",20:"68459a5b",21:"cc757598",22:"44be93ef"}[e]+".js"}(e),a=function(t){s.onerror=s.onload=null,clearTimeout(l);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+r+": "+o+")");a.type=r,a.request=o,n[1](a)}i[e]=void 0}};var l=setTimeout(function(){a({type:"timeout",target:s})},12e4);s.onerror=s.onload=a,u.appendChild(s)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="https://yastatic.net/passport-frontend/0.2.142-7/public/js/",c.oe=function(e){throw console.error(e),e};var u=window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var f=s;a.push([0,23,24]),n()}({0:function(e,t,n){n("fb1015b849d9a302a920"),n("29afd0734b013bb38bcc"),n("7eeaaa509db84bd002ac"),n("82358643b094698c859b"),n("9688ea3961634556428b"),n("a654130e78b91427150b"),n("eca537d636f49b157ed8"),n("fd655a88c237557b154f"),n("2a846d7d1abf615e1355"),n("a8e291b9732ae90c96bd"),n("d662be519faba3f05f3e"),e.exports=n("5ae6357351fffc3d4dc4")},"000049b9b67b0c120b8b":function(e,t,n){"use strict";var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),i=n("ac563649a2d33b90d3d7"),a=n.n(i),c=(n("1fa80dcc4892d61add26"),function(){return o.a.createElement("div",{className:"LoadableFallback"},o.a.createElement(a.a,{progress:!0,size:"l"}))});n.d(t,"a",function(){return c})},"0651733b927ea67727cd":function(e,t,n){"use strict";function r(e,t,n,r){var o=/(&)?(login|phone_number|country)=\2/;return e.replace(o,t&&!n?"$1$2=".concat(t):"").replace(o,n?"$1$2=".concat(encodeURIComponent(n)):"").replace(o,r?"$1$2=".concat(r):"")}n.d(t,"a",function(){return r})},"0a056e5750f1e7f88beb":function(e,t,n){"use strict";n.d(t,"l",function(){return r}),n.d(t,"n",function(){return o}),n.d(t,"o",function(){return i}),n.d(t,"m",function(){return a}),n.d(t,"k",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"j",function(){return f}),n.d(t,"e",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"g",function(){return b}),n.d(t,"d",function(){return h}),n.d(t,"i",function(){return m}),n.d(t,"h",function(){return y}),n.d(t,"u",function(){return g}),n.d(t,"q",function(){return v}),n.d(t,"r",function(){return _}),n.d(t,"s",function(){return O}),n.d(t,"p",function(){return E}),n.d(t,"t",function(){return w}),n.d(t,"w",function(){return k}),n.d(t,"v",function(){return T}),n.d(t,"x",function(){return j});var r="SWITCH_TO_MODE_REGISTER_LITE",o="SWITCH_TO_MODE_REGISTER_LITE_FORM",i="SWITCH_TO_MODE_REGISTER_LITE_NAME",a="SWITCH_TO_MODE_REGISTER_LITE_EULA",c="LITE_REGISTER_SET_TRACK_ID",u="LITE_REGISTER_CHANGE_FIRST_NAME",s="LITE_REGISTER_CHANGE_LAST_NAME",l="LITE_REGISTER_CHANGE_CONFIRMATION_CODE",f="LITE_REGISTER_SET_ERRORS",d="LITE_REGISTER_CHANGE_PASSWORD",p="LITE_REGISTER_CHANGE_PASSWORD_CONFIRM",b="LITE_REGISTER_LOGIN_REQUIRED",h="LITE_REGISTER_CHANGE_LOGIN",m="LITE_REGISTER_PASSWORD_WARNING",y="LITE_REGISTER_PASSWORD_ERROR_DESCR";function g(e){return{type:c,track_id:e}}function v(e){return{type:u,firstname:e}}function _(e){return{type:s,lastname:e}}function O(e){return{type:d,password:e}}function E(e){return{type:l,confirmationCode:e}}function w(e){return{type:f,errors:e}}function k(e){return{type:m,warning:e}}function T(e){return{type:y,text:e}}function j(e){return{type:b,status:e}}},"0b88835c11ed4414a373":function(e,t,n){(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(n,r){"use strict";"object"===t(e)&&e.exports?e.exports=r($):n.Monitoring=r(n.$)}(this,function(e){return{inited:!1,_data:null,init:function(t){this._data=e.extend({},{app:"passport"},t)},send:function(t){var n=e.extend({},this._data,t);"load"===t.event&&(n=e.extend(n,this.preparePerformanceData())),e.ajax({url:"/monitoring",data:n})},preparePerformanceData:function(){var e,t;return"performance"in window&&"timing"in window.performance&&"navigation"in window.performance?(e=performance.timing,t=performance.navigation,{"tm.navigationStart":e.navigationStart,"tm.unloadEventStart":e.unloadEventStart,"tm.unloadEventEnd":e.unloadEventEnd,"tm.redirectStart":e.redirectStart,"tm.redirectEnd":e.redirectEnd,"tm.fetchStart":e.fetchStart,"tm.domainLookupStart":e.domainLookupStart,"tm.domainLookupEnd":e.domainLookupEnd,"tm.connectStart":e.connectStart,"tm.connectEnd":e.connectEnd,"tm.secureConnectionStart":e.secureConnectionStart,"tm.requestStart":e.requestStart,"tm.responseStart":e.responseStart,"tm.responseEnd":e.responseEnd,"tm.domLoading":e.domLoading,"tm.domInteractive":e.domInteractive,"tm.domContentLoadedEventStart":e.domContentLoadedEventStart,"tm.domContentLoadedEventEnd":e.domContentLoadedEventEnd,"tm.domComplete":e.domComplete,"tm.loadEventStart":e.loadEventStart,"tm.loadEventEnd":e.loadEventEnd,"nav.type":t.type,"nav.redirectCount":t.redirectCount}):{}}}})}).call(this,n("f586cf5b9f4b7719b2c1")(e))},"1149451ba27e85f43882":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("2de66506e54747eb79c9");function o(){return function(e,t){var n=t(),o=n.common.preRegisterUrl;"preRegister"!==n.auth.mode&&e(Object(r.d)(o))}}},"12409bff7d6b1ff45b24":function(e,t,n){"use strict";function r(){var e=new Date;e.setDate(e.getDate()+7),document.cookie="qr_auth_promo=".concat((new Date).toUTCString(),";expires=").concat(e.toUTCString())}n.d(t,"a",function(){return r})},"1359072b563fb7f15ef0":function(e,t,n){"use strict";var r=n("81e3542ee6dfa9281cbe"),o={"phone.missingvalue":"Пожалуйста, укажите номер телефона","email.missingvalue":"Пожалуйста, укажите ваш email","email.challenge.not_passed":"Указан неправильный адрес ящика. Возможно, вы допустили опечатку.","phone.challenge.not_passed":"Указан неправильный номер телефона. Возможно, вы допустили опечатку.","challenge.not_passed":"Неправильный код, попробуйте ещё раз"},i=n("f3e5b0b53b9a60481e9f");n.d(t,"a",function(){return c});var a=function(e){return["track_id.empty","track_id.invalid","track.not_found","unknowntrack","track.invalid_state","action.impossible","challenge.not_enabled","account.not_found","account.disabled","account.disabled_on_deletion","account.global_logout","sessionid.overflow","account.global_logout"].includes(e)};function c(e){return function(t,n){var c=n(),u=c.common,s=u.retpath,l=u.track_id,f=c.challenge.challengeType;"phone.confirmed"!==e?a(e)?window.location.href="/auth?track_id=".concat(l):"account.auth_passed"!==e?(f||"challenge.limit_exceeded"===e)&&t(Object(r.f)({code:e,text:function(e,t){var n=Object.assign({},o,i.a);return("phone_confirmation"===t?n[e]:n["".concat(t,".").concat(e)])||"Что-то пошло не так. Попробуйте обновить страницу"}(e,f)})):window.location.href=s:location.href="/profile".concat(location.search)}}},"13a6fd289c62825ef787":function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),i=n("8a2d1b95e05b6a321e74"),a=n.n(i),c=n("b912ecc4473ae8a2ff0b"),u=n.n(c),s=n("a6fd5b93bd0fb4ce3d49"),l=n.n(s),f=n("ce71044ed50ae6df54b1");function d(e){var t=e.switchToModeMagic,n=e.isShowQRAuthPromoTooltip,r=e.isDisabled,i=e.theme,a=e.text,c=t&&"function"==typeof t,s=a||"Войти";return o.a.createElement("div",{className:"passp-button passp-sign-in-button"},o.a.createElement(f.a,{buttonType:"submit",buttonText:s,buttonTheme:i,disabled:r}),c&&o.a.createElement(l.a,{cls:"passp-sign-in-button__magic-link",onClick:t,size:"l",width:"max",theme:i,type:"button",disabled:r},o.a.createElement("span",{className:u()("passp-sign-in-button__magic-link-icon",{"passp-sign-in-button__magic-promo-bg":n})})))}d.defaultProps={switchToModeMagic:null,isDisabled:!1,theme:"action"},d.propTypes={switchToModeMagic:a.a.func,isDisabled:a.a.bool,theme:a.a.string,text:a.a.string}},"154f4cb3d35e7b354bf9":function(e,t,n){"use strict";var r=n("2de66506e54747eb79c9"),o=n("ce6a336dd6fa524abe9a"),i=n("d980a6b4f65a3a13be8b"),a=n("7be7712634cfee58c146");t.a=function(){return function(e,t){var n=t(),c=n.common,u=c.registerUrl,s=c.pane,l=n.auth,f=l.mode,d=l.form,p=(void 0===d?{}:d).registrationLogin;"register"!==f&&(p&&e(Object(a.P)({field:"login",value:p})),e(Object(o.r)("with-suggest-to-restore-by-phone-in-da-house")),e(Object(i.r)("/auth/reg")),e(Object(i.q)(s)),e(Object(r.d)(u)))}}},"15a1cb3beb4f3d6cfe2c":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("fb6358edfd8976cf491c"),o=n("4ee320a8137784c050e0"),i=n("2dad848e8287918fdb83"),a=n("7bec9e0f5607402a990d"),c=n("bb35215c4a46a2d07b5f"),u=n("c1c5f474e631e6348cde");function s(e){return function(t,n){if(!e||!e.trim())return t(Object(i.q)(["number.empty"])),void t(Object(o.W)(!1));var s=n(),l=s.additionalDataRequest,f=l.track_id,d=l.action,p=s.settings.lang,b=s.common.csrf,h={number:e,track_id:f,csrf_token:b,display_language:p};t(Object(i.n)()),r.a.request("phone/confirm_and_bind_secure/submit_v2",h).done(function(e){t(Object(u.a)("request_phone_confirmation_code","secure"===d?"Показ превращения телефона в защищенный":"Показ привязки телефона","Отправка кода")),t(Object(i.p)(e)),t(Object(o.W)(!1)),t(Object(o.U)(!0)),t(Object(o.T)("additionalDataRequestPhoneConfirmation"))}).fail(function(e){for(var n=e.errors.length,r=0;r<n;r++){var u=e.errors[r];if("password.required"===u)return void t(Object(c.a)());if("phone.confirmed"===u||"phone_secure.bound_and_confirmed"===u)return void t(Object(a.a)())}t(Object(i.q)(e.errors)),t(Object(o.W)(!1))})}}},"199afe915d0301db3224":function(e,t,n){(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(r,o){"use strict";"object"===t(e)&&e.exports?e.exports=o($,n("d9f91b7fc5fea852c17a")):o(r.$,r.passport)}(this,function(e,n){"use strict";return"object"!==("undefined"==typeof window?"undefined":t(window))?{}:n.block("broker",{yaWindow:null,defaultParams:{startUrl:"/auth/social/start",retpath:location.protocol+"//"+location.host+"/auth/i-social__closer.html",retnopopup:!1,consumer:"passport",popupName:"social_passport",display:"popup",place:"fragment"},isClosed:function(){var e;if(!this.yaWindow||this.yaWindow&&void 0===this.yaWindow.closed)return!0;try{e=this.yaWindow.closed}catch(t){e=!0}return e},open:function(e){var t,r,o,i,a=this,c="scrollbars=yes, resizable=1, menubar=0, toolbar=0, status=0, location=0, directories=0, left="+Math.round(((window.opera?window.innerWidth:screen.availWidth)-650)/2)+", top="+Math.round(((window.opera?window.innerHeight:screen.availHeight)-400)/2)+", width=650, height=400",u=!1,s={},l=this.url;Object.keys(this.defaultParams).forEach(function(e){s[e]=a.defaultParams[e]}),[].concat(Object.keys(e)).forEach(function(t){s[t]=e[t]}),s.display&&"popup"!==s.display||s.currentWindow?(delete(r=n.util.getUrlParams(window.location.href)).uid,o=Object.keys(r).map(function(e){return e+"="+r[e]}).join("&"),t="https://"+window.location.hostname+window.location.pathname+(o?"?":"")+o,s.retpath=s.retnopopup||t,u=!0):(i="ddom="+(s.ddom||(location.hostname===document.domain?"":document.domain)),s.retpath+=(s.retpath.match("#")?"&":"#")+i,"retnopopup"in s&&delete s.retnopopup),Object.keys(s).forEach(function(e,t){l+=0===t?"?":"&",l+=encodeURIComponent(e)+"="+encodeURIComponent(s[e])}),u?window.location.href=l:(this.yaWindow=window.open(l,this.popupName,c),this.yaWindow&&this.yaWindow.focus())},cleanup:function(){this.isClosed()||this.yaWindow.close(),this.yaWindow=null},start:function(e){this.cleanup(),this.open(e)},init:function(t){this.defaultParams=e.extend(this.defaultParams,t||{}),this.url=this.defaultParams.startUrl,delete this.defaultParams.startUrl}})})}).call(this,n("f586cf5b9f4b7719b2c1")(e))},"1fa80dcc4892d61add26":function(e,t,n){},"21ee08bda737248faf45":function(e,t,n){"use strict";n.d(t,"e",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"h",function(){return b}),n.d(t,"k",function(){return h}),n.d(t,"j",function(){return m}),n.d(t,"f",function(){return y}),n.d(t,"g",function(){return g}),n.d(t,"i",function(){return v});var r=n("4ee320a8137784c050e0"),o=n("7bec9e0f5607402a990d"),i=n("fb6358edfd8976cf491c"),a=n("4724c446d38c62224751"),c={phoneConfirm:"success"},u={phoneConfirm:"error"},s="UPDATE_PHONE_CONFIRM_NUMBER",l="UPDATE_PHONE_CONFIRM_CODE",f="SET_PHONE_CONFIRM_ERRORS",d="SET_PHONE_CONFIRM_TIMER",p="CLEAR_SECURE_PHONE_NUMBER",b=function(e){return function(t){return t({type:f,payload:{errors:e}})}},h=function(e){return function(t){return t({type:s,payload:{phoneNumber:e}})}},m=function(e){return function(t){return t({type:l,payload:{confirmationCode:e}})}},y=function(){return function(e){return e({type:p})}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var a=n(),c=a.phoneConfirm,u=void 0===c?{}:c,s=a.settings,l=void 0===s?{}:s,f=a.common,p=void 0===f?{}:f,h=u.phoneNumber,m=u.securePhoneNumber,y=e?m:h,g=p.track_id,v=p.csrf;if(y&&y.trim()){var _={number:y,track_id:g,csrf_token:v,display_language:l.lang};t(b([])),t(Object(r.W)(!0)),i.a.request("phone/bind_simple_or_confirm_bound/submit",_).done(function(){t(Object(r.W)(!1)),t(Object(r.U)(!0)),t(Object(r.T)("phoneConfirmation")),t({type:d})}).fail(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).errors;e.includes("phone.confirmed")||e.includes("phone_secure.bound_and_confirmed")?t(Object(o.a)()):(t(b(e)),t(Object(r.W)(!1)))})}else t(b(["number.empty"]))}},v=function(){return function(e,t){var n=t(),s=n.phoneConfirm,l=void 0===s?{}:s,f=n.common,d=void 0===f?{}:f,p=l.confirmationCode,h=d.retpath,m=d.track_id,y=d.csrf;if(!p||!p.trim())return e(b(["code.empty"])),void e(Object(r.W)(!1));var g={code:p,track_id:m,csrf_token:y};e(b([])),e(Object(r.W)(!0)),i.a.request("phone/bind_simple_or_confirm_bound/commit",g).done(function(){Object(a.e)(c,h),e(Object(o.a)())}).fail(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).errors;t.includes("phone.confirmed")||t.includes("phone_secure.bound_and_confirmed")?e(Object(o.a)()):(Object(a.e)(u,h),e(b(t)),e(Object(r.W)(!1)))})}}},"256898036d63d335a892":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("fb6358edfd8976cf491c"),o=n("4ee320a8137784c050e0"),i=n("400d618db20c4ff01c08");function a(e){return function(t,n){var a=n(),c=a.settings.ua,u=a.common.csrf,s=c&&c.isTouch,l={_uid:e,csrf_token:u};t(Object(o.W)(!0)),r.a.request("accounts/forget",l).done(function(){t(Object(i.a)()),s&&t(Object(o.S)(!1))}).fail(function(){t(Object(i.a)())}).always(function(){return t(Object(o.W)(!1))})}}},"26e147c2342ede77e67d":function(e,t,n){"use strict";n.d(t,"i",function(){return r}),n.d(t,"h",function(){return o}),n.d(t,"g",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"f",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"e",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return f}),n.d(t,"l",function(){return d}),n.d(t,"n",function(){return p}),n.d(t,"o",function(){return b}),n.d(t,"m",function(){return h}),n.d(t,"p",function(){return m}),n.d(t,"k",function(){return y}),n.d(t,"q",function(){return g}),n.d(t,"j",function(){return v});var r="PUBLIC_UPDATE_AVATAR_UPLOAD_METHOD",o="PUBLIC_UPDATE_AVATAR_SET_TRACK",i="PUBLIC_UPDATE_AVATAR_ERROR",a="PUBLIC_AVATAR_SET_PROCESSING_STATUS",c="PUBLIC_AVATAR_UPDATE_URL",u="PUBLIC_AVATAR_RESET_URL",s="PUBLIC_AVATAR_UPDATE_IMAGE_OPTIONS",l="PUBLIC_AVATAR_SET_LOADING_STATUS",f="PUBLIC_AVATAR_CHANGE_UPDATE_STATUS";function d(e){return{type:i,error:e}}function p(e){return{type:a,isProcessing:e}}function b(e){return{type:l,isLoading:e}}function h(e){return{type:o,trackId:e}}function m(e){return{type:c,urlData:e}}function y(e){return{type:u,resetUrl:e}}function g(e){return{type:s,options:e}}function v(e){return{type:f,isUpdated:e}}},"287b99d6936bf6df3e65":function(e,t,n){"use strict";function r(e){var t={};if(!Array.isArray(e))return t;var n=e.find(function(e){return"code.empty"===e}),r=e.find(function(e){return"code.invalid"===e}),o=e.find(function(e){return"phone_secure.not_found"===e}),i=e.find(function(e){return"rate.limit_exceeded"===e||"confirmations_limit.exceeded"===e}),a=e.find(function(e){return"calls_limit.exceeded"===e});return e.find(function(e){return"internal"===e})&&(t.code="internal"),n&&(t.code="empty"),r&&(t.code="notMatched"),i&&(t.code="rateLimitExceeded"),o&&(t.phone="notFound"),a&&(t.phone="callsLimitExceeded",t.code="callsLimitExceeded"),t}function o(e){var t={};if(!Array.isArray(e))return t;var n=e.find(function(e){return"firstname.empty"===e}),r=e.find(function(e){return"lastname.empty"===e}),o=e.find(function(e){return"compare.not_matched"===e}),i=e.find(function(e){return"rate.limit_exceeded"===e});return e.find(function(e){return"internal"===e})&&(t.firstName="internal"),n&&(t.firstName="empty"),r&&(t.lastName="empty"),o&&(t.firstName="notMatched"),i&&(t.firstName="rateLimitExceeded",t.lastName="rateLimitExceeded"),t}function i(e){var t={};if(!Array.isArray(e))return t;var n=e.find(function(e){return"captcha.not_matched"===e}),r=e.find(function(e){return"phone_number.invalid"===e||"number.invalid"===e}),o=e.find(function(e){return"phone.empty"===e||"phone_number.empty"===e}),i=e.find(function(e){return"captcha.empty"===e}),a=e.find(function(e){return"phone_secure.not_found"===e}),c=e.find(function(e){return"sms_limit.exceeded"===e}),u=e.find(function(e){return"calls_limit.exceeded"===e}),s=e.find(function(e){return"rate.limit_exceeded"===e});return e.find(function(e){return"internal"===e})&&(t.phone="internal"),n&&(t.captcha="notMatched"),r&&(t.phone="invalid"),o&&(t.phone="empty"),i&&(t.captcha="empty"),a&&(t.phone="notFound",t.code="notFound"),c&&(t.phone="smsLimitExceeded",t.code="smsLimitExceeded"),u&&(t.phone="callsLimitExceeded",t.code="callsLimitExceeded"),s&&(t.phone="rateLimitExceeded"),t}n.d(t,"c",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i})},"2a8109ac628133d5b12f":function(e,t,n){"use strict";n.d(t,"Cc",function(){return r}),n.d(t,"vc",function(){return o}),n.d(t,"wc",function(){return i}),n.d(t,"yc",function(){return a}),n.d(t,"xc",function(){return c}),n.d(t,"I",function(){return u}),n.d(t,"H",function(){return s}),n.d(t,"J",function(){return l}),n.d(t,"Nc",function(){return f}),n.d(t,"n",function(){return d}),n.d(t,"Fc",function(){return p}),n.d(t,"Jc",function(){return b}),n.d(t,"Ec",function(){return h}),n.d(t,"Kc",function(){return m}),n.d(t,"D",function(){return y}),n.d(t,"sc",function(){return g}),n.d(t,"uc",function(){return v}),n.d(t,"tc",function(){return _}),n.d(t,"Lc",function(){return O}),n.d(t,"M",function(){return E}),n.d(t,"L",function(){return w}),n.d(t,"Hc",function(){return k}),n.d(t,"Dc",function(){return T}),n.d(t,"Gc",function(){return j}),n.d(t,"Mc",function(){return S}),n.d(t,"Ic",function(){return C}),n.d(t,"Oc",function(){return P}),n.d(t,"zc",function(){return R}),n.d(t,"E",function(){return A}),n.d(t,"Pc",function(){return q}),n.d(t,"Ac",function(){return N}),n.d(t,"c",function(){return x}),n.d(t,"b",function(){return U}),n.d(t,"f",function(){return L}),n.d(t,"d",function(){return M}),n.d(t,"e",function(){return I}),n.d(t,"Bc",function(){return D}),n.d(t,"h",function(){return F}),n.d(t,"g",function(){return B}),n.d(t,"m",function(){return H}),n.d(t,"i",function(){return V}),n.d(t,"F",function(){return W}),n.d(t,"l",function(){return G}),n.d(t,"k",function(){return $}),n.d(t,"j",function(){return z}),n.d(t,"vb",function(){return K}),n.d(t,"Gb",function(){return Q}),n.d(t,"Fb",function(){return Y}),n.d(t,"Db",function(){return J}),n.d(t,"Eb",function(){return X}),n.d(t,"Bb",function(){return Z}),n.d(t,"Cb",function(){return ee}),n.d(t,"qb",function(){return te}),n.d(t,"pb",function(){return ne}),n.d(t,"ob",function(){return re}),n.d(t,"nb",function(){return oe}),n.d(t,"mb",function(){return ie}),n.d(t,"lb",function(){return ae}),n.d(t,"fb",function(){return ce}),n.d(t,"wb",function(){return ue}),n.d(t,"xb",function(){return se}),n.d(t,"zb",function(){return le}),n.d(t,"gb",function(){return fe}),n.d(t,"yb",function(){return de}),n.d(t,"Ab",function(){return pe}),n.d(t,"hb",function(){return be}),n.d(t,"kb",function(){return he}),n.d(t,"ib",function(){return me}),n.d(t,"jb",function(){return ye}),n.d(t,"Hb",function(){return ge}),n.d(t,"Kb",function(){return ve}),n.d(t,"rb",function(){return _e}),n.d(t,"tb",function(){return Oe}),n.d(t,"Jb",function(){return Ee}),n.d(t,"Mb",function(){return we}),n.d(t,"Ib",function(){return ke}),n.d(t,"Lb",function(){return Te}),n.d(t,"sb",function(){return je}),n.d(t,"ub",function(){return Se}),n.d(t,"P",function(){return Ce}),n.d(t,"Q",function(){return Pe}),n.d(t,"O",function(){return Re}),n.d(t,"R",function(){return Ae}),n.d(t,"N",function(){return qe}),n.d(t,"K",function(){return Ne}),n.d(t,"a",function(){return xe}),n.d(t,"G",function(){return Ue}),n.d(t,"S",function(){return Le}),n.d(t,"T",function(){return Me}),n.d(t,"U",function(){return Ie}),n.d(t,"cb",function(){return De}),n.d(t,"V",function(){return Fe}),n.d(t,"db",function(){return Be}),n.d(t,"Z",function(){return He}),n.d(t,"ab",function(){return Ve}),n.d(t,"bb",function(){return We}),n.d(t,"X",function(){return Ge}),n.d(t,"Y",function(){return $e}),n.d(t,"eb",function(){return ze}),n.d(t,"W",function(){return Ke}),n.d(t,"o",function(){return Qe}),n.d(t,"C",function(){return Ye}),n.d(t,"z",function(){return Je}),n.d(t,"A",function(){return Xe}),n.d(t,"B",function(){return Ze}),n.d(t,"s",function(){return et}),n.d(t,"p",function(){return tt}),n.d(t,"q",function(){return nt}),n.d(t,"r",function(){return rt}),n.d(t,"w",function(){return ot}),n.d(t,"x",function(){return it}),n.d(t,"u",function(){return at}),n.d(t,"y",function(){return ct}),n.d(t,"t",function(){return ut}),n.d(t,"v",function(){return st}),n.d(t,"Nb",function(){return lt}),n.d(t,"pc",function(){return ft}),n.d(t,"qc",function(){return dt}),n.d(t,"oc",function(){return pt}),n.d(t,"cc",function(){return bt}),n.d(t,"ac",function(){return ht}),n.d(t,"bc",function(){return mt}),n.d(t,"Pb",function(){return yt}),n.d(t,"Qb",function(){return gt}),n.d(t,"Ob",function(){return vt}),n.d(t,"Vb",function(){return _t}),n.d(t,"rc",function(){return Ot}),n.d(t,"Wb",function(){return Et}),n.d(t,"Ub",function(){return wt}),n.d(t,"Rb",function(){return kt}),n.d(t,"Tb",function(){return Tt}),n.d(t,"Sb",function(){return jt}),n.d(t,"jc",function(){return St}),n.d(t,"kc",function(){return Ct}),n.d(t,"ic",function(){return Pt}),n.d(t,"gc",function(){return Rt}),n.d(t,"hc",function(){return At}),n.d(t,"fc",function(){return qt}),n.d(t,"dc",function(){return Nt}),n.d(t,"ec",function(){return xt}),n.d(t,"nc",function(){return Ut}),n.d(t,"mc",function(){return Lt}),n.d(t,"lc",function(){return Mt}),n.d(t,"Yb",function(){return It}),n.d(t,"Zb",function(){return Dt}),n.d(t,"Xb",function(){return Ft});var r="Показ ввода логина",o="Отправка формы логина",i='Показ кнопки "Зарегистрировать логин"',a="Успешный ввод",c="Показ ошибки",u="Переход на регистрацию из ошибки",s="Переход на регистрацию из общей ссылки",l="Переход на восстановление логина из ошибки",f="Начало соц.авторизации",d="Вернуться на сервис",p="Показ формы ввод пароля",b="Показ формы соц.сеть",h="Показ формы 2fa",m="Показ формы соц.сеть и пароль",y='Нажатие "Другой аккаунт"',g="Отправка формы",v="Успешный ввод",_="Показ ошибки",O="Показ списка",E="Выход из аккаунта",w="Удаление из списка",k="Показ формы QR",T="2step_domik_show_login_form",j="2step_domik_show_pass_form",S="2step_domik_show_suggest_pass_form",C="2step_domik_show_qr_form",P="one_domik_auth_sucess",R='Показ кнопки "Войти без пароля"',A='Нажатие кнопки "Войти без пароля"',q="Успешный вход через подтверждение",N="Вход по магическому письму: показ страницы подтверждения",x='Вход по магическому письму: нажатие "Это не Я"',U='Вход по магическому письму: нажатие "Это Я"',L="Вход по магическому письму: успешное подтверждение",M="Вход по магическому письму: получение ошибок",I="Вход по магическому письму: вход по ссылке отменен",D="Вход по мессенджеру: показ страницы подтверждения",F='Вход по мессенджеру: нажатие "Это не Я"',B='Вход по мессенджеру: нажатие "Это Я"',H="Вход по мессенджеру: успешное подтверждение",V="Вход по мессенджеру: получение ошибок",W='Вход по мессенджеру: Нажатие кнопки "Войти без пароля"',G="Вход по мессенджеру: успешно отправлен код",$="Вход по мессенджеру: ошибка отправки кода",z="Вход по мессенджеру отменен",K="Восстановление логина на странице авторизации",Q="Показ страницы ввода номера",Y="Показ ввода кода",J="Показ ввода капчи",X="Показ ввода имени",Z="Показ результатов поиска",ee="Показ пустого результата поиска",te="Ввод номера",ne="Ошибка ввода номера",re="Успешный ввод кода",oe="Ошибка ввода кода",ie="Успешный ввод капчи",ae="Ошибка ввода капчи",ce="Выбор аккаунта из списка",ue="Повторить поиск с другими данными",se="Повторить поиск с другим именем",le="Повторить поиск с другим телефоном",fe="Войти в другой аккаунт",de="[Пустой список] Повторить поиск с другим именем",pe="[Пустой список] Повторить поиск с другим телефоном",be="[Пустой список] Войти в другой аккаунт",he="Подтверждение номера телефона через СМС",me="Подтверждение номера телефона через звонок",ye="Подтверждение номера телефона через сброс",ge="Звонок",ve="СМС",_e="Ошибка при звонке",Oe="Ошибка при СМС",Ee="Повторный звонок",we="Повторная СМС",ke="Успешное подтверждение через звонок",Te="Успешное подтверждение через СМС",je="Ошибка на подтверждении через звонок",Se="Ошибка на подтверждении через СМС",Ce="Страница пререгистрации",Pe="Показ страницы пререгистрации",Re="Переход на лайт регистрацию со страницы пререгистрации",Ae="Переход на обычную регистрацию со страницы пререгистрации",qe='Переход на обычную регистрацию по кнопке "завести почту на Яндексе"',Ne='Нажатие на кнопку "Войти по Сбербанк ID"',xe="additional_data_request",Ue='Нажатие на кнопку "Регистрация по телефону или почте"',Le="Лайты в домике: показ страницы с вводом кода из письма",Me="Лайты в домике: показ ошибки на странице ввода кода из письма",Ie="Лайты в домике: успешный ввода кода из письма",De="Лайты в домике: показ страницы с вводом пароля",Fe="Лайты в домике: показ ошибки на странице с вводом пароля",Be="Лайты в домике: успешный ввода пароля",He="Лайты в домике: показ страницы с вводом имени и фамилии",Ve="Лайты в домике: показ ошибки на странице с вводом имени и фамилии",We="Лайты в домике: успешный ввода имени и фамилии",Ge="Лайты в домике: показ страницы с EULA",$e='Лайты в домике: нажали на "Зарегистрироваться"',ze="Лайты в домике: успешная регистрация",Ke="Лайты в домике: показ ошибки",Qe="Челленджи в домике v2",Ye="Показ страницы подтверждения входа с телефоном",Je="Челендж с телефоном: успешный ввод",Xe="Челендж с телефоном, показ ошибки",Ze="Челендж с телефоном, не могу восстановить",et="Показ страницы подтверждения входа с email",tt="Челендж с email: успешный ввод",nt="Челендж с email: показ ошибки",rt="Челендж с email: не могу восстановить",ot="Челендж со звонком: Показ страницы подтверждения входа со звонком",it='Челендж со звонком: нажали "Подтвердить"',at='Челендж со звонком: попап с подтверждением номера"',ct='Челендж со звонком: успешное подтверждение номера телефона"',ut="Челендж со звонком: показ ошибки",st="Челендж со звонком: не могу восстановить",lt="Восстановление пароля в домике",ft="Показ формы ввода логина",dt="Переход из домика",pt="Выбор логина из саджеста",bt="Успешный ввод логина",ht="Ошибка при вводе логина:",mt="Статус пользователя при проверке логина:",yt="Показ формы с капчей",gt="Успешный ввод капчи",vt="Ввод капчи",_t="Показ формы ввода email",Ot='Нажатие "Отправить только код восстановления"',Et="Успешный ввод email",wt="Ошибка при вводе email",kt="Показ формы подтверждения email",Tt="Успешный ввод кода для подтверждения email",jt="Ошибка при вводе кода для подтверждения email",St="Показ формы ввода номера телефона",Ct="Успешный ввод номера телефона",Pt="Ошибка при валидации номера телефона",Rt="Показ формы подтверждения номера телефона",At="Успешный ввод кода для подтверждения телефона",qt="Ошибка при вводе кода для подтверждения телефона",Nt='Нажатие на "Не получается восстановить"',xt="Подтверждение телефона, повторить",Ut="Показ формы проверки КВ",Lt="Успешная проверка КВ",Mt="Ошибка при проверке КВ",It="Показ формы смены пароля",Dt="Успешная смена пароля",Ft="Ошибка при смене пароля"},"2dad848e8287918fdb83":function(e,t,n){"use strict";n.d(t,"g",function(){return r}),n.d(t,"j",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"f",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"i",function(){return f}),n.d(t,"h",function(){return d}),n.d(t,"n",function(){return p}),n.d(t,"q",function(){return b}),n.d(t,"m",function(){return h}),n.d(t,"l",function(){return m}),n.d(t,"k",function(){return y}),n.d(t,"p",function(){return g}),n.d(t,"o",function(){return v});var r="CLEAR_ERRORS",o="SET_ERRORS",i="CHANGE_CAPTCHA_ANSWER",a="CHANGE_CAPTCHA_STATE",c="CHANGE_PHONE_NUMBER",u="CHANGE_EMAIL",s="CHANGE_CONFIRMATION_CODE",l="CHANGE_CONFIRMATION_CODE_SENT_STATUS",f="SENT_PHONE_CONFIRMATION_CODE_SUCCESS",d="SENT_EMAIL_CONFIRMATION_CODE_SUCCESS";function p(){return{type:r}}function b(e){return{type:o,errors:e}}function h(e){return{type:c,phoneNumber:e}}function m(e){return{type:u,email:e}}function y(e){return{type:s,confirmationCode:e}}function g(e){return{type:f,payload:e}}function v(){return{type:d}}},"2de5c9c49c6d5989f45c":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("b24de1e495698d2f533b");function o(){return function(e,t){var n=t().captcha,o=n.introSound,i=n.captchaSound;o&&"function"==typeof o.stop&&o.stop(),i&&"function"==typeof i.stop&&i.stop(),e(Object(r.j)(!1))}}},"2e00c83ced56b4015524":function(e,t,n){"use strict";var r=n("ca24a59b6c35f0274ada"),o=n("fb6358edfd8976cf491c"),i=n("ba531bf28b1c27064b28"),a=n("2de5c9c49c6d5989f45c"),c=n("b24de1e495698d2f533b");function u(){return function(e,t){"text"===t().captcha.type?e(Object(r.a)()):e(function(e,t){var n=t(),r=n.common,u=r.track_id,s=r.uid,l=n.settings.language,f=n.captcha.trackId||u;e(Object(a.a)()),e(Object(c.m)()),o.a.request("audiocaptcha",{track_id:f,uid:s,language:l},{abortPrevious:!0}).done(function(t){return e(Object(i.a)(t,!0))}).fail(function(t){return e(Object(c.n)(t))})})}}n.d(t,"a",function(){return u})},"3025578a00df69bdcb8e":function(e,t,n){"use strict";var r=n("2de66506e54747eb79c9"),o=n("4ee320a8137784c050e0"),i=n("fb6358edfd8976cf491c"),a=n("d980a6b4f65a3a13be8b"),c=n("b2d0f77fd033b41cb6bc");function u(){return function(e,t){var n=t(),u=n.common.restoreLoginUrl;"restoreLogin"!==n.auth.mode&&(e(function(e){e(Object(o.W)(!0)),e(Object(c.t)()),i.a.request("auth/restore_login/submit").done(function(t){return e(Object(a.v)(t.track_id))}).fail(function(){return e(Object(c.u)(["internal"]))}).always(function(){return e(Object(o.W)(!1))})}),e(Object(o.zb)()),e(Object(r.d)(u)))}}n.d(t,"a",function(){return u})},"311fad8e7fa58bbf8bec":function(e,t,n){"use strict";function r(){return function(e,t){var n=t().captcha.captchaSound;n&&"function"==typeof n.play&&n.play()}}n.d(t,"a",function(){return r})},"32f2686eeb882a4ae234":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("fb6358edfd8976cf491c"),o=n("4ee320a8137784c050e0"),i=n("6720f7e94eecea453799"),a=n("2a8109ac628133d5b12f"),c=n("614b39f039bc9b9d408e");function u(){return function(e,t){var n=t(),u=n.common,s=u.csrf,l=u.track_id,f=n.mailAuth,d=f.mailTrack,p=f.isEnabled,b=n.auth.processedAccount,h={csrf_token:s,track_id:d||l};r.a.request("auth/invalidate_magic_letter",h).done(function(t){if("ok"===t.status&&(e(Object(o.fb)(!0)),i.a.send([p?a.e:a.j]),!d)){var n=p?"magic_link.invalidated":"messenger_link.invalidated";e(Object(o.hb)(n)),e(Object(c.a)(b.login)),e(Object(o.Bb)(!0))}}).fail(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Array.isArray(t.errors)&&t.errors[0]||"global";e(Object(o.hb)(n)),i.a.send([a.d])})}}},"376afcf70180c39dfa41":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("fb6358edfd8976cf491c"),o=n("4ee320a8137784c050e0"),i=n("7bec9e0f5607402a990d"),a=n("2dad848e8287918fdb83");function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"yes";return function(t,n){var c=n(),u={track_id:c.additionalDataRequest.track_id,csrf_token:c.common.csrf,user_declined:e};t(Object(a.n)()),r.a.request("auth/additional_data/freeze_v2",u).done(function(){t(Object(o.W)(!1)),t(Object(i.a)())}).fail(function(){t(Object(o.W)(!1)),t(Object(i.a)())})}}},"3f552ab013eb664d938f":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("2de66506e54747eb79c9"),o=n("4ee320a8137784c050e0");function i(){return function(e,t){var n=t(),i=n.common.restoreLoginResultUrl;"restoreLoginResult"!==n.auth.mode&&(e(Object(o.yb)()),e(Object(r.d)(i)))}}},"400d618db20c4ff01c08":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("2de66506e54747eb79c9"),o=n("fb6358edfd8976cf491c"),i=n("d980a6b4f65a3a13be8b"),a=n("4ee320a8137784c050e0");function c(){return function(e,t){var n=t().common.addUserUrl;e(Object(a.W)(!0)),o.a.request("auth/accounts").done(function(c){var u=c.csrf;o.a.setCsrfToken(u),e(Object(i.u)(u)),e(Object(a.tb)(c.accounts)),"edit"===t().auth.mode&&0===Object.keys(c.accounts.unitedAccounts).length&&e(Object(r.d)(n))}).fail(function(t){return e(Object(a.sb)(t.errors))}).always(function(){return e(Object(a.W)(!1))})}}},"415b2ec7a2c957bbe58a":function(e,t,n){"use strict";var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),i=n("8a2d1b95e05b6a321e74"),a=n.n(i),c=function(e){var t=e.cls,n=e.children;return o.a.createElement("h1",{className:"passp-title ".concat(t||"")},n)};c.defaultProps={isPopupTitle:!1},c.propTypes={cls:a.a.string,children:a.a.node.isRequired},t.a=c},"4361156a89db2be4395a":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("2de66506e54747eb79c9"),o=n("4ee320a8137784c050e0");function i(){return function(e,t){var n=t(),i=n.common.restoreLoginProcessUrl;"restoreLoginProcess"!==n.auth.mode&&(e(Object(o.xb)()),e(Object(r.d)(i)))}}},"438378fae3cc76ac2470":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("fb6358edfd8976cf491c"),o=n("81e3542ee6dfa9281cbe"),i=n("4ee320a8137784c050e0"),a=n("1359072b563fb7f15ef0");function c(){return function(e,t){var n=t(),c=n.challenge,u=c.phone,s=c.isConfirmWithCall,l=n.common,f=l.track_id,d=l.csrf,p=n.pagePopup.isShowPagePopup,b={number:u,confirm_method:"by_sms",track_id:f,csrf_token:d};s&&(b.confirm_method="by_flash_call"),e(Object(i.W)(!0)),e(Object(o.e)({errorText:"",errorCode:"",fieldValue:""})),r.a.request("phone-confirm-code-submit",b).done(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"ok"===t.status&&t.calling_number_template&&e(Object(o.e)({callFrom:t.calling_number_template})),"by_sms"===b.confirm_method&&t.number&&e(Object(o.e)({smsTo:t.number.international})),p||(e(Object(i.T)("challengeCall")),e(Object(i.U)(!0)))}).fail(function(t){var n=Array.isArray(t.errors)&&t.errors[0];e(Object(a.a)(n))}).always(function(){e(Object(i.W)(!1))})}}},"442e7e280b4a55cd8a6e":function(e,t,n){!function(t,r){"use strict";"object"==typeof e&&e.exports?e.exports=r(n("8d4307b24932d183c9b4")):t.passport=r(t.simpleCipher)}(this,function(e){"use strict";var t={init:function(){var e=$("body"),n=$("html");t.basePath="/registration-validations/",t.language=$("#language").val(),t.staticPath=e.attr("data-static-url"),t.soundManagerPath=t.staticPath+"js/soundmanager",t.soundManager=window.soundManager,t.track_id=$("#track_id").val(),t.country=$("#country").val(),t.logger_token=e.attr("data-logger-token"),t.metricsId=e.attr("data-metrics-id"),t.isTouch=n.hasClass("is-touch"),t.isTablet=n.hasClass("is-tablet"),t.sk=$("#sk").val(),t.csrf_token=e.data("csrf"),$("*[data-block]").each(function(){var e=t.ensureBlock($(this).attr("data-block"));e&&(e.construct(this,$(this).data("options")),e.isControl&&t.validator.register(e))})},ensureBlock:function(e){var n=e.split("_"),r=n.pop(),o=n.pop(),i=t.block(r);return i||(i=o?t.block(r,o,{}):t.block(r,{})),i}},n=/\s+/g,r=/^([a-zа-я0-9\+\.-]+)@([a-zа-я0-9-\.]+)(\.)([a-zа-я])+$/i,o=/[^ -~]/;return t.util={entityMap:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},escape:function(e){return String(e).replace(/[&<>"'\/]/g,function(e){return t.util.entityMap[e]})},keymap:{backspace:8,enter:13,esc:27,tab:9,cmd:224,"webkit-cmd":91,up:38,down:40},getUrlInfo:function(e){var t=document.createElement("a");return t.href=e,{hash:t.hash,host:t.host,hostname:t.hostname,href:t.href,origin:t.origin,pathname:t.pathname,port:t.port,protocol:t.protocol,search:t.search}},getUrlParam:function(e){for(var t=document.location.search.substr(1).split("&"),n=0,r=t.length;n<r;n++){var o=t[n].split("=");if(o[0]===e)return decodeURIComponent(o[1])}return""},getUrlParams:function(e){var t={},n=("string"==typeof e&&e.split("?")[1]||document.location.search.substr(1)).split("&");if(n.length)return n.forEach(function(e){var n=e.split("=");t[n.shift().trim()]=n.join("=")}),t},getUrlParamsV2:function(e){var t=(e=e||document.location.href).split("?")[1],n=t?t.split("&"):[],r={};if(n.length)return n.forEach(function(e){var t=e.split("=");r[t.shift().trim()]=t.join("=")}),r},getKeyCode:function(e){return e?e.keyCode||e.which:null},isKeyboardEvent:function(e){return null!==t.util.getKeyCode(e)&&["keydown","keyup","keypress"].indexOf(e.type)>-1},isKeyboardSubmit:function(e){return[13,32].indexOf(t.util.getKeyCode(e))>-1},isEmail:function(e){return r.test(t.util.normalize(e))},once:function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},abortRequest:function(e){e&&4!==e.readyState&&"abort"in e&&e.abort()},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},normalize:function(e){return"string"!=typeof e?"number"==typeof e?String(e):"":e.replace(n," ").trim()},reattach:function(e){var t=e.parent();e.detach(),t.append(e)},isCorrectDate:function(e){var t=e.split("-");return new Date(e+"T08:00:00+00:00").getMonth()+1===parseInt(t[1],10)},getCookie:function(e){if(document.cookie){var t={};return document.cookie.split(";").forEach(function(e){var n=e.split("=");t[n.shift().trim()]=n.join("=")}),t[e]||""}},checkPassword:function(e){return o.test(e)},omitEmpty:function(e){return Object.keys(e).forEach(function(t){e[t]||delete e[t]}),e}},t.api=function(){var n={},r={};function o(e){var t=[];if($.isPlainObject(e)){for(var n in e)e.hasOwnProperty(n)&&t.push(n+o(e[n]));return"{"+t.join(",")+"}"}return $.isArray(e)?(e.forEach(function(e){t.push(o(e))}),"["+t.join(",")+"]"):e?e.toString():""}return{log:function(n,r){var o;r=$.extend({},{loglevel:"info",encrypt:!1},r);var i={ev_tsf:(new Date).getTime(),loglevel:r.loglevel,token:t.logger_token,uid:window.uid,track_id:t.track_id,url:window.location.href};o=$.isPlainObject(n)?JSON.stringify($.extend({},i,n)):JSON.stringify($.extend({},i,{action:n})),r.encrypt&&(o=e.encode(t.track_id,o)),t.api.request("logger",{log:o})},request:function(e,i,a){var c,u={type:"POST"};if(!e||"string"!=typeof e&&!e.url)throw new Error("Method should be string or object with url");if(!i||!(i instanceof FormData)&&!$.isPlainObject(i))throw new Error("Params should be a plain object or FormData");"string"==typeof e?(c=e,u.url=e):(c=e.url,u.url=e.url,e.type&&(u.type=e.type)),a=a||{};var s,l=new $.Deferred;a.abortPrevious&&t.util.abortRequest(r[c]),a.cache&&(n[c]=n[c]||{},s=n[c][o(i)]);var f={type:u.type,url:e.match(/^(\/|https:\/\/)/)?e:t.basePath+e,data:i instanceof FormData?i:$.extend({},{track_id:t.track_id,csrf_token:t.csrf_token},i),dataType:"json"};void 0!==a.processData&&(f.processData=a.processData),void 0!==a.contentType&&(f.contentType=a.contentType);var d=s||$.ajax(f);return d.done(function(e){var t;t=$.isArray(e)?e.slice():$.extend({},e),l.resolve(t)}).fail(function(e){l.reject(e)}),a.cache?(n[c][o(i)]=l.promise(),d):(a.abortPrevious&&(r[c]=d),l.promise())},dropCaches:function(){r={},n={}},getTrackId:function(e){var n=new $.Deferred,r=this;return this.request("track",t.util.omitEmpty({type:e,passErrors:!0,sk:t.sk}),{abortPrevious:!1,cache:!1}).then(function(e){e&&e.id&&r.setTrackId(e.id),n.resolve(e)},function(e){n.reject(e)}),n.promise()},setTrackId:function(e){e&&(t.track_id=e,$("#track_id").val(e))},setCsrfToken:function(e){e&&(t.csrf_token=e)}}}(),t})},"4724c446d38c62224751":function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return m}),n.d(t,"d",function(){return y});var r=n("b912ecc4473ae8a2ff0b"),o=n.n(r);var i=/^https:\/\/(?:yandex|.+\.yandex)\.(?:ru|az|com\.am|com\.ge|co\.il|kg|lv|lt|md|tj|tm|uz|fr|ee|ua|by|kz|com|com\.tr)$/,a=/^https:\/\/[^/]*/,c=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};return t&&""!==t?"string"==typeof t?r["".concat(e,"-").concat(t.toLowerCase())]=!0:Object.keys(t).forEach(function(n){r["".concat(e,"-").concat(n.toLowerCase())]=t[n]}):r[e]=!0,Object.keys(n).forEach(function(t){n[t]&&("boolean"==typeof n[t]?r["".concat(e,"-").concat(t.toLowerCase())]=n[t]:r["".concat(e,"-").concat(t.toLowerCase(),"_").concat(n[t])]=!0)}),o()(r)}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://yandex.ru",n=a.exec(t);if(i.test(n)){if(window.parent!==window)try{window.parent.postMessage(e,t)}catch(e){}if(window.opener!==window)try{window.opener.postMessage(e,t)}catch(e){}}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.keys(e).forEach(function(n){""!==e[n]&&(t[n]=e[n])}),t},l=/[^\d]+/g,f=/(\d{2})(\d{3})(\d{3})(\d{4})/,d=/(\d{4})(\d{3})(\d{4})/,p=/(\d{1})(\d{3})(\d{3})(\d{2})(\d{2})/,b=/(\d{3})(\d{3})(\d{2})(\d{2})/,h=/(\d{1})(\d{3})(\d{3})/,m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.replace(l,"");return 12===e.length&&(t=t.replace(f,"+$1 $2 $3 $4")),11===t.length&&(t=["7","8"].includes(t[0])?t.replace(p,"$1 ($2) $3-$4-$5"):t.replace(d,"($1) $2 $3"),["7","1"].includes(t[0])&&(t="+".concat(t))),10===t.length&&(t=t.replace(b,"+7 ($1) $2-$3-$4")),t},y=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(l,"").replace(h,"$1 ($2) $3");return"8"===e[0]?e:"+".concat(e)}},"492f0884ca0d25627280":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("887066909d91988c03a4"),o=n("4ee320a8137784c050e0");function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(t,i){var a=i();t(Object(o.W)(!0)),a.auth.isCaptchaRequired?t(Object(r.a)(e,n)):t(e.apply(void 0,n))}}},"4a3a8965f3771f79f04b":function(e,t,n){"use strict";var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),i=n("0a81c721557e72a0975d"),a=n("8a2d1b95e05b6a321e74"),c=n.n(a),u=n("aeb629ea3b6b52a55f8e"),s=n("f469c14f5c3cd24dad9a"),l=n("415b2ec7a2c957bbe58a"),f=n("ce71044ed50ae6df54b1"),d=n("a1d676ee048a2b15fe67"),p=n("21ee08bda737248faf45"),b=n("f3e5b0b53b9a60481e9f");function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return _(g(n=function(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?g(e):t}(this,(e=y(t)).call.apply(e,[this].concat(i)))),"_handlePhoneChange",function(e){(0,n.props.updatePhoneNumber)(e)}),_(g(n),"_sendConfirmationCode",function(e){var t=n.props.sendConfirmationCode;e.preventDefault(),t()}),_(g(n),"_sendConfirmationCodeForSecurePhone",function(e){var t=n.props.sendConfirmationCode;e.preventDefault(),t(!0)}),_(g(n),"_clearSecurePhoneNumber",function(e){var t=n.props.clearSecurePhoneNumber;e.preventDefault(),t()}),_(g(n),"_maybeRenderClearForm",function(){var e=n.props,t=e.isCaptchaRequired,r=e.errors,i=e.phoneNumber;return e.securePhoneNumber?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,null,"Для продолжения необходимо подтвердить номер телефона"),o.a.createElement(u.a,{handlePhoneChange:n._handlePhoneChange,sentConfirmationCode:n._sendConfirmationCode,phoneNumber:i,isCaptchaRequired:t,clearPhoneForm:n._clearPhoneForm,action:"add",errors:r}))}),_(g(n),"_maybeRenderSecurePhoneConfirm",function(){var e,t=n.props,r=t.securePhoneNumber,i=t.errors;return i.length>0&&(e=b.a[i[0]]?b.a[i[0]]:b.a.internal),r?o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,null,o.a.createElement("span",{dangerouslySetInnerHTML:{__html:"Для продолжения необходимо подтвердить ваш номер телефона %phone".replace("%phone","<b>".concat(r,"</b>"))}})),o.a.createElement(d.a,null,e&&o.a.createElement("div",{className:"passp-form-field__error",dangerouslySetInnerHTML:{__html:e}}),o.a.createElement("div",{"data-t":"phone_submit",className:"passp-button"},o.a.createElement(f.a,{buttonType:"submit",buttonText:"Подтвердить",buttonTheme:"action",onClick:n._sendConfirmationCodeForSecurePhone})),o.a.createElement("div",{"data-t":"phone_reset",className:"passp-button"},o.a.createElement(f.a,{buttonType:"submit",buttonText:"Использовать другой номер",buttonTheme:"normal",onClick:n._clearSecurePhoneNumber})))):null}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,o.a.PureComponent),function(e,t,n){t&&m(e.prototype,t),n&&m(e,n)}(t,[{key:"render",value:function(){var e=this.props.trackId;return o.a.createElement(s.a,{cls:"phone-request"},o.a.createElement("input",{"data-t":"track_id",type:"hidden",value:e}),this._maybeRenderClearForm(),this._maybeRenderSecurePhoneConfirm())}}]),t}();O.propTypes={isCaptchaRequired:c.a.bool,phoneNumber:c.a.string,securePhoneNumber:c.a.string,trackId:c.a.string.isRequired,errors:c.a.array,updatePhoneNumber:c.a.func.isRequired,sendConfirmationCode:c.a.func.isRequired};var E={updatePhoneNumber:p.k,sendConfirmationCode:p.g,clearSecurePhoneNumber:p.f};t.a=Object(i.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.phoneConfirm,n=void 0===t?{}:t,r=e.common,o=(void 0===r?{}:r).track_id;return Object.assign({},n,{trackId:o})},E)(O)},"4ee320a8137784c050e0":function(e,t,n){"use strict";n.d(t,"M",function(){return r}),n.d(t,"O",function(){return o}),n.d(t,"N",function(){return a}),n.d(t,"k",function(){return c}),n.d(t,"h",function(){return u}),n.d(t,"g",function(){return s}),n.d(t,"A",function(){return l}),n.d(t,"j",function(){return f}),n.d(t,"i",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"p",function(){return b}),n.d(t,"o",function(){return y}),n.d(t,"C",function(){return g}),n.d(t,"B",function(){return v}),n.d(t,"l",function(){return _}),n.d(t,"E",function(){return O}),n.d(t,"G",function(){return E}),n.d(t,"H",function(){return w}),n.d(t,"I",function(){return k}),n.d(t,"D",function(){return T}),n.d(t,"J",function(){return j}),n.d(t,"F",function(){return S}),n.d(t,"w",function(){return P}),n.d(t,"x",function(){return R}),n.d(t,"z",function(){return A}),n.d(t,"v",function(){return q}),n.d(t,"y",function(){return N}),n.d(t,"d",function(){return x}),n.d(t,"f",function(){return U}),n.d(t,"L",function(){return L}),n.d(t,"m",function(){return M}),n.d(t,"q",function(){return I}),n.d(t,"K",function(){return D}),n.d(t,"c",function(){return F}),n.d(t,"b",function(){return B}),n.d(t,"a",function(){return H}),n.d(t,"t",function(){return V}),n.d(t,"u",function(){return W}),n.d(t,"r",function(){return G}),n.d(t,"s",function(){return $}),n.d(t,"n",function(){return z}),n.d(t,"W",function(){return K}),n.d(t,"Db",function(){return Q}),n.d(t,"V",function(){return Y}),n.d(t,"Fb",function(){return J}),n.d(t,"Cb",function(){return X}),n.d(t,"Gb",function(){return Z}),n.d(t,"Eb",function(){return ee}),n.d(t,"P",function(){return te}),n.d(t,"qb",function(){return ne}),n.d(t,"lb",function(){return re}),n.d(t,"kb",function(){return oe}),n.d(t,"ob",function(){return ie}),n.d(t,"jb",function(){return ae}),n.d(t,"mb",function(){return ce}),n.d(t,"Q",function(){return ue}),n.d(t,"rb",function(){return se}),n.d(t,"Y",function(){return le}),n.d(t,"S",function(){return fe}),n.d(t,"R",function(){return de}),n.d(t,"U",function(){return pe}),n.d(t,"T",function(){return be}),n.d(t,"pb",function(){return he}),n.d(t,"ib",function(){return me}),n.d(t,"gb",function(){return ye}),n.d(t,"fb",function(){return ge}),n.d(t,"hb",function(){return ve}),n.d(t,"Bb",function(){return _e}),n.d(t,"nb",function(){return Oe}),n.d(t,"X",function(){return Ee}),n.d(t,"bb",function(){return we}),n.d(t,"ab",function(){return ke}),n.d(t,"tb",function(){return Te}),n.d(t,"sb",function(){return je}),n.d(t,"ub",function(){return Se}),n.d(t,"vb",function(){return Ce}),n.d(t,"wb",function(){return Pe}),n.d(t,"Ab",function(){return Re}),n.d(t,"zb",function(){return Ae}),n.d(t,"xb",function(){return qe}),n.d(t,"yb",function(){return Ne}),n.d(t,"eb",function(){return xe}),n.d(t,"db",function(){return Ue}),n.d(t,"Z",function(){return Le}),n.d(t,"cb",function(){return Me});var r="UPDATE_LOGIN_VALUE",o="UPDATE_PASSWORD_VALUE",i="UPDATE_TOKENS_SUCCESS",a="UPDATE_MAGIC_TOKENS_SUCCESS",c="CHANGE_PROCESSED_ACCOUNT",u="CHANGE_MOBILE_MENU_VISIBILITY",s="CHANGE_MOBILE_MENU_TYPE",l="SET_PROCESSED_ACCOUNT_UID",f="CHANGE_PAGE_POPUP_VISIBILITY",d="CHANGE_PAGE_POPUP_TYPE",p="CHANGE_ACTIVE_ACCOUNT",b="LOGIN_SUGGESTED_ACCOUNT",h="REDIRECT_TO_RETPATH",m="REDIRECT_TO_BACKPATH",y="INPUT_LOGIN_SUCCESS",g="SHOW_ACCOUNTS_SUCCESS",v="SHOW_ACCOUNTS_FAIL",_="DOMIK_IS_LOADING",O="SWITCH_TO_MODE_EDIT",E="SWITCH_TO_MODE_RESTORE_LOGIN",w="SWITCH_TO_MODE_RESTORE_LOGIN_PROCESS",k="SWITCH_TO_MODE_RESTORE_LOGIN_RESULT",T="SWITCH_TO_MODE_ADDING_ACCOUNT",j="SWITCH_TO_MODE_WELCOME",S="SWITCH_TO_MODE_MAGIC",C="SETUP_BACK_PANE",P="SET_LOGIN_ERROR",R="SET_LOGIN_IS_ABLE_TO_RESTORE",A="SET_PASSWORD_ERROR",q="SET_CAPTCHA_ERROR",N="SET_MAGIC_ERROR",x="CAN_REGISTER",U="CHANGE_CAPTCHA_STATE",L="UPDATE_CAPTCHA_VALUE",M="FORCE_OTP_METHOD",I="SETUP_MODE",D="TOGGLE_MAIL_SENT_TOOLTIP",F="AUTH_MAIL_SENT",B="AUTH_MAIL_CONFIRMED",H="AUTH_MAIL_CANCELLED",V="SET_AUTH_MAIL_ERROR",W="SET_AUTH_MAIL_UPDATED",G="SET_AUTH_MAIL_DISABLED",$="SET_AUTH_MAIL_ENABLED",z="INIT_ADDITIONAL_DATA_REQUEST";function K(e){return{type:_,loading:e}}function Q(e){return{type:r,value:e}}function Y(e){return{type:c,account:e}}function J(e){return{type:o,value:e}}function X(e){return{type:L,value:e}}function Z(e,t){return{type:i,track_id:e,csrf_token:t}}function ee(e,t){return{type:a,track:e,csrf:t}}function te(e){var t=e.isCanRegister,n=e.registrationLogin,r=e.registrationType,o=e.registrationPhoneNumber,i=e.registrationCountry;return{type:x,isCanRegister:t,registrationLogin:n,registrationType:r,registrationPhoneNumber:o,registrationCountry:i}}function ne(e){return{type:C,pane:e}}function re(e){return{type:P,error:e}}function oe(e){return{type:R,isAbleToRestore:e}}function ie(e){return{type:A,error:e}}function ae(e){return{type:q,error:e}}function ce(e){return{type:N,error:e}}function ue(e){return{type:U,isCaptchaRequired:e}}function se(e){return{type:I,mode:e}}function le(e){return{type:M,isForceOTP:e}}function fe(e){return{type:u,visible:e}}function de(e){return{type:s,mobileMenuType:e}}function pe(e){return{type:f,visible:e}}function be(e){return{type:d,pagePopupType:e}}function he(e){return{type:l,processedAccountUid:e}}function me(e){return{type:F,code:e}}function ye(e){return{type:B,retpath:e}}function ge(e){return{type:H,status:e}}function ve(e){return{type:V,error:e}}function _e(e){return{type:W,isUpdated:e}}function Oe(){return{type:G}}function Ee(){return{type:$}}function we(e){return{type:b,account:e}}function ke(e){return{type:y,inputLogin:e}}function Te(e){return{type:g,accounts:e}}function je(e){return{type:v,errors:e}}function Se(){return{type:T}}function Ce(){return{type:O}}function Pe(e){return{type:S,isFromLoginSuggest:e}}function Re(){return{type:j}}function Ae(){return{type:E}}function qe(){return{type:w}}function Ne(){return{type:k}}function xe(){return{type:h}}function Ue(){return{type:m}}function Le(e){return{type:z,payload:e}}function Me(e){var t=document.createElement("form"),n=document.createElement("input");t.method="GET",t.action="/redirect",n.value=e,n.name="url",t.appendChild(n),document.body.appendChild(t),t.submit(),t.parentNode.removeChild(t)}},"5ae6357351fffc3d4dc4":function(e,t,n){"use strict";n.r(t);var r=n("442e7e280b4a55cd8a6e"),o=n.n(r),i=n("8af190b70a6bc55c6f1b"),a=n.n(i),c=n("63f14ac74ce296f77f4d"),u=n.n(c),s=n("0a81c721557e72a0975d"),l=n("2de66506e54747eb79c9"),f=n("89fa59dfd48f288c4600"),d=n.n(f),p=n("1c815411bb61500a2ec9"),b=n("fb6358edfd8976cf491c"),h=n("8a2d1b95e05b6a321e74"),m=n.n(h),y=n("103be25b8913a0141218"),g=n("b912ecc4473ae8a2ff0b"),v=n.n(g),_=n("3b099b882189775d0404"),O=n.n(_),E=n("ac563649a2d33b90d3d7"),w=n.n(E);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),j(this,S(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,i["Component"]),function(e,t,n){t&&T(e.prototype,t),n&&T(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.isShowMobileMenu;return a.a.createElement("div",{className:v()("passp-page-overlay",{"passp-page-overlay_showed":t||n,"passp-page-overlay_mobile-menu":n})},t&&a.a.createElement(w.a,{cls:"passp-page-overlay__loader",progress:!0,size:"l"}))}}],[{key:"mapStateToProps",value:function(e){return{loading:e.auth.loading,isShowMobileMenu:e.mobileMenu.isShowMobileMenu}}}]),t}();P.defaultProps={loading:!1,isShowMobileMenu:!1},P.propTypes={loading:m.a.bool.isRequired,isShowMobileMenu:m.a.bool.isRequired};var R=Object(s.c)(P.mapStateToProps)(P),A=n("1def7208fe0e21ce16a3"),q=n.n(A),N=n("2a8109ac628133d5b12f"),x=n("6720f7e94eecea453799");function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var F=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?I(e):t}(this,M(t).call(this,e))).handleBack=n.handleBack.bind(I(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,i["Component"]),function(e,t,n){t&&L(e.prototype,t),n&&L(e,n)}(t,[{key:"handleBack",value:function(e){e.preventDefault();var t=this.props,n=t.link,r=t.backPane,o=t.dispatch,i=t.mode;if(r)o(Object(l.d)(r,{isPreviousStep:!0}));else if(n){var a={addingAccount:N.Cc,edit:N.Lc,welcome:N.Fc};x.a.send([a[i],N.n]),window.location=n}}},{key:"render",value:function(){var e=this.props,t=e.backPane,n=e.link,r=e.isBackPaneVisible;return void 0===r||r?a.a.createElement(q.a,{url:t||n||"#",theme:"normal",onClick:this.handleBack,cls:v()("passp-previous-step-button",{"passp-previous-step-button_hidden":!t&&!n})},a.a.createElement("span",{className:"passp-previous-step-button__icon","data-pane":t,"data-link":n})):null}}],[{key:"mapStateToProps",value:function(e){var t=e.router,n=void 0===t?{}:t,r=e.common,o=r.pane,i=r.backPane,a=r.retpath,c=r.backpath,u=r.noreturn,s=r.isBackPaneVisible,l=e.auth.mode,f=(n.location||{}).pathname;return{backPane:o===i||f===i?null:i,link:!u&&(c||a),isBackPaneVisible:s,mode:l}}}]),t}();F.propTypes={backPane:m.a.string,link:m.a.string,mode:m.a.string,dispatch:m.a.func.isRequired,isBackPaneVisible:m.a.bool};var B=Object(s.c)(F.mapStateToProps)(F),H=n("1f7eb4558e149d7a2535"),V=n("4ee320a8137784c050e0"),W=n("dabe4e15a14257fec3c9"),G=n("400d618db20c4ff01c08");function z(e){return function(t,n){var r=n(),o=r.settings.ua,i=r.common,a=i.profile_url,c=i.csrf,u=i.yu,s=i.retpath,l=o&&o.isTouch,f={csrf_token:c,retpath:s||a,uid:e,yu:u};t(Object(V.W)(!0)),b.a.request("auth/logout_and_forget",f).done(function(){t(Object(G.a)()),l&&t(Object(V.S)(!1))}).fail(function(){t(Object(G.a)())}).always(function(){return t(Object(V.W)(!1))})}}var K=n("a6fd5b93bd0fb4ce3d49"),Q=n.n(K);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var te=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?Z(e):t}(this,X(t).call(this,e))).logoutProcessedAccount=n.logoutProcessedAccount.bind(Z(n)),n.logoutAndForgetProcessedAccount=n.logoutAndForgetProcessedAccount.bind(Z(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(t,i["Component"]),function(e,t,n){t&&J(e.prototype,t),n&&J(e,n)}(t,[{key:"logoutProcessedAccount",value:function(e){var t=this.props,n=t.processedAccountUid,r=t.logoutAccount;e.preventDefault(),r(n),x.a.send([N.Lc,N.M])}},{key:"logoutAndForgetProcessedAccount",value:function(e){var t=this.props,n=t.processedAccountUid,r=t.logoutAndForget;e.preventDefault(),r(n),x.a.send([N.Lc,N.L])}},{key:"render",value:function(){return a.a.createElement("div",{className:"passp-logout-mobile-menu"},a.a.createElement(Q.a,{cls:"passp-mobile-menu__button passp-logout-mobile-menu__logout-button",theme:"normal",size:"l",width:"max",type:"button",onClick:this.logoutProcessedAccount},a.a.createElement("span",{className:"passp-mobile-menu__button-text"},a.a.createElement("span",{className:"passp-mobile-menu__button-icon"}),"Выйти из аккаунта")),a.a.createElement(Q.a,{cls:"passp-mobile-menu__button passp-logout-mobile-menu__forget-button",theme:"normal",size:"l",width:"max",type:"button",onClick:this.logoutAndForgetProcessedAccount},a.a.createElement("span",{className:"passp-mobile-menu__button-text"},a.a.createElement("span",{className:"passp-mobile-menu__button-icon"}),"Выйти и удалить из списка")))}}],[{key:"mapStateToProps",value:function(e){return{processedAccountUid:e.mobileMenu.processedAccountUid}}},{key:"mapDispatchToProps",value:function(e){var t={logoutAccount:W.a,logoutAndForget:z};return Object.assign({},Object(H.b)(t,e),{dispatch:e})}}]),t}();te.propTypes={processedAccountUid:m.a.string,logoutAccount:m.a.func.isRequired,logoutAndForget:m.a.func.isRequired};var ne=Object(s.c)(te.mapStateToProps,te.mapDispatchToProps)(te),re=n("256898036d63d335a892");function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var se=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?ce(e):t}(this,ae(t).call(this,e))).forgetProcessedAccount=n.forgetProcessedAccount.bind(ce(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,i["Component"]),function(e,t,n){t&&ie(e.prototype,t),n&&ie(e,n)}(t,[{key:"forgetProcessedAccount",value:function(e){e.preventDefault();var t=this.props,n=t.processedAccountUid;(0,t.forgetAccount)(n),x.a.send([N.Lc,N.L])}},{key:"render",value:function(){return a.a.createElement("div",{className:"passp-forget-mobile-menu"},a.a.createElement(Q.a,{cls:"passp-mobile-menu__button passp-forget-mobile-menu__forget-button",theme:"normal",size:"l",width:"max",type:"button",onClick:this.forgetProcessedAccount},a.a.createElement("span",{className:"passp-mobile-menu__button-text"},a.a.createElement("span",{className:"passp-mobile-menu__button-icon"}),"Удалить из списка")))}}],[{key:"mapStateToProps",value:function(e){return{processedAccountUid:e.mobileMenu.processedAccountUid}}},{key:"mapDispatchToProps",value:function(e){var t={forgetAccount:re.a};return Object.assign({},Object(H.b)(t,e),{dispatch:e})}}]),t}();function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}se.propTypes={processedAccountUid:m.a.string,forgetAccount:m.a.func.isRequired};var he={logout:ne,forget:Object(s.c)(se.mapStateToProps,se.mapDispatchToProps)(se)},me=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?pe(e):t}(this,de(t).call(this,e))).addOuthsideClickHandler=n.addOuthsideClickHandler.bind(pe(n)),n.removeOutsideClickHandler=n.removeOutsideClickHandler.bind(pe(n)),n.onOutsideClick=n.onOutsideClick.bind(pe(n)),n.onMenuClick=n.onMenuClick.bind(pe(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(t,i["Component"]),function(e,t,n){t&&fe(e.prototype,t),n&&fe(e,n)}(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.isShowMobileMenu;e.isShowMobileMenu!==t&&(!e.isShowMobileMenu&&t?this.addOuthsideClickHandler():this.removeOutsideClickHandler())}},{key:"addOuthsideClickHandler",value:function(){var e=this;setTimeout(function(){window.addEventListener?window.addEventListener("click",e.onOutsideClick):window.attachEvent("onclick",e.onOutsideClick)},300)}},{key:"removeOutsideClickHandler",value:function(){window.removeEventListener?window.removeEventListener("click",this.onOutsideClick):window.detachEvent("onclick",this.onOutsideClick)}},{key:"onOutsideClick",value:function(){var e=this.props,t=e.isShowMobileMenu,n=e.changeMobileMenuVisibility;t&&n(!1)}},{key:"onMenuClick",value:function(e){e.stopPropagation()}},{key:"render",value:function(){var e=this.props.mobileMenuType,t=he[e];return a.a.createElement("div",{className:"passp-mobile-menu",onClick:this.onMenuClick},t&&a.a.createElement(t,null))}}],[{key:"mapStateToProps",value:function(e){var t=e.mobileMenu;return{isShowMobileMenu:t.isShowMobileMenu,mobileMenuType:t.mobileMenuType}}},{key:"mapDispatchToProps",value:function(e){var t={changeMobileMenuVisibility:V.S};return Object.assign({},Object(H.b)(t,e),{dispatch:e})}}]),t}();me.propTypes={isShowMobileMenu:m.a.bool.isRequired,mobileMenuType:m.a.string,changeMobileMenuVisibility:m.a.func.isRequired};var ye,ge=Object(s.c)(me.mapStateToProps,me.mapDispatchToProps)(me),ve=n("63721097bf159e4fbcc6"),_e=n.n(ve),Oe=n("f90d1e31363e3e95f33e"),Ee=n("32f2686eeb882a4ae234"),we=n("2e00c83ced56b4015524"),ke={init:function(e){this.setStore(e)},start:function(e){this.restart(e)},restart:function(){var e=this,t=this.getStore().getState().common,n=t.track_id,r=t.csrf,o=t.retpath;e.track_id=n,e.csrf_token=r,e.retpath=o,e.trackNotFoundErrorCount=0,e.stop(),e._interval=300,window.intervalTimeout=setTimeout(function(){e._interval=1e3},6e4),window.redirectTimeout=setTimeout(function(){window.location.reload(!0)},6e5),e._stopped=!1,e.restartPolling()},restartPolling:function(){var e=this;e._stopped||setTimeout(function(){e.poll()},e._interval)},poll:function(){var e=this,t=this.getStore();$.ajax("/auth/letter/status/",{data:{track_id:e.track_id,csrf_token:e.csrf_token},dataType:"json",type:"POST"}).done(function(n){if(n.state&&"auth_challenge"===n.state)return e.stop(),void(window.location.href="/auth/challenges/?track_id=".concat(n.track_id));if("ok"===n.status&&n.magic_link_confirmed){e.stop(),x.a.send([N.Pc]);var r="/auth/finish/?track_id=".concat(e.track_id);return e.retpath&&(r+="&retpath=".concat(encodeURIComponent(e.retpath))),void(window.location.href=r)}if(n.errors){var o=t.getState().mailAuth.isEnabled,i="magic_link.invalidated"===n.errors[0]&&!o?"messenger_link.invalidated":n.errors[0],a=["track.not_found","track_id.empty"].includes(i);if(t.dispatch(Object(V.U)(!1)),a||(e.stop(),t.dispatch(Object(V.hb)(i))),"captcha.required"===i)return t.dispatch(Object(V.ob)("")),t.dispatch(Object(V.Q)(!0)),t.dispatch(Object(V.fb)(!0)),void t.dispatch(Object(we.a)());if("magic_link.invalidated"===i||"messenger_link.invalidated"===i){var c=t.getState(),u=c.mailAuth.isUpdatedAuthLetterStatus,s=c.auth.processedAccount;if(!u){var l=Object.assign({},s);l.allowed_auth_methods=l.allowed_auth_methods.filter(function(e){return"magic_link"!==e}),t.dispatch(Object(V.V)(l))}}if(a){if(e.trackNotFoundErrorCount>5)return e.stop(),void t.dispatch(Object(V.hb)("global"));e.trackNotFoundErrorCount++,e.restartPolling()}}e.restartPolling()})},setStore:function(e){ye=e},getStore:function(){return ye},stopPoll:function(){this._stopped=!0},stop:function(){clearTimeout(window.intervalTimeout),clearTimeout(window.redirectTimeout),this.stopPoll()}};function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return!t||"object"!==Te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Re=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Se(this,Ce(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(t,i["Component"]),function(e,t,n){t&&je(e.prototype,t),n&&je(e,n)}(t,[{key:"componentDidMount",value:function(){ke.start()}},{key:"componentWillUnmount",value:function(){ke.stop()}},{key:"render",value:function(){return a.a.createElement("div",null)}}]),t}();function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Le=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?xe(e):t}(this,Ne(t).call(this,e))).handleCloseClick=n.handleCloseClick.bind(xe(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(t,i["PureComponent"]),function(e,t,n){t&&qe(e.prototype,t),n&&qe(e,n)}(t,[{key:"handleCloseClick",value:function(){var e=this.props,t=e.dispatch;(0,e.closePopup)(),t(Object(Ee.a)())}},{key:"render",value:function(){var e=this.props,t=e.email,n=e.isMagicLinkOnly,r="Письмо отправлено\nна <strong>%s</strong>".replace("%s",t);return a.a.createElement("div",{className:"al-send-popup passp-page-popup__content"},a.a.createElement("div",{className:"al-send-popup__content"},a.a.createElement("p",{className:"al-send-popup__description",dangerouslySetInnerHTML:{__html:r}}),a.a.createElement(Oe.a,{text:"Когда вы нажмёте на кнопку в письме, увидите на экране три символа<br/>\nУбедитесь, что там те же символы, что здесь"}),!n&&a.a.createElement("span",{role:"button",className:"al-send-popup__close-link link_theme_normal",onClick:this.handleCloseClick},"Войти с помощью пароля")),a.a.createElement(Re,null))}}],[{key:"mapStateToProps",value:function(e){var t=e.auth.processedAccount,n=t.email,r=t.allowed_auth_methods;return{email:n,isMagicLinkOnly:r&&1===r.length&&"magic_link"===r[0]}}}]),t}(),Me=Object(s.c)(Le.mapStateToProps)(Le);Le.propTypes={email:m.a.string.isRequired,isMagicLinkOnly:m.a.bool.isRequired,closePopup:m.a.func.isRequired,dispatch:m.a.func.isRequired};var Ie=n("f829dce6e807e79181ee"),De=n("5b1ba08c9bbd7767f36c"),Fe=n("ce71044ed50ae6df54b1"),Be=n("ff5e0c92347047de2c64");var He=n("21ee08bda737248faf45"),Ve=n("8150816e8c486cf8a0f0"),We={changeNativeInputValue:Ve.a,updateConfirmationCode:He.j,sendConfirmationCode:He.g,submitConfirmationCode:He.i,setErrors:He.h},Ge=n("f3e5b0b53b9a60481e9f"),$e=n("415b2ec7a2c957bbe58a"),ze=function(e){var t=e.cls,n=e.children;return a.a.createElement("div",{className:"passp-page-popup__content passp-".concat(t,"-popup")},n)};ze.propTypes={cls:m.a.string.isRequired,children:m.a.node.isRequired};var Ke=ze,Qe=n("a1d676ee048a2b15fe67");function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),tt(Ze(n=function(e,t){return!t||"object"!==Ye(t)&&"function"!=typeof t?Ze(e):t}(this,Xe(t).call(this,e))),"_handleConfirmationCodeChange",function(e){(0,n.props.updateConfirmationCode)(e)}),tt(Ze(n),"_approvePhone",function(e){var t=n.props.submitConfirmationCode;e.preventDefault(),t()}),tt(Ze(n),"_sendConfirmationCode",function(e){var t=n.props.sendConfirmationCode;e.preventDefault(),t()}),tt(Ze(n),"_sendConfirmationCodeForSecurePhone",function(e){var t=n.props.sendConfirmationCode;e.preventDefault(),t(!0)}),tt(Ze(n),"_startTimer",function(){n.timerInterval=setInterval(function(){var e=Number(new Date);n.setState({currentTimestamp:e}),e>=Number(n.props.denyResendUntil)&&n._stopTimer()},1e3)}),tt(Ze(n),"_stopTimer",function(){n.timerInterval&&(clearInterval(n.timerInterval),n.timerInterval=null)}),tt(Ze(n),"_getSendAgainButtonText",function(e){var t=n.props.denyResendUntil,r=n.state.currentTimestamp;return e?a.a.createElement("span",null,"Отправить ещё код","  ",a.a.createElement(Be.a,{startTime:r,endTime:Number(t)})):"Отправить ещё код"}),tt(Ze(n),"_getPopupTitle",function(){var e=n.props,t=e.phoneNumber,r=e.securePhoneNumber,o=r?r.replace(/ /gi,"&nbsp;"):t.replace(/ /gi,"&nbsp;");return"Введите код из СМС, отправленный на номер %phone".replace("%phone","<b>".concat(o,"</b>"))}),n.timerInterval=null,n.state={currentTimestamp:Number(new Date)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(t,a.a.PureComponent),function(e,t,n){t&&Je(e.prototype,t),n&&Je(e,n)}(t,[{key:"componentDidMount",value:function(){this._stopTimer(),this._startTimer()}},{key:"componentWillUpdate",value:function(e){this.props.denyResendUntil!==e.denyResendUntil&&(this.setState({currentTimestamp:Number(new Date)}),this._startTimer())}},{key:"componentWillUnmount",value:function(){this._handleConfirmationCodeChange(""),this.props.changeNativeInputValue("confirmation_code",""),this.props.setErrors([]),this._stopTimer()}},{key:"render",value:function(){var e=this.props,t=e.confirmationCode,n=e.isCaptchaRequired,r=e.denyResendUntil,o=e.errors,i=e.securePhoneNumber,c=this.state.currentTimestamp+1e3<Number(r),u=null;o.length&&(u=Ge.a[o[0]]?Ge.a[o[0]]:Ge.a.internal);var s=this._getSendAgainButtonText(c);return a.a.createElement(Ke,{cls:"phone-confirmation"},a.a.createElement($e.a,null,a.a.createElement("span",{dangerouslySetInnerHTML:{__html:this._getPopupTitle()}})),a.a.createElement(Qe.a,{cls:"phone-confirmation"},a.a.createElement(Ie.b,{fieldLabel:"Код из смс",fieldValue:t,fieldName:"confirmation_code",fieldType:"text",fieldError:u,onFieldChange:this._handleConfirmationCodeChange}),n&&a.a.createElement(De.a,null),a.a.createElement("div",{"data-t":"phone_enter_confirmation_code_submit",className:"passp-button"},a.a.createElement(Fe.a,{buttonType:"submit",buttonText:"Подтвердить",buttonTheme:"action",onClick:this._approvePhone})),a.a.createElement("div",{"data-t":"phone_send_again",className:"passp-button"},a.a.createElement(Fe.a,{buttonType:"button",buttonText:s,buttonTheme:"normal",disabled:c,onClick:i?this._sendConfirmationCodeForSecurePhone:this._sendConfirmationCode}))))}}]),t}();nt.propTypes={confirmationCode:m.a.string,phoneNumber:m.a.string,securePhoneNumber:m.a.string,isCaptchaRequired:m.a.bool,denyResendUntil:m.a.number,errors:m.a.array,changeNativeInputValue:m.a.func.isRequired,updateConfirmationCode:m.a.func.isRequired,sendConfirmationCode:m.a.func.isRequired,submitConfirmationCode:m.a.func.isRequired,setErrors:m.a.func.isRequired};var rt=Object(s.c)(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).phoneConfirm},We)(nt),ot=n("740c2fc16c4b61e29fcb"),it=n.n(ot);var at=n("c1c5f474e631e6348cde"),ct=n("492f0884ca0d25627280"),ut=n("2dad848e8287918fdb83");var st=n("7bec9e0f5607402a990d"),lt=n("376afcf70180c39dfa41"),ft=n("bb35215c4a46a2d07b5f");function dt(e){return function(t,n){if(!e||!e.trim())return t(Object(ut.q)(["key.empty"])),void t(Object(V.W)(!1));var r=n(),o=r.additionalDataRequest.track_id,i=r.auth,a=i.processedAccount,c=i.defaultAccount,u=r.common.csrf,s=a||c,l={key:e,csrf_token:u,track_id:o,uid:s?s.uid:""};t(Object(ut.n)()),b.a.request("email/confirm/by_code_v2",l).done(function(){t(Object(at.a)("submit_email_confirmation_code","Показ привязки емейла","Успешная привязка")),t(Object(lt.a)("no"))}).fail(function(e){for(var n=e.errors.length,r=0;r<n;r++){var o=e.errors[r];if("password.required"===o)return void t(Object(ft.a)());if("email.already_confirmed"===o)return void t(Object(st.a)())}t(Object(ut.q)(e.errors)),t(Object(V.W)(!1))})}}var pt=n("dafcc85692a2c3d9f452");function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==bt(t)&&"function"!=typeof t?yt(e):t}(this,mt(t).call(this,e))).handleConfirmationCodeChange=n.handleConfirmationCodeChange.bind(yt(n)),n.approveEmail=n.approveEmail.bind(yt(n)),n.sentConfirmationCode=n.sentConfirmationCode.bind(yt(n)),n.goBack=n.goBack.bind(yt(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(t,i["Component"]),function(e,t,n){t&&ht(e.prototype,t),n&&ht(e,n)}(t,[{key:"componentDidMount",value:function(){(0,this.props.sendAdditionalDataRequestMetrics)("show_email",null,"Показ")}},{key:"componentWillUnmount",value:function(){this.props.clearErrors(),this.handleConfirmationCodeChange(""),this.props.changeNativeInputValue("confirmation_code","")}},{key:"handleConfirmationCodeChange",value:function(e){(0,this.props.changeConfirmationCode)(e)}},{key:"approveEmail",value:function(e){e.preventDefault();var t=this.props;(0,t.sendApiRequest)(dt,t.confirmationCode)}},{key:"sentConfirmationCode",value:function(e){e.preventDefault();var t=this.props,n=t.sendApiRequest,r=t.email;n(pt.a,r)}},{key:"goBack",value:function(){var e=this.props,t=e.sendApiRequest;(0,e.sendAdditionalDataRequestMetrics)("skip_email",null,"Отложить"),t(lt.a)}},{key:"render",value:function(){var e=this.props,t=e.confirmationCode,n=e.isCaptchaRequired,r=e.errors,o=e.email,i=null;return r.length&&(i=Ge.a[r[0]]?Ge.a[r[0]]:Ge.a.internal),a.a.createElement(Ke,{cls:"email-confirmation"},a.a.createElement($e.a,null,a.a.createElement("span",{dangerouslySetInnerHTML:{__html:"Код подтверждения отправлен на почту %1, введите его в поле ниже:".replace("%1","<b>".concat(it()(o),"</b>"))}})),a.a.createElement(Qe.a,{cls:"email-confirmation"},a.a.createElement(Ie.b,{fieldLabel:"Код из письма",fieldValue:t,fieldName:"confirmation_code",fieldType:"text",fieldError:i,onFieldChange:this.handleConfirmationCodeChange}),n&&a.a.createElement(De.a,null),a.a.createElement("div",{"data-t":"email_enter_confirmation_code_submit",className:"passp-button"},a.a.createElement(Fe.a,{buttonType:"submit",buttonText:"Подтвердить",buttonTheme:"action",onClick:this.approveEmail})),a.a.createElement("div",{"data-t":"email_send_again",className:"passp-button"},a.a.createElement(Fe.a,{buttonType:"button",buttonText:"Отправить ещё код",buttonTheme:"normal",onClick:this.sentConfirmationCode})),a.a.createElement("div",{"data-t":"email_enter_confirmation_code_skip",className:"passp-button"},a.a.createElement(Fe.a,{buttonType:"button",buttonText:"Подтвердить позже",buttonTheme:"normal",onClick:this.goBack}))))}}]),t}();vt.propTypes={confirmationCode:m.a.string,email:m.a.string,isCaptchaRequired:m.a.bool,errors:m.a.array,sendAdditionalDataRequestMetrics:m.a.func.isRequired,changeConfirmationCode:m.a.func.isRequired,changeNativeInputValue:m.a.func.isRequired,sendApiRequest:m.a.func.isRequired,clearErrors:m.a.func.isRequired};var _t=Object(s.c)(function(e){var t=e.additionalDataRequest;return{email:t.email,confirmationCode:t.confirmationCode,isConfirmationCodeSent:t.isConfirmationCodeSent,isCaptchaRequired:t.isCaptchaRequired,action:t.action,denyResendUntil:t.denyResendUntil,errors:t.errors}},function(e){var t={sendAdditionalDataRequestMetrics:at.a,changeConfirmationCode:ut.k,sendApiRequest:ct.a,clearErrors:ut.n,changeNativeInputValue:Ve.a};return Object.assign({},Object(H.b)(t,e),{dispatch:e})})(vt);var Ot=n("7db34b3d0bca6392a74a");function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jt(e,t){return(jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var St={internal:"Внутренняя ошибка: обновите страницу и попробуйте еще раз",phone:{undefined:"Пожалуйста, заполните поле",empty:"Пожалуйста, заполните поле",invalid:"Недопустимый формат номера",callsLimitExceeded:"Превышен лимит звонков, попробуйте позже",smsLimitExceeded:"Превышен лимит отправляемых сообщений, попробуйте позже",rateLimitExceeded:"Превышено количество попыток подтверждения телефона. Попробуйте еще раз позже"}},Ct=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Et(t)&&"function"!=typeof t?Tt(e):t}(this,kt(t).call(this,e))).submitForm=n.submitForm.bind(Tt(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jt(e,t)}(t,i["Component"]),function(e,t,n){t&&wt(e.prototype,t),n&&wt(e,n)}(t,[{key:"componentDidMount",value:function(){x.a.send([N.vb,N.Db])}},{key:"submitForm",value:function(e){e.preventDefault(),this.props.checkPhone()}},{key:"render",value:function(){var e=this.props.phoneError,t=e&&(St.phone[e]||St.internal)||"";return a.a.createElement(Ke,{cls:"restore-login-enter-captcha"},a.a.createElement($e.a,null,"Введите символы"),a.a.createElement(Qe.a,{onSubmit:this.submitForm,cls:"enter-captcha"},a.a.createElement(De.a,{isShowCaptcha:!0,forcedError:t}),a.a.createElement("div",{"data-t":"submit-captcha-btn",className:"passp-button"},a.a.createElement(Fe.a,{buttonText:"Далее",buttonType:"submit",buttonTheme:"action"}))))}}]),t}();Ct.propTypes={checkPhone:m.a.func.isRequired,phoneError:m.a.string.isRequired};var Pt=Object(s.c)(function(e){return{phoneError:e.restoreLogin.errors.phone||""}},function(e){return{checkPhone:function(){return e(Object(ct.a)(Ot.a))}}})(Ct);function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function At(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qt(e,t){return!t||"object"!==Rt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xt(e,t){return(xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ut=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qt(this,Nt(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xt(e,t)}(t,i["Component"]),function(e,t,n){t&&At(e.prototype,t),n&&At(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.staticPath,r=e.code,o=r?t:"Внутренняя ошибка: обновите страницу и попробуйте еще раз";return a.a.createElement("div",null,r&&a.a.createElement("ul",{className:"al-send-popup__code"},r.map(function(e,t){return a.a.createElement("li",{className:"popup__code-item",key:t},a.a.createElement("img",{className:"popup__code-item-img",src:"".concat(n,"/i/magic-letter/").concat(e,".png"),alt:"magic link code image"}))})),a.a.createElement("div",{className:"al-send-popup__code-descr",dangerouslySetInnerHTML:{__html:o}}))}}]),t}(),Lt=Object(s.c)(function(e){var t=e.messengerAuth,n=e.settings;return{code:t.code,staticPath:n.staticPath}})(Ut);function Mt(e){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ft(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bt(e,t){return(Bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ut.propTypes={text:m.a.string.isRequired,staticPath:m.a.string.isRequired,code:m.a.array.isRequired};var Ht=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Mt(t)&&"function"!=typeof t?Ft(e):t}(this,Dt(t).call(this,e))).handleCloseClick=n.handleCloseClick.bind(Ft(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bt(e,t)}(t,i["Component"]),function(e,t,n){t&&It(e.prototype,t),n&&It(e,n)}(t,[{key:"handleCloseClick",value:function(){var e=this.props,t=e.dispatch;(0,e.closePopup)(),t(Object(Ee.a)())}},{key:"render",value:function(){return a.a.createElement(Ke,{cls:"al-send-popup"},a.a.createElement($e.a,null,a.a.createElement("span",{dangerouslySetInnerHTML:{__html:"Откройте сообщение от Яндекс.Паспорта в %icon <b>Чатах</b> и сравните символы:".replace("%icon",'<span class="auth-messenger-icon"></span>')}})),a.a.createElement(Lt,{text:"Если символы на экране и в сообщении совпадают, подтвердите вход."}),a.a.createElement("span",{role:"button",className:"al-send-popup__close-link link_theme_normal",onClick:this.handleCloseClick},"Войти с помощью пароля"),a.a.createElement(Re,null))}}]),t}(),Vt=Object(s.c)(function(e){return{messengerAuth:e.messengerAuth}})(Ht);Ht.propTypes={dispatch:m.a.func.isRequired,closePopup:m.a.func.isRequired};var Wt=n("fb09d2078d24ea3d0b13");function Gt(e){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zt(e,t){return!t||"object"!==Gt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kt(e){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qt(e,t){return(Qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zt(this,Kt(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qt(e,t)}(t,i["Component"]),function(e,t,n){t&&$t(e.prototype,t),n&&$t(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.sendRequestToMessenger,n=e.closePopup;return a.a.createElement(Ke,{cls:"al-send-popup"},a.a.createElement($e.a,{cls:"auth-messenger_popup-title"},"У вас не установлено приложение или вы не вошли в аккаунт"),a.a.createElement("h4",{className:"auth-messenger_title"},a.a.createElement("div",{className:"passp-magic-promo-title__image"}),a.a.createElement("span",null,"Как войти с помощью приложения Яндекс")),a.a.createElement("ol",{className:"auth-messenger-how-to_list"},a.a.createElement("li",null,"Установите приложение Яндекс на ваше устройство",a.a.createElement("div",{className:"auth-messenger_app-btns"},a.a.createElement("a",{className:"passp-install-yandex-app-link",target:"_blank",href:"https://redirect.appmetrica.yandex.com/serve/458404701881276453?c=passport_bage",title:"Google Play",rel:"noopener noreferrer"},a.a.createElement("div",{className:"passp-gplay-icon"})),a.a.createElement("a",{className:"passp-install-yandex-app-link",target:"_blank",href:"https://redirect.appmetrica.yandex.com/serve/386347106450828605?c=passport_bage",title:"App Store",rel:"noopener noreferrer"},a.a.createElement("div",{className:"passp-appstore-icon"})))),a.a.createElement("li",null,"Откройте приложение и войдите в ваш аккаунт"),a.a.createElement("li",null,"Теперь вы можете подтверждать вход в аккаунт не вводя пароль")),a.a.createElement("div",{className:"auth-messenger_links"},a.a.createElement(q.a,{cls:"popup-action",theme:"normal",size:"m",pseudo:"yes",text:"Попробовать еще раз",onClick:t}),a.a.createElement(q.a,{cls:"popup-action",theme:"normal",size:"m",pseudo:"yes",text:"Войти с помощью пароля",onClick:n})))}}]),t}(),Jt=Object(s.c)(function(e){return{messengerAuth:e.messengerAuth}},function(e){var t={sendRequestToMessenger:Wt.a,invalidateAuthFromLetter:Ee.a};return Object(H.b)(t,e)})(Yt);Yt.propTypes={messengerAuth:m.a.obj,sendRequestToMessenger:m.a.func.isRequired,invalidateAuthFromLetter:m.a.func.isRequired,closePopup:m.a.func.isRequired};var Xt=n("75e2eb8d7a528e88a9ed"),Zt=n("81e3542ee6dfa9281cbe"),en=n("f465ae3c0c877deeba74"),tn=n("1359072b563fb7f15ef0");var nn=n("d015a73834d877d84607"),rn=n("438378fae3cc76ac2470");function on(e){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cn(e){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sn(e,t){return(sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ln(un(n=function(e,t){return!t||"object"!==on(t)&&"function"!=typeof t?un(e):t}(this,cn(t).call(this,e))),"updateFieldValue",function(e){n.props.dispatch(Object(Zt.h)(e))}),ln(un(n),"sendSms",function(){var e=n.props.dispatch;e(Object(Zt.e)({isConfirmWithCall:!1})),e(Object(V.U)(!1)),e(Object(rn.a)()),n.updateRepeatBtnAction()}),ln(un(n),"callAgain",function(){(0,n.props.dispatch)(Object(nn.a)()),n.updateRepeatBtnAction()}),ln(un(n),"submitForm",function(e){e.preventDefault(),n.props.dispatch(function(e,t){var n=t(),r=n.challenge.fieldValue,o=n.common,i={code:r,track_id:o.track_id,csrf_token:o.csrf};e(Object(V.W)(!0)),e(Object(Zt.f)({code:"",text:""})),b.a.request("phone-confirm-code",i).done(function(){"ok"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).status?(e(Object(en.a)()),x.a.send([N.o,N.y])):(e(Object(tn.a)("internal")),e(Object(V.W)(!1)))}).fail(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Array.isArray(t.errors)&&t.errors[0];"confirmations_limit.exceeded"!==n?(e(Object(tn.a)(n)),e(Object(V.W)(!1)),x.a.send([N.o,"".concat(N.t," ").concat(n)])):e(Object(tn.a)("challenge.confirmations_limit.exceeded"))})})}),ln(un(n),"updateRepeatBtnAction",function(){n.setState(function(e){return{isRepeatActionBtnDisabled:!e.isRepeatActionBtnDisabled}})}),n.state={isRepeatActionBtnDisabled:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sn(e,t)}(t,i["Component"]),function(e,t,n){t&&an(e.prototype,t),n&&an(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){u.a.findDOMNode(e.codeField).querySelector("input").focus()},300),x.a.send([N.o,N.u])}},{key:"componentWillUnmount",value:function(){this.props.dispatch(Object(Zt.e)({errorText:"",errorCode:"",fieldValue:""}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.btnText,o=t.smsBtnText,i=t.errorText,c=t.value,u=t.maxFieldLength,s=t.isConfirmWithCall;return a.a.createElement(Ke,{cls:"restore-login-enter-confirmation-code"},a.a.createElement($e.a,null,a.a.createElement("div",{dangerouslySetInnerHTML:{__html:n}})),a.a.createElement(Qe.a,{onSubmit:this.submitForm,cls:"enter-confirmation-code"},a.a.createElement(Ie.b,{ref:function(t){e.codeField=t},fieldLabel:"",fieldValue:c,fieldName:"code",fieldType:"tel",fieldError:i,fieldOptions:{maxLength:u},onFieldChange:this.updateFieldValue}),a.a.createElement("div",{"data-t":"submit-phone-code-btn",className:"passp-button"},a.a.createElement(Fe.a,{buttonText:"Далее",buttonType:"submit",buttonTheme:"action"})),a.a.createElement("div",{"data-t":"send-code-again-btn",className:"passp-button passp-send-again-btn challenge-submit"},this.state.isRepeatActionBtnDisabled&&a.a.createElement(Xt.a,{onTimerEnd:this.updateRepeatBtnAction}),s&&a.a.createElement(Fe.a,{buttonText:r,buttonType:"button",buttonTheme:"normal",disabled:this.state.isRepeatActionBtnDisabled,onClick:this.callAgain}),a.a.createElement(Fe.a,{buttonText:o,buttonType:"button",buttonTheme:"normal",disabled:this.state.isRepeatActionBtnDisabled,onClick:this.sendSms}))))}}]),t}(),dn=Object(s.c)(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).challenge,t=e.errorText,n=e.fieldValue,r=e.callFrom,o=e.smsTo,i=e.isConfirmWithCall;return{isConfirmWithCall:i,errorText:t,title:i?"Сейчас вам поступит звонок с номера %s. Введите последние четыре цифры номера".replace("%s",r):"Введите код из СМС, отправленный на номер %1".replace("%1",'<span class="passp-phone-template">'.concat(o,"</span>")),btnText:i?"Перезвонить еще раз":" Отправить код еще раз",smsBtnText:i?"Подтвердить по СМС":" Отправить код еще раз",value:n,maxFieldLength:i?4:6}})(fn);function pn(e){return function(t,n){if(!e||!e.trim())return t(Object(ut.q)(["code.empty"])),void t(Object(V.W)(!1));var r=n(),o=r.additionalDataRequest.track_id,i=r.common.csrf,a={code:e,track_id:o,csrf_token:i};t(Object(ut.n)()),b.a.request("phone/confirm_and_bind_secure/commit_v2",a).done(function(){t(Object(at.a)("submit_phone_confirmation_code","Показ привязки телефона","Успешная привязка")),t(Object(lt.a)("no"))}).fail(function(e){for(var n=e.errors.length,r=0;r<n;r++){var o=e.errors[r];if("password.required"===o)return void t(Object(ft.a)());if("phone_secure.bound_and_confirmed"===o)return void t(Object(st.a)())}t(Object(ut.q)(e.errors)),t(Object(V.W)(!1))})}}fn.propTypes={isConfirmWithCall:m.a.bool,errorText:m.a.string,title:m.a.string,btnText:m.a.string,smsBtnText:m.a.string,value:m.a.string,maxFieldLength:m.a.number,dispatch:m.a.func.isRequired};var bn=n("15a1cb3beb4f3d6cfe2c");function hn(e){return(hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yn(e){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vn(e,t){return(vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _n=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==hn(t)&&"function"!=typeof t?gn(e):t}(this,yn(t).call(this,e))).handleConfirmationCodeChange=n.handleConfirmationCodeChange.bind(gn(n)),n.approvePhone=n.approvePhone.bind(gn(n)),n.sendConfirmationCode=n.sendConfirmationCode.bind(gn(n)),n.goBack=n.goBack.bind(gn(n)),n.startTimer=n.startTimer.bind(gn(n)),n.stopTimer=n.stopTimer.bind(gn(n)),n.timerInterval=null,n.state={currentTimestamp:Number(new Date)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vn(e,t)}(t,i["Component"]),function(e,t,n){t&&mn(e.prototype,t),n&&mn(e,n)}(t,[{key:"componentDidMount",value:function(){this.stopTimer(),this.startTimer()}},{key:"componentWillUpdate",value:function(e){this.props.denyResendUntil!==e.denyResendUntil&&(this.setState({currentTimestamp:Number(new Date)}),this.startTimer())}},{key:"componentWillUnmount",value:function(){this.handleConfirmationCodeChange(""),this.props.changeNativeInputValue("confirmation_code",""),this.props.clearErrors(),this.stopTimer()}},{key:"handleConfirmationCodeChange",value:function(e){(0,this.props.changeConfirmationCode)(e)}},{key:"approvePhone",value:function(e){e.preventDefault();var t=this.props;(0,t.sendApiRequest)(pn,t.confirmationCode)}},{key:"sendConfirmationCode",value:function(e){e.preventDefault();var t=this.props,n=t.sendApiRequest,r=t.phoneNumber;n(bn.a,r)}},{key:"goBack",value:function(){var e=this.props,t=e.sendApiRequest;(0,e.sendAdditionalDataRequestMetrics)("skip_phone",null,"Отложить"),t(lt.a)}},{key:"startTimer",value:function(){var e=this;this.timerInterval=setInterval(function(){var t=Number(new Date);e.setState({currentTimestamp:t}),t>=Number(e.props.denyResendUntil)&&e.stopTimer()},1e3)}},{key:"stopTimer",value:function(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null)}},{key:"getSendAgainButtonText",value:function(e){var t=this.props.denyResendUntil,n=this.state.currentTimestamp;return e?a.a.createElement("span",null,"Отправить ещё код","  ",a.a.createElement(Be.a,{startTime:n,endTime:Number(t)})):"Отправить ещё код"}},{key:"render",value:function(){var e=this.props,t=e.confirmationCode,n=e.isCaptchaRequired,r=e.denyResendUntil,o=e.popupTitle,i=e.errors,c=this.state.currentTimestamp+1e3<Number(r),u=null;i.length&&(u=Ge.a[i[0]]?Ge.a[i[0]]:Ge.a.internal);var s=this.getSendAgainButtonText(c);return a.a.createElement(Ke,{cls:"phone-confirmation"},a.a.createElement($e.a,null,a.a.createElement("span",{dangerouslySetInnerHTML:{__html:o}})),a.a.createElement(Qe.a,{cls:"phone-confirmation"},a.a.createElement(Ie.b,{fieldLabel:"Код из смс",fieldValue:t,fieldName:"confirmation_code",fieldType:"text",fieldError:u,onFieldChange:this.handleConfirmationCodeChange}),n&&a.a.createElement(De.a,null),a.a.createElement("div",{"data-t":"phone_enter_confirmation_code_submit",className:"passp-button"},a.a.createElement(Fe.a,{buttonType:"submit",buttonText:"Подтвердить",buttonTheme:"action",onClick:this.approvePhone})),a.a.createElement("div",{"data-t":"phone_send_again",className:"passp-button"},a.a.createElement(Fe.a,{buttonType:"button",buttonText:s,buttonTheme:"normal",disabled:c,onClick:this.sendConfirmationCode})),a.a.createElement("div",{"data-t":"phone_enter_confirmation_code_skip",className:"passp-button"},a.a.createElement(Fe.a,{buttonType:"button",buttonText:"Подтвердить позже",buttonTheme:"normal",onClick:this.goBack}))))}}]),t}();_n.propTypes={confirmationCode:m.a.string,phoneNumber:m.a.string,popupTitle:m.a.string,isCaptchaRequired:m.a.bool,denyResendUntil:m.a.number,errors:m.a.array,changeConfirmationCode:m.a.func.isRequired,sendAdditionalDataRequestMetrics:m.a.func.isRequired,sendApiRequest:m.a.func.isRequired,changeNativeInputValue:m.a.func.isRequired,clearErrors:m.a.func.isRequired};var On=Object(s.c)(function(e){var t=e.additionalDataRequest,n=t.phone,r=t.confirmationCode,o=t.isConfirmationCodeSent,i=t.isCaptchaRequired,a=t.action,c=t.denyResendUntil,u=t.errors,s=n.number.replace(/ /gi,"&nbsp;");return{confirmationCode:r,isConfirmationCodeSent:o,isCaptchaRequired:i,action:a,denyResendUntil:c,errors:u,popupTitle:"Код подтверждения отправлен на номер %1, введите его в поле ниже:".replace("%1","<b>".concat(s,"</b>")),phoneNumber:n.number,phoneId:n.id}},function(e){var t={changeConfirmationCode:ut.k,sendAdditionalDataRequestMetrics:at.a,sendApiRequest:ct.a,clearErrors:ut.n,changeNativeInputValue:Ve.a};return Object.assign({},Object(H.b)(t,e),{dispatch:e})})(_n),En=n("ffbb5ec73c99301ac9c2"),wn=n.n(En);function kn(e){return(kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e){return(jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cn(e,t){return(Cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pn=/^.$/,Rn={internal:"Внутренняя ошибка: обновите страницу и попробуйте еще раз",undefined:"Пожалуйста, заполните поле",empty:"Пожалуйста, заполните поле",notMatched:"Неправильный код подтверждения",callsLimitExceeded:"Превышен лимит звонков, попробуйте позже",smsLimitExceeded:"Превышен лимит отправляемых сообщений, попробуйте позже",rateLimitExceeded:"Превышен лимит проверки кода подтверждения. Отмените операцию или запросите код повторно"},An=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==kn(t)&&"function"!=typeof t?Sn(e):t}(this,jn(t).call(this,e))).handleChange=n.handleChange.bind(Sn(n)),n.getValue=n.getValue.bind(Sn(n)),n.getInputByNum=n.getInputByNum.bind(Sn(n)),n.handleKeyDown=n.handleKeyDown.bind(Sn(n)),n.getInputs=n.getInputs.bind(Sn(n)),n.state={isAutomaticallySend:!0,confirmationCodeInputs:n.getInputs()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cn(e,t)}(t,i["Component"]),function(e,t,n){t&&Tn(e.prototype,t),n&&Tn(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this.getInputByNum(1);e&&setTimeout(function(){return e.focus()},100)}},{key:"componentDidUpdate",value:function(e){e.confirmationCodeLength!==this.props.confirmationCodeLength&&this.setState({confirmationCodeInputs:this.getInputs()})}},{key:"getInputs",value:function(){return wn()(1,this.props.confirmationCodeLength+1)}},{key:"getInputByNum",value:function(e){return document.getElementById("".concat("confirmation_code_input_").concat(e))}},{key:"handleKeyDown",value:function(e,t){var n=this.getInputByNum(t);if(!n)return!0;if(8!==e.keyCode)return e.target.value&&Pn.test(e.key)&&(n.value=""),!0;if(e.preventDefault(),!e.target.value.slice(-1)){if(1!==t){var r=this.getInputByNum(t-1);r&&r.focus()}return!0}return n.value="",!0}},{key:"getValue",value:function(){var e=this;return this.state.confirmationCodeInputs.map(function(t){var n=e.getInputByNum(t);return n?(n.value||"").trim():""}).join("")}},{key:"handleChange",value:function(e,t){e.preventDefault();var n=this.getInputByNum(t);if(n){var r=this.props,o=r.confirmationCodeLength,i=r.changeCode,a=r.sendCode;if((n.value||"").trim().length>1&&(n.value=e.target.value.slice(-1)),t<o){var c=this.getInputByNum(t+1);c&&c.focus()}var u=this.getValue();i(u),u.length===o&&this.state.isAutomaticallySend&&(this.setState({isAutomaticallySend:!1}),a())}}},{key:"render",value:function(){var e=this,t=this.props,n=t.confirmMethod,r=t.codeError,o=r&&(Rn[r]||Rn.internal)||"";return a.a.createElement("div",{className:"passp-confirmation-code-field"},a.a.createElement("div",{className:"passp-confirmation-code-inputs"},this.state.confirmationCodeInputs.map(function(t){return a.a.createElement("input",{onKeyDown:function(n){return e.handleKeyDown(n,t)},onChange:function(n){return e.handleChange(n,t)},key:"".concat(n).concat(t),type:"text",id:"".concat("confirmation_code_input_").concat(t),autoComplete:"off",autoCapitalize:"off",autoCorrect:"off"})})),o&&a.a.createElement("div",{className:"passp-form-field__error",dangerouslySetInnerHTML:{__html:o}}))}}]),t}();An.propTypes={sendCode:m.a.func.isRequired,changeCode:m.a.func.isRequired,codeError:m.a.string,confirmationCodeLength:m.a.number.isRequired,confirmMethod:m.a.string.isRequired};var qn=An;var Nn=n("b2d0f77fd033b41cb6bc"),xn=n("4361156a89db2be4395a"),Un=n("287b99d6936bf6df3e65");function Ln(e,t){var n=e.restoreLogin,r=n.isCallExp,o=n.isFlashCallExp,i=n.confirmMethod,a=[N.vb],c="by_sms"===i;r?a.push(N.ib):o?a.push(N.jb):a.push(N.kb),Array.isArray(t)&&t.length?(a.push(c?N.ub:N.sb),a.push(t.join(","))):a.push(c?N.Lb:N.Ib),x.a.send(a)}function Mn(e){return(Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function In(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dn(e){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bn(e,t){return(Bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Hn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Mn(t)&&"function"!=typeof t?Fn(e):t}(this,Dn(t).call(this,e))).getSendAgainButtonText=n.getSendAgainButtonText.bind(Fn(n)),n.submitForm=n.submitForm.bind(Fn(n)),n.enableConfirmationCodeResend=n.enableConfirmationCodeResend.bind(Fn(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bn(e,t)}(t,i["Component"]),function(e,t,n){t&&In(e.prototype,t),n&&In(e,n)}(t,[{key:"componentDidMount",value:function(){x.a.send([N.vb,N.Fb]),this.props.changeCode("")}},{key:"componentDidUpdate",value:function(e){e.codeError,this.props.codeError}},{key:"enableConfirmationCodeResend",value:function(){this.props.changeCheckPhoneStatus(!1)}},{key:"getSendAgainButtonText",value:function(){var e=this.props,t=e.isPhoneCheckSent,n=e.sendAgainBtnText;return a.a.createElement("span",null,n,t&&a.a.createElement(Xt.a,{onTimerEnd:this.enableConfirmationCodeResend}))}},{key:"submitForm",value:function(e){e.preventDefault(),this.props.confirmPhone()}},{key:"render",value:function(){var e=this.props,t=e.confirmPhone,n=e.checkPhone,r=e.changeCode,o=e.codeError,i=e.title,c=e.isPhoneCheckSent,u=e.canSwitchConfirmMethod,s=e.confirmationCodeLength,l=e.switchConfirmationMethod,f=e.isCallConfirmationDisabled,d=e.confirmMethod,p=this.getSendAgainButtonText();return a.a.createElement(Ke,{cls:"restore-login-enter-confirmation-code"},a.a.createElement($e.a,null,a.a.createElement("div",{dangerouslySetInnerHTML:{__html:i}})),a.a.createElement(Qe.a,{onSubmit:this.submitForm,cls:"enter-confirmation-code"},a.a.createElement(qn,{confirmationCodeLength:s,confirmMethod:d,changeCode:r,sendCode:t,codeError:o}),a.a.createElement("div",{"data-t":"submit-phone-code-btn",className:"passp-button"},a.a.createElement(Fe.a,{buttonText:"Далее",buttonType:"submit",buttonTheme:"action"})),a.a.createElement("div",{"data-t":"send-code-again-btn",className:"passp-button passp-send-again-btn"},a.a.createElement(Fe.a,{buttonText:p,buttonType:"button",buttonTheme:"normal",disabled:c||f,onClick:n})),u&&a.a.createElement("div",{"data-t":"switch-confirmation-method-btn",className:"passp-button"},a.a.createElement(Fe.a,{buttonText:"Подтвердить по СМС",buttonType:"button",buttonTheme:"normal",disabled:c,onClick:l}))))}}]),t}();function Vn(e){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gn(e){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zn(e,t){return(zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Hn.propTypes={confirmPhone:m.a.func.isRequired,changeCheckPhoneStatus:m.a.func.isRequired,checkPhone:m.a.func.isRequired,changeCode:m.a.func.isRequired,switchConfirmationMethod:m.a.func.isRequired,isPhoneCheckSent:m.a.bool.isRequired,canSwitchConfirmMethod:m.a.bool.isRequired,codeError:m.a.string.isRequired,isCallConfirmationDisabled:m.a.bool.isRequired,title:m.a.string.isRequired,sendAgainBtnText:m.a.string.isRequired,confirmMethod:m.a.string.isRequired,confirmationCodeLength:m.a.number.isRequired};var Kn={authLetter:Me,additionalDataRequestPhoneConfirmation:On,phoneConfirmation:rt,emailConfirmation:_t,restoreLoginEnterCaptcha:Pt,restoreLoginEnterConfirmationCode:Object(s.c)(function(e){var t=e.restoreLogin,n=t.phone,r=t.isPhoneCheckSent,o=t.isPhoneOverheated,i=t.callingNumberTemplate,a=t.errors,c=a.code,u=a.phone,s=t.confirmMethod,l=(n||"").trim().replace(/ /gi,"&nbsp;"),f="Введите код из СМС, отправленный на номер %1".replace("%1",l),d=6,p="Отправить ещё код",b=!1,h="callsLimitExceeded"===c||"callsLimitExceeded"===u;return"by_sms"!==s&&(p="Перезвонить ещё раз",b=!0),"by_call"===s&&(f="Сейчас мы вам позвоним. Пожалуйста, введите ниже код, который мы назовём."),"by_flash_call"===s&&(f="Сейчас вам поступит звонок с номера %s. Введите последние четыре цифры номера".replace("%s","<span class='passp-phone-template'>".concat(i,"</span>")),d=4),{codeError:c||"",confirmMethod:s,isCallConfirmationDisabled:(o||h)&&b,title:f,isPhoneCheckSent:r,confirmationCodeLength:d,sendAgainBtnText:p,canSwitchConfirmMethod:b}},function(e){return{confirmPhone:function(){return e(function(e,t){var n=t(),r={track_id:n.common.track_id,code:n.restoreLogin.confirmationCode};e(Object(Nn.t)()),b.a.request("auth/restore_login/confirm_phone",r).done(function(){e(Object(V.U)(!1)),e(Object(V.T)("")),e(Object(xn.a)()),x.a.send([N.vb,N.ob]),Ln(t())}).fail(function(n){var r=n.errors||[];r.includes("calls_limit.exceeded")&&e(Object(Nn.r)(!0)),e(Object(Nn.u)(Object(Un.c)(r))),x.a.send([N.vb,N.nb]),Ln(t(),r)})})},checkPhone:function(){return e(Object(Ot.a)(!0))},changeCheckPhoneStatus:function(t){return e(Object(Nn.m)(t))},changeCode:function(t){return e(Object(Nn.n)(t))},switchConfirmationMethod:function(){e(Object(Nn.w)("by_sms")),e(Object(Ot.a)())}}})(Hn),authMessenger:Vt,authMessengerInfo:Jt,challengeCall:dn},Qn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Vn(t)&&"function"!=typeof t?$n(e):t}(this,Gn(t).call(this,e))).closePopup=n.closePopup.bind($n(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zn(e,t)}(t,i["Component"]),function(e,t,n){t&&Wn(e.prototype,t),n&&Wn(e,n)}(t,[{key:"closePopup",value:function(){this.props.changePagePopupVisibility(!1)}},{key:"render",value:function(){var e=this.props.pagePopupType,t=Kn[e],n="authLetter"!==e&&"authMessenger"!==e;return a.a.createElement("div",{className:"passp-page-popup"},n&&a.a.createElement(Q.a,{theme:"default",size:"m",onClick:this.closePopup,cls:"passp-page-popup__close-btn"},a.a.createElement(_e.a,{type:"cross"})),t&&a.a.createElement(t,{closePopup:this.closePopup}))}}],[{key:"mapStateToProps",value:function(e){var t=e.pagePopup;return{isShowPagePopup:t.isShowPagePopup,pagePopupType:t.pagePopupType}}},{key:"mapDispatchToProps",value:function(e){var t={changePagePopupVisibility:V.U};return Object.assign({},Object(H.b)(t,e),{dispatch:e})}}]),t}(),Yn=Object(s.c)(Qn.mapStateToProps,Qn.mapDispatchToProps)(Qn);Qn.propTypes={pagePopupType:m.a.string,changePagePopupVisibility:m.a.func.isRequired};var Jn=n("14ba22521ff803c76888"),Xn=n.n(Jn);function Zn(e){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tr(e,t){return!t||"object"!==Zn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nr(e){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rr(e,t){return(rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var or=["/auth","/auth/add","/auth/list","/auth/preregister"],ir=/^\/auth\/(preregister)(\/)?/,ar=/^\/auth\/register\/lite/,cr=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=tr(this,nr(t).call(this,e))).isRuLogo=!e.lang||-1!==["ru","uk"].indexOf(e.lang),n.logoName="ys-".concat(n.isRuLogo?"ru":"en","-").concat(n.isRuLogo?"98":"102","x42"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rr(e,t)}(t,i["Component"]),function(e,t,n){t&&er(e.prototype,t),n&&er(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.location,n=e.registrationUrl,r=e.yandexSupportUrl,o=e.origin,i=e.goToRegistration,c=e.retpathUrl,u=e.switchToLoginPage,s=e.switchToListPage,l=e.editUrl,f=e.addUserUrl,d=e.tld,p=e.minimal,b=e.isRestoreLoginMode,h=e.isQRPromo1Enabled,m=e.registrationLinkText,y=e.mode,g=e.pane,_=ar.test(t.pathname);return a.a.createElement("div",{className:"passp-auth-header"},a.a.createElement(ur,{location:t,mode:y||"edit",switchToListPage:s,switchToLoginPage:u,editUrl:l,addUserUrl:f,registrationUrl:n,yandexSupportUrl:r,origin:o,registrationLinkText:m,isRestoreLoginMode:b,goToRegistration:i,retpathUrl:c,minimal:p,pane:g}),!_&&a.a.createElement(Xn.a,{cls:v()("passp-logo",{"passp-logo_ru":this.isRuLogo,"passp-logo_qr-promo":"magic"===y&&h}),name:this.logoName,type:"link",tabIndex:"-1",url:"//yandex.".concat(d)}))}}]),t}();function ur(e){var t=e.location,n=e.mode,r=e.origin,o=e.yandexSupportUrl,c=e.switchToListPage,u=e.switchToLoginPage,s=e.editUrl,l=e.addUserUrl,f=e.registrationUrl,d=e.registrationLinkText,p=e.isRestoreLoginMode,b=e.goToRegistration,h=e.minimal,m=e.pane,y=or.indexOf(t.pathname)>-1,g=!ir.test(t.pathname)&&y,_="addAvatar"===n,O=t&&"/auth/challenge"===t.pathname,E="china"===r,w=!y&&"registerLite"!==n&&"restore-password"!==n;return _||O||"/auth/reg"===m||"/register/link"===m?null:p?a.a.createElement(q.a,{cls:"passp-auth-header-link passp-auth-header-link_visible",onClick:u,url:l,theme:"normal"},"Я вспомнил логин"):E?a.a.createElement(i.Fragment,null,a.a.createElement(q.a,{cls:v()("passp-auth-header-link",{"passp-auth-header-link_visible_china":g}),url:o,target:"_blank",theme:"normal"},"Сообщить о проблеме"),a.a.createElement(q.a,{cls:v()("passp-auth-header-link",{"passp-auth-header-link_visible":w}),onClick:c,url:s,theme:"normal"},"Другой аккаунт")):a.a.createElement(i.Fragment,null,!h&&a.a.createElement(q.a,{cls:v()("passp-auth-header-link",{"passp-auth-header-link_visible":g}),onClick:b,url:f,theme:"normal"},d),a.a.createElement(q.a,{cls:v()("passp-auth-header-link",{"passp-auth-header-link_visible":w}),onClick:c,url:s,theme:"normal"},"Другой аккаунт"))}function sr(e){return(sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fr(e){return(fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pr(e,t){return(pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}cr.propTypes={location:m.a.object,registrationUrl:m.a.string,goToRegistration:m.a.func.isRequired,switchToLoginPage:m.a.func.isRequired,switchToListPage:m.a.func.isRequired,editUrl:m.a.string,addUserUrl:m.a.string,tld:m.a.string,origin:m.a.string,yandexSupportUrl:m.a.string,lang:m.a.string,minimal:m.a.object,isRestoreLoginMode:m.a.bool,isQRPromo1Enabled:m.a.bool,registrationLinkText:m.a.string,mode:m.a.string,retpathUrl:m.a.string,pane:m.a.string},ur.propTypes={location:m.a.object,mode:m.a.string,switchToListPage:m.a.func.isRequired,switchToLoginPage:m.a.func.isRequired,editUrl:m.a.string,addUserUrl:m.a.string,registrationUrl:m.a.string,yandexSupportUrl:m.a.string,registrationLinkText:m.a.string,isRestoreLoginMode:m.a.bool,goToRegistration:m.a.func.isRequired,minimal:m.a.bool,origin:m.a.string,pane:m.a.string};var br=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==sr(t)&&"function"!=typeof t?dr(e):t}(this,fr(t).call(this,e))).toggleLangswitcherPopup=n.toggleLangswitcherPopup.bind(dr(n)),n.onOutsideClick=n.onOutsideClick.bind(dr(n)),n.state={langPopupOpen:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pr(e,t)}(t,i["Component"]),function(e,t,n){t&&lr(e.prototype,t),n&&lr(e,n)}(t,[{key:"componentDidMount",value:function(){window.addEventListener?window.addEventListener("click",this.onOutsideClick):window.attachEvent("onclick",this.onOutsideClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener?window.removeEventListener("click",this.onOutsideClick):window.detachEvent("onclick",this.onOutsideClick)}},{key:"toggleLangswitcherPopup",value:function(e){e.stopPropagation(),this.setState(function(e){return{langPopupOpen:!e.langPopupOpen}})}},{key:"onOutsideClick",value:function(){this.setState({langPopupOpen:!1})}},{key:"render",value:function(){var e=this.props,n=e.tld,r=e.lang,o=e.options,i=e.currentYear,c=e.helpLink,u=e.hasSwitcher,s=this.state.langPopupOpen;return a.a.createElement("footer",{className:"passp-footer"},a.a.createElement("div",{className:"passp-footer__wrapper"},a.a.createElement("div",{className:"passp-footer__incognito-link"},a.a.createElement("span",{className:"passp-footer__item"},"ru"===n&&a.a.createElement(q.a,{onClick:function(){x.a.send(["Нажатие на ссылку инкогнито в футере"])},theme:"normal",target:"_blank",url:"https://yandex.".concat(n,"/support/common/browsers-settings/incognito.html")},"Используйте режим инкогнито на чужом компьютере")||"Используйте режим инкогнито на чужом компьютере")),a.a.createElement("div",{className:"passp-footer__main-block"},u&&a.a.createElement("span",{onKeyUp:t.handleEnterKey,className:"passp-footer__item"},a.a.createElement(q.a,{onClick:this.toggleLangswitcherPopup,theme:"normal",pseudo:!0,cls:"passp-footer__item-cap"},r),a.a.createElement("span",{className:v()("passp-footer__lang-list",{"passp-footer__lang-list_opened":s,"passp-footer__lang-list_closed":!s})},a.a.createElement("ul",null,o.map(function(e,t){return a.a.createElement("li",{className:"passp-footer__lang-list-item",key:t},a.a.createElement(q.a,{theme:"normal",url:e.url},e.text))})))),a.a.createElement("span",{className:"passp-footer__item"},a.a.createElement(q.a,{url:c,theme:"normal",target:"_blank"},"Помощь")),a.a.createElement("span",{className:"passp-footer__item"},a.a.createElement("span",{className:"passp-footer__copyright"},"© ".concat("ru"===n?"2001-":"").concat(i,", ")),a.a.createElement(q.a,{theme:"normal",url:"//yandex.".concat(n)},"Яндекс")))))}}],[{key:"handleEnterKey",value:function(e){13===e.keyCode&&e.target.click()}}]),t}();br.propTypes={tld:m.a.string.isRequired,lang:m.a.string.isRequired,options:m.a.array.isRequired,helpLink:m.a.string.isRequired,currentYear:m.a.number.isRequired,hasSwitcher:m.a.bool.isRequired};var hr=Object(s.c)(function(e){var t,n=e.settings,r=n.tld,o=n.env,i=n.help,a=n.lang,c=n.language,u=n.langlist,s=(new Date).getFullYear(),l=r;["az","com.am","com.ge","kg","md","tj","tm","uz"].indexOf(l)>-1?l="ru":["co.il","fr","lv","lt","ee","fi","pl"].indexOf(l)>-1&&(l="com"),t=u&&"intranet"!==o.name?u.filter(function(e){return e.id!==a&&e.id!==c}).map(function(e){return{text:e.name,url:e.link}}):[];var f=((i||{}).passport||"#").replace("%tld%",l),d="intranet"===o.name,p="com"!==r&&!d&&t.length>0;return{tld:r,lang:a||c,options:t,helpLink:f,currentYear:s,hasSwitcher:p}})(br);var mr=n("a3c2d05881d3875b5dbb"),yr=n("1149451ba27e85f43882"),gr=n("154f4cb3d35e7b354bf9");function vr(e){return(vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Or(e){return(Or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Er(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wr(e,t){return(wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var kr=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==vr(t)&&"function"!=typeof t?Er(e):t}(this,Or(t).call(this,e))).goToRegistration=n.goToRegistration.bind(Er(n)),n.sendAnotherAccountMetrics=n.sendAnotherAccountMetrics.bind(Er(n)),n.switchToListPage=n.switchToListPage.bind(Er(n)),n.switchToLoginPage=n.switchToLoginPage.bind(Er(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wr(e,t)}(t,i["Component"]),function(e,t,n){t&&_r(e.prototype,t),n&&_r(e,n)}(t,[{key:"goToRegistration",value:function(e){var t=this.props,n=t.mode,r=t.isPreRegisterExp,o=t.isPreRegisterWithSocialExp,i=t.dispatch,a=t.isRegisterWithSuggestToRestoreByPhoneInDaHouse,c={addingAccount:N.Cc,edit:N.Lc,welcome:N.Fc};if(x.a.send([c[n],N.H]),a)return e.preventDefault(),i(Object(gr.a)());(r||o)&&(e.preventDefault(),i(Object(yr.a)()))}},{key:"sendAnotherAccountMetrics",value:function(){var e=this.props.mode,t={addingAccount:N.Cc,edit:N.Lc,welcome:N.Fc};x.a.send([t[e],N.D])}},{key:"switchToListPage",value:function(e){e.preventDefault();var t=this.props,n=t.accounts,r=void 0===n?{}:n,o=t.isShowPagePopup,i=t.dispatch;this.sendAnotherAccountMetrics(),o&&i(Object(V.U)(!1)),Object.keys(r).length>1?i(function(e,t){var n=t(),r=n.common.editUrl;"edit"!==n.auth.mode&&(e(Object(l.d)(r)),e(Object(V.qb)(null)),e(Object(V.vb)()))}):(i(Object(V.Db)("")),i(Object(Ve.a)("login","")),i(Object(mr.a)()))}},{key:"switchToLoginPage",value:function(e){e.preventDefault();var t=this.props.dispatch;t(Object(V.Db)("")),t(Object(V.U)(!1)),t(Object(V.T)("")),t(Object(Ve.a)("login","")),t(Object(mr.a)())}},{key:"render",value:function(){var e=this.props,t=e.location,n=e.registrationUrl,r=e.editUrl,o=e.retpathUrl,i=e.addUserUrl,c=e.yandexSupportUrl,u=e.origin,s=e.tld,l=e.lang,f=e.bgNumber,d=e.minimal,p=e.isTouch,b=e.isMobile,h=e.isTablet,m=e.isShowMobileMenu,y=e.isShowPagePopup,g=e.isRestoreLoginMode,_=e.isQRPromo1Enabled,E=e.isQRPromoPart2Enabled,w=e.registrationLinkText,k=e.mode,T=e.pane,j=h||!b,S=t&&"/auth/challenge"===t.pathname;return a.a.createElement("div",{className:"passp-flex-wrapper"},a.a.createElement("div",{className:v()("passp-page",{"passp-page_minimal":d,"passp-show-mobile-menu":p&&m})},a.a.createElement(O.a,null),j&&a.a.createElement("div",{className:"passp-bg passp-bg_".concat(f)}),a.a.createElement("div",{className:"passp-flex-wrapper"},a.a.createElement("div",{className:"passp-content"},_&&a.a.createElement("div",{id:"qr-promo-tooltip",className:"qr-promo__tooltip qr-promo__tooltip-1"},"Входите с помощью приложения Яндекс"),!p&&E&&a.a.createElement("div",{id:"qr-promo-tooltip-large",className:"qr-promo__tooltip qr-promo__tooltip-part2"},a.a.createElement("div",{className:"qr-promo__tooltip-wrapper"},a.a.createElement("h6",{className:"qr-promo__tooltip-title"},"Входите быстрее через приложение Яндекс"),a.a.createElement("div",{className:"qr-promo__tooltip-part2-content"},a.a.createElement("div",{className:"qr-promo__tooltip-part2-animation"}),a.a.createElement("a",{href:"https://yandex.ru/promo/searchapp/login/qr",target:"_blank",className:"qr-promo__tooltip-part2-link",rel:"noopener noreferrer"},"Узнать больше")))),a.a.createElement("div",{className:"passp-auth"},a.a.createElement(R,null),y&&a.a.createElement(Yn,null),!y&&a.a.createElement(a.a.Fragment,null,!S&&a.a.createElement(B,null),a.a.createElement(cr,{retpathUrl:o,goToRegistration:this.goToRegistration,switchToLoginPage:this.switchToLoginPage,switchToListPage:this.switchToListPage,location:t,registrationUrl:n,yandexSupportUrl:c,origin:u,editUrl:r,addUserUrl:i,tld:s,lang:l,minimal:d,isRestoreLoginMode:g,isQRPromo1Enabled:_,registrationLinkText:w,mode:k,pane:T}),a.a.createElement("div",{className:"passp-auth-content"},this.props.children),p&&a.a.createElement(ge,null)),a.a.createElement("iframe",{className:"passp-iframe",name:"iframe",src:"about:blank"})))),a.a.createElement(hr,null)))}}]),t}();kr.propTypes={location:m.a.object.isRequired,accounts:m.a.object,registrationUrl:m.a.string,yandexSupportUrl:m.a.string,editUrl:m.a.string,addUserUrl:m.a.string,tld:m.a.string,lang:m.a.string,bgNumber:m.a.string,origin:m.a.string,mode:m.a.string,registrationLinkText:m.a.string.isRequired,isShowMobileMenu:m.a.bool,isShowPagePopup:m.a.bool,isRestoreLoginMode:m.a.bool.isRequired,isQRPromo1Enabled:m.a.bool,isQRPromoPart2Enabled:m.a.bool,isPreRegisterExp:m.a.bool,isPreRegisterWithSocialExp:m.a.bool,isTouch:m.a.bool,isMobile:m.a.bool,isTablet:m.a.bool,minimal:m.a.bool,dispatch:m.a.func.isRequired,children:m.a.node.isRequired,retpathUrl:m.a.string.isRequired,pane:m.a.string,isRegisterWithSuggestToRestoreByPhoneInDaHouse:m.a.bool};var Tr=Object(s.c)(function(e){var t=e.auth,n=t.unitedAccounts,r=t.mode,o=t.isQRPromo1Enabled,i=t.isQRPromoPart2Enabled,a=t.isPreRegisterExp,c=t.isPreRegisterWithSocialExp,u=t.isDefaultTextsExp,s=t.isRegisterWithSuggestToRestoreByPhoneInDaHouse,l=e.mobileMenu.isShowMobileMenu,f=e.pagePopup.isShowPagePopup,d=e.common,p=d.registration_url,b=d.editUrl,h=d.addUserUrl,m=d.bgNumber,y=d.retpath,g=d.origin,v=d.yandex_support_url,_=d.profile_url,O=d.pane,E=e.settings,w=E.tld,k=E.lang,T=E.ua,j=T.isTouch,S=T.isMobile,C=T.isTablet,P=e.customs.minimal,R=["restoreLogin","restoreLoginProcess","restoreLoginResult"].indexOf(r)>-1,A="Зарегистрироваться";return(a||c)&&(A="Зарегистрироваться"),u&&(A="Завести почту на Яндексе"),{isTouch:j,isMobile:S,isTablet:C,accounts:n,registrationUrl:p,editUrl:b,addUserUrl:h,tld:w,lang:k,bgNumber:m,minimal:P,isShowMobileMenu:l,isShowPagePopup:f,isRestoreLoginMode:R,isQRPromo1Enabled:o,isQRPromoPart2Enabled:i,isPreRegisterExp:a,isPreRegisterWithSocialExp:c,mode:r,origin:g,yandexSupportUrl:v,registrationLinkText:A,retpathUrl:y||_,pane:O,isRegisterWithSuggestToRestoreByPhoneInDaHouse:s}})(kr),jr=n("72bbe3add50f39ca7e72");function Sr(e){return(Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pr(e,t){return!t||"object"!==Sr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rr(e){return(Rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ar(e,t){return(Ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qr={enter:300,exit:300},Nr=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Pr(this,Rr(t).call(this,e))).state={transitionClassName:"",historyKeys:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ar(e,t)}(t,i["Component"]),function(e,t,n){t&&Cr(e.prototype,t),n&&Cr(e,n)}(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,r=n.location,o=n.isLoading,i=e.location,a=e.history,c=e.isLoading,u=this.state,s=u.transitionClassName,l=u.historyKeys,f="/auth"===r.pathname?"/auth/add":r.pathname,d="/auth"===i.pathname?"/auth/add":i.pathname,p=r.search,b=i.search;return s!==t.transitionClassName||(l.length!==t.historyKeys.length||(o!==c||(f!==d||p!==b)&&"replace"!==a.action.toLowerCase()))}},{key:"componentDidUpdate",value:function(e){var t=e.location,n=this.state.historyKeys,r=this.props,o=r.location,i=r.history;if(t!==o&&t.pathname!==o.pathname)if(o.state&&o.state.isPreviousStep)this.setState(function(e){return{transitionClassName:"passp-route-back",historyKeys:e.historyKeys.concat([o.key])}});else if("push"!==i.action.toLowerCase()){var a=n[n.length-1-1];o.key!==a?this.setState(function(e){return{transitionClassName:"passp-route-forward",historyKeys:e.historyKeys.concat([o.key])}}):this.setState(function(e){return{transitionClassName:"passp-route-back",historyKeys:e.historyKeys.slice(0,-1)}})}else this.setState(function(e){return{transitionClassName:"passp-route-forward",historyKeys:e.historyKeys.concat([o.key])}})}},{key:"render",value:function(){var e=this.props.location,t=this.state.transitionClassName;return a.a.createElement(jr.TransitionGroup,{className:t},a.a.createElement(jr.CSSTransition,{key:e.key,timeout:qr,classNames:"passp-route",appear:!0},this.props.children))}}]),t}();Nr.propTypes={location:m.a.object,history:m.a.object,accounts:m.a.object,magicError:m.a.string,loginError:m.a.string,passwordError:m.a.string,captchaError:m.a.string,additionalDataErrors:m.a.array,isShowMobileMenu:m.a.bool,isLoading:m.a.bool,isCaptchaRequired:m.a.bool,isCanRegister:m.a.bool};var xr=Object(s.c)(function(e){var t=e.auth,n=t.unitedAccounts,r=t.form,o=void 0===r?{}:r,i=t.isCaptchaRequired,a=t.magicError,c=t.loginError,u=t.passwordError,s=t.loading,l=t.captchaError,f=e.mobileMenu.isShowMobileMenu,d=e.pagePopup.isShowPagePopup,p=e.additionalDataRequest.errors;return{isCanRegister:Boolean(o.isCanRegister),isLoading:s,accounts:n,isCaptchaRequired:i,magicError:a,loginError:c,passwordError:u,captchaError:l,isShowMobileMenu:f,isShowPagePopup:d,additionalDataErrors:p}})(Nr);function Ur(e){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mr(e){return(Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ir(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dr(e,t){return(Dr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fr=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Ur(t)&&"function"!=typeof t?Ir(e):t}(this,Mr(t).call(this,e))).addBrowserPageVisibilityStateHandler=n.addBrowserPageVisibilityStateHandler.bind(Ir(n)),n.handleBrowserPageVisibilityState=n.handleBrowserPageVisibilityState.bind(Ir(n)),n.removeBrowserPageVisibilityStateHandler=n.removeBrowserPageVisibilityStateHandler.bind(Ir(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dr(e,t)}(t,i["Component"]),function(e,t,n){t&&Lr(e.prototype,t),n&&Lr(e,n)}(t,[{key:"componentDidMount",value:function(){this.addBrowserPageVisibilityStateHandler()}},{key:"componentWillUnmount",value:function(){this.removeBrowserPageVisibilityStateHandler()}},{key:"addBrowserPageVisibilityStateHandler",value:function(){document.addEventListener?document.addEventListener("visibilitychange",this.handleBrowserPageVisibilityState,!1):document.attachEventListener("onvisibilitychange",this.handleBrowserPageVisibilityState,!1)}},{key:"removeBrowserPageVisibilityStateHandler",value:function(){document.removeEventListener?document.removeEventListener("visibilitychange",this.handleBrowserPageVisibilityState,!1):document.detachEvent("onvisibilitychange",this.handleBrowserPageVisibilityState,!1)}},{key:"handleBrowserPageVisibilityState",value:function(){var e=this.props.dispatch;"visible"===document.visibilityState&&e(Object(G.a)())}},{key:"render",value:function(){return a.a.createElement("div",{className:"passp-page-visibility"})}}]),t}();Fr.propTypes={dispatch:m.a.func.isRequired};var Br=Object(s.c)()(Fr),Hr=n("5ca44d31a363ec082218");function Vr(){return(Vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Wr=function(e){var t=e.location,n=e.history,r=e.isAdditionalDataRequestEnabled,o=e.isQRPromo1Enabled,i={};r&&(i.isAdditionalDataRequestEnabled=!0),o&&(i.isQRPromoEnabled=!0);var c=Object(Hr.d)(i);return a.a.createElement(Tr,{location:t},a.a.createElement(Br,null),a.a.createElement(xr,{location:t,history:n},a.a.createElement(y.c,{location:t},c.map(function(e){return a.a.createElement(y.a,Vr({key:e.path},e))}))))};Wr.propTypes={location:m.a.shape({key:m.a.string,pathname:m.a.string.isRequired}).isRequired,history:m.a.shape({action:m.a.string.isRequired}).isRequired,isAdditionalDataRequestEnabled:m.a.bool,isQRPromo1Enabled:m.a.bool};var Gr=Object(y.e)(Object(s.c)(function(e){var t=e.auth;return{isAdditionalDataRequestEnabled:t.isAdditionalDataRequestEnabled,isQRPromo1Enabled:t.isQRPromo1Enabled}})(Wr)),$r=n("deaa95e56841edfd7ad5"),zr=n("61cf43666f747e5d0872"),Kr=n.n(zr),Qr=n("d980a6b4f65a3a13be8b"),Yr=n("a7262dc46759c15aec75"),Jr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qr.e:return Object.assign({},e,{actionForRepeat:{action:t.actionToCall,payload:t.payload}});case Qr.h:return Object.assign({},e,{edit:t.edit});case Qr.i:return Object.assign({},e,{showRegPopup:t.show});case Qr.a:var n=e.historyOnPassport;switch(t.historyEvent){case"POP":n-=1;break;case"PUSH":n+=1}return Object.assign({},e,{currentPage:t.currentPage,historyOnPassport:n});case Qr.d:return o.a.track_id=t.track_id,Object.assign({},e,{track_id:t.track_id});case Qr.l:return Object.assign({},e,{track_id:t.track_id});case Qr.k:return Object.assign({},e,{csrf:t.token});case Qr.f:return Object.assign({},e,{backPane:t.pane});case Yr.b:return Object.assign({},e,{track_id:t.track_id,magic_csrf_token:t.csrf_token});case Qr.g:return Object.assign({},e,{pane:t.pane});case Qr.j:return Object.assign({},e,{isBackPaneVisible:t.isBackPaneVisible});case Qr.b:return Object.assign({},e,{countries:t.countries});case Qr.c:return Object.assign({},e,{timezones:t.timezones});default:return e}},Xr=n("0a056e5750f1e7f88beb"),Zr=n("26e147c2342ede77e67d");function eo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V.w:return Object.assign({},e,{loginError:t.error});case V.x:return Object.assign({},e,{isAbleToRestore:t.isAbleToRestore});case V.z:return Object.assign({},e,{passwordError:t.error});case V.v:return Object.assign({},e,{captchaError:t.error});case V.y:return Object.assign({},e,{magicError:t.error});case V.d:return Object.assign({},e,{form:Object.assign({},e.form,{isCanRegister:t.isCanRegister,registrationLogin:t.registrationLogin||"",registrationType:t.registrationType||"",registrationPhoneNumber:t.registrationPhoneNumber||"",registrationCountry:t.registrationCountry||""})});case V.k:return Object.assign({},e,{method:"password",processedAccount:t.account});case V.M:return Object.assign({},e,{form:Object.assign({},e.form,{login:t.value||"",loginError:!t.value&&e.form.login?null:e.form.loginError,isForceOTP:t.value===e.form.login&&e.form.isForceOTP})});case V.O:return Object.assign({},e,{form:Object.assign({},e.form,{password:t.value})});case V.L:return Object.assign({},e,{form:Object.assign({},e.form,{captcha_answer:t.value})});case V.e:return Object.assign({},e,{authorizedAccountsDefaultUid:t.uid});case V.p:return Object.assign({},e,{method:t.account.preferred_auth_method,processedAccount:t.account});case V.o:return Object.assign({},e,{inputLogins:Object.assign({},e.inputLogins,t.inputLogin)});case V.C:var n=t.accounts,r=n.authorizedAccounts,o=n.authorizedAccountsDefaultUid,i=n.unitedAccounts,a=n.suggestedAccounts;return Object.assign({},e,{authorizedAccounts:r,authorizedAccountsDefaultUid:o,unitedAccounts:i,suggestedAccounts:a,loading:!1});case V.B:return Object.assign({},e,{errors:{},loading:!1});case V.D:return Object.assign({},e,{mode:"addingAccount"});case V.E:return Object.assign({},e,{mode:"edit"});case V.J:return Object.assign({},e,{mode:"welcome"});case V.F:return Object.assign({},e,{isFromLoginSuggest:Boolean(t.isFromLoginSuggest)});case V.G:return Object.assign({},e,{mode:"restoreLogin"});case V.H:return Object.assign({},e,{mode:"restoreLoginProcess"});case V.I:return Object.assign({},e,{mode:"restoreLoginResult"});case V.q:return Object.assign({},e,{mode:t.mode});case V.f:return Object.assign({},e,{isCaptchaRequired:t.isCaptchaRequired});case V.m:return Object.assign({},e,{form:Object.assign({},e.form,{isForceOTP:t.isForceOTP})});case V.l:return Object.assign({},e,{loading:t.loading});case Zr.c:return Object.assign({},e,{loading:t.isLoading});case V.N:return Object.assign({},e,{magicCSRF:t.csrf,magicTrack:t.track});case Xr.l:return Object.assign({},e,{mode:"registerLite"});default:return e}}function to(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V.c:return Object.assign({},e,{isAuthMailSent:!0,code:t.code});case V.b:return Object.assign({},e,{isAuthConfirmed:!0,retpath:t.retpath});case V.a:return Object.assign({},e,{isAuthCancelled:t.status});case V.K:return Object.assign({},e,{isAuthMailConfirmationVisible:t.isVisible});case V.t:return Object.assign({},e,{mailAuthError:t.error});case V.M:return Object.assign({},e,{isAuthMailSent:!1,isAuthConfirmed:!1,isAuthCancelled:!1,isAuthMailConfirmationVisible:!1,mailAuthError:"",isUpdatedAuthLetterStatus:!1});case V.u:return Object.assign({},e,{isUpdatedAuthLetterStatus:t.isUpdated});case V.r:return Object.assign({},e,{isEnabled:!1});case V.s:return Object.assign({},e,{isEnabled:!0});default:return e}}var no=n("7ed68ea4ffabadd59750");function ro(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case no.a:return Object.assign({},e,{isSent:!0,code:t.code});case no.b:return Object.assign({},e,{error:t.error});case V.a:return Object.assign({},e,{isCancelled:t.status});case V.t:return Object.assign({},e,{error:t.error});default:return e}}var oo={phone:"",firstName:"",lastName:"",confirmationCode:"",isPhoneCheckSent:!1,callingNumberTemplate:"+7 901 XXX-ХХ-ХХ",accounts:[],errors:{},confirmMethod:"by_sms",isCallExp:!1,isFlashCallExp:!1,isValidPhone:!1,isPhoneOverheated:!1};function io(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V.G:var n="by_sms";return e.isCallExp&&(n="by_call"),e.isFlashCallExp&&(n="by_flash_call"),Object.assign({},oo,{confirmMethod:n,isCallExp:e.isCallExp,isFlashCallExp:e.isFlashCallExp});case Nn.e:return Object.assign({},e,{phone:t.phone,isValidPhone:!1,isPhoneOverheated:!1});case Nn.f:return Object.assign({},e,{isPhoneOverheated:t.isPhoneOverheated});case Nn.c:return Object.assign({},e,{firstName:t.firstName});case Nn.d:return Object.assign({},e,{lastName:t.lastName});case Nn.b:return Object.assign({},e,{confirmationCode:t.confirmationCode});case Nn.j:return Object.assign({},e,{accounts:t.accounts});case Nn.l:return Object.assign({},e,{callingNumberTemplate:t.callingNumberStr});case Nn.a:return Object.assign({},e,{isPhoneCheckSent:t.isPhoneCheckSent});case Nn.k:return Object.assign({},e,{confirmMethod:t.confirmMethod});case Nn.i:return Object.assign({},e,{errors:t.errors});case Nn.h:return Object.assign({},e,{errors:{}});case Nn.g:return Object.assign({},e,{isValidPhone:t.isValidPhone});default:return e}}var ao=n("d27b64418ce2627b0b59"),co={trackId:null,isCaptchaRepeatRequired:!1,methods:[],selectedMethod:"",logins:[],errors:{},urls:{}};function uo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:co,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ao.a:return Object.assign({},e,{trackId:t.payload.trackId,logins:t.payload.logins,urls:t.payload.urls});case ao.b:return Object.assign({},e,{methods:t.methods});case ao.g:return Object.assign({},e,{selectedMethod:t.method,methodInfo:t.methodInfo});case ao.e:return Object.assign({},e,{errors:t.error});case ao.f:var n=Object.assign({},e.processState,t.processState);return Object.assign({},e,{processState:n});case ao.d:return Object.assign({},e,{isCaptchaRepeatRequired:t.isRequired});case ao.c:return Object.assign({},e,{isPhoneValidForCall:t.isValidForCall,number:t.number});default:return e}}var so={track_id:"",login:"",firstname:"",lastname:"",password:"",passwordConfirm:"",confirmationCode:"",errors:{},passwordWarning:"",passwordErrorDescription:"",isLoginRequired:!1};function lo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:so,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xr.k:return Object.assign({},so,{track_id:t.track_id});case Xr.b:return Object.assign({},e,{firstname:t.firstname});case Xr.c:return Object.assign({},e,{lastname:t.lastname});case Xr.a:return Object.assign({},e,{confirmationCode:t.confirmationCode});case Xr.e:return Object.assign({},e,{password:t.password});case Xr.f:return Object.assign({},e,{passwordConfirm:t.passwordConfirm});case Xr.d:return Object.assign({},e,{login:t.login});case Xr.j:return Object.assign({},e,{errors:t.errors});case Xr.g:return Object.assign({},e,{isLoginRequired:!0});case Xr.i:return Object.assign({},e,{passwordWarning:t.warning});case Xr.h:return Object.assign({},e,{passwordErrorDescription:t.text});default:return e}}function fo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V.h:return Object.assign({},e,{isShowMobileMenu:t.visible,mobileMenuType:t.visible?e.mobileMenuType:null});case V.g:return Object.assign({},e,{mobileMenuType:t.mobileMenuType});case V.A:return Object.assign({},e,{processedAccountUid:t.processedAccountUid});default:return e}}var po="@@router/LOCATION_CHANGE";function bo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V.j:return Object.assign({},e,{isShowPagePopup:t.visible,pagePopupType:t.visible?e.pagePopupType:null});case V.i:return Object.assign({},e,{pagePopupType:t.pagePopupType});case po:return Object.assign({},e,{isShowPagePopup:!1,pagePopupType:null});default:return e}}var ho=n("b24de1e495698d2f533b"),mo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ho.a:return Object.assign({},e,{playing:t.playing});case ho.b:return Object.assign({},e,{type:"text"===e.type?"audio":"text"});case ho.h:return Object.assign({},e,{loading:!0,loadingAudio:!0});case ho.d:return Object.assign({},e,{loadingAudio:!0});case ho.g:var n={loading:!1,key:t.key,imageUrl:t.imageUrl};return Object.assign({},e,n);case ho.f:var r={loadingAudio:!1,key:t.key};return t.introSound&&(r.introSound=t.introSound),t.captchaSound?r.captchaSound=t.captchaSound:r.captchaSound=null,Object.assign({},e,r);case ho.e:return Object.assign({},e,{loadingAudio:!1});case ho.c:return Object.assign({},e,{loading:!1,loadingAudio:!1,playing:!1,type:"text",key:null,imageUrl:null,introSound:null,captchaSound:null,trackId:null});case ho.i:return Object.assign({},e,{trackId:t.trackId});default:return e}};function yo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ut.a:return Object.assign({},e,{captchaAnswer:t.captchaAnswer});case ut.b:return Object.assign({},e,{isCaptchaRequired:t.isCaptchaRequired});case ut.f:return Object.assign({},e,{phone:Object.assign(e.phone,{number:t.phoneNumber})});case ut.e:return Object.assign({},e,{email:t.email});case ut.c:return Object.assign({},e,{confirmationCode:t.confirmationCode});case ut.d:return Object.assign({},e,{isConfirmationCodeSent:t.isConfirmationCodeSent});case ut.h:return Object.assign({},e,{isConfirmationCodeSent:!0});case ut.i:var n=t.payload;return Object.assign({},e,{phone:Object.assign(e.phone,{number:n.number.original}),denyResendUntil:1e3*n.deny_resend_until,isConfirmationCodeSent:!0});case ut.g:return Object.assign({},e,{errors:[]});case ut.j:var r=t.errors,o=Boolean(r.join(",").match(/captcha\./));return Object.assign({},e,{errors:r,isCaptchaRequired:o});case V.n:var i=t.payload,a={};if(Object.assign(a,{status:"ok",isConfirmationCodeSent:!1,isCaptchaRequired:!1,confirmationCode:"",errors:[],denyResendUntil:null}),i&&i.state){var c=i.phone,u=i.email,s=i.social,l=i.track_id;Object.assign(a,{state:i.state,action:i.action,track_id:l}),"email"===i.state?a[i.state]=u||"":a[i.state]=c||s||{},"phone"===i.state&&(a.phone.id=String(a.phone.id||""),a.phone.number=String(a.phone.number||""))}return Object.assign({},a);default:return e}}var go={track_id:null,default_300:"",avatarSize_300:"",avatarPrev:"",isProcessing:!1,isLoading:!1,fileType:"jpeg",compression:.6,isCropNotSupported:!1,error:"",isOptionalStep:!0,isUpdated:!1};function vo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:go,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zr.i:return Object.assign({},e,{uploadMethod:t.method});case Zr.h:return Object.assign({},e,{track_id:t.trackId});case Zr.g:return Object.assign({},e,{error:t.error});case Zr.d:return Object.assign({},e,{isProcessing:t.isProcessing});case Zr.c:return Object.assign({},e,{isLoading:t.isLoading});case Zr.f:return Object.assign({},e,{avatarSize_300:t.urlData.url||e.avatarSize_300,avatarPrev:t.urlData.prevUrl||e.default_300});case Zr.b:return Object.assign({},e,{avatarSize_300:t.resetUrl});case Zr.e:return Object.assign({},e,{fileType:t.options.type,compression:t.options.compression});case Zr.a:return Object.assign({},e,{isUpdated:t.isUpdated});default:return e}}function _o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case Zt.a:return Object.assign({},e,t.data);case Zt.d:return Object.assign({},e,{fieldValue:t.value});case Zt.b:var n=t.error,r=n.text,o=n.code;return Object.assign({},e,{errorText:r,errorCode:o});case Zt.c:return Object.assign({},e,{alternative:{challengeType:e.challengeType,hint:e.hint},challengeType:t.newChallenge.type,hint:t.newChallenge.hint});default:return e}}var Oo={phoneNumber:"",securePhoneNumber:"",errors:[],confirmationCode:"",isConfirmationCodeSent:!1,isCaptchaRequired:!1},Eo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oo,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload,o=void 0===r?{}:r;switch(n){case He.e:var i=o.phoneNumber;return Object.assign({},e,{phoneNumber:i});case He.d:var a=o.confirmationCode;return Object.assign({},e,{confirmationCode:a});case He.b:var c=o.errors;return Object.assign({},e,{errors:c});case He.c:return Object.assign({},e,{denyResendUntil:Number(new Date)+3e4});case He.a:return Object.assign({},e,{securePhoneNumber:""});default:return e}},wo=n("ce6a336dd6fa524abe9a"),ko={mode:"",step:"",isPasswordVisible:!1,phoneConfirmMethod:"by_sms",callingNumberTemplate:"",shouldCheckPhone:!1,passwordWeight:"",suggestedPassword:""},To=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ko,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload,o=void 0===r?{}:r;switch(n){case wo.a:case wo.g:case wo.e:case wo.c:case wo.d:case wo.i:case wo.b:case wo.f:return Object.assign({},e,o);case wo.k:var i=e.isPasswordVisible;return Object.assign({},e,{isPasswordVisible:!i});case wo.j:var a=o.accounts;return Object.assign({},e,{accounts:a,suggestToRestore:!0});case wo.h:return Object.assign({},e,{accounts:[],suggestToRestore:!1});default:return e}},jo=n("7be7712634cfee58c146");var So="EMAIL_CONFIRMATION_DONE";var Co={method:"phone",humanConfirmationDone:!1};var Po={firstname:"",lastname:"",login:"",email:"",password:"",password_confirm:"",hint_question_id:"",hint_question:"",hint_question_custom:"valid",hint_answer:"",captcha:"",phone:"",phoneCode:"",phoneCodeStatus:""};var Ro={name:"",firstname:"",lastname:"",surname:"",login:"",email:"",password:"",password_confirm:"",hint_question_id:"",hint_question:"",hint_question_custom:"",hint_answer:"",captcha:"",phone:"",phoneCode:""};function Ao(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qo={active:"",hintActive:!1,firstname:{code:"",text:""},lastname:{code:"",text:""},login:{code:"",text:""},email:{code:"",text:""},password:{code:"",text:"",warning:!1},password_confirm:{code:"",text:""},hint_question_id:{code:"",text:""},hint_question:{code:"",text:""},hint_question_custom:{code:"",text:""},hint_answer:{code:"",text:""},captcha:{code:"",text:""},phone:{code:"",text:""},phoneCode:{code:"",text:""},phoneCodeStatus:""};var No=Object(H.c)({states:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Po,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jo.F:return Object.assign({},e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t.data.field,t.data.status));case jo.z:return Object.assign({},e,{hint_question:t.data.status,hint_question_id:t.data.status});case jo.y:return Object.assign({},e,{hint_question_custom:t.data.status});case jo.A:return Object.assign({},e,{phoneCode:t.status});case jo.B:return Object.assign({},e,{phone:"",phoneCode:"",phoneCodeStatus:""});case jo.u:return Object.assign({},e,t.fields);default:return e}},values:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ro,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jo.H:return Object.assign({},e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t.data.field,t.data.value));case jo.C:return Object.assign({},e,{phone:"",phoneCode:""});case jo.D:return Object.assign({},e,{hint_question_id:t.data.hint_question_id,hint_question:t.data.hint_question});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jo.v:var n,r=Object.assign({},e,(Ao(n={active:t.data.active?t.data.field:""},t.data.field,t.data.error),Ao(n,"errorDescription",t.data.errorDescription||""),n));return t.data.warning&&(r.warning=t.data.warning),t.data.active||t.data.field===e.active||(r.active=e.active),r;case jo.w:return Object.assign({},e,Ao({active:e.active===t.field?"":e.active,errorDescription:""},t.field,{code:"",text:""}));case jo.q:return Object.assign({},e,t.data);case jo.x:return Object.assign({},e,{hintActive:t.status});case jo.p:return Object.assign({},e,{active:t.field});default:return e}},validation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jo.G:return Object.assign({},e,{method:t.method});case jo.h:return Object.assign({},e,{humanConfirmationDone:t.state});case So:return Object.assign({},e,{emailConfirmationDone:t.state});case jo.I:return Object.assign({},e,{isValidPhoneForCall:t.isValid});case jo.c:return Object.assign({},e,{phoneConfirmationType:t.phoneConfirmationType});case jo.r:return Object.assign({},e,{magicConfirmationCode:t.code});case jo.m:return Object.assign({},e,{callConfirmationTimer:t.timer});case jo.b:return Object.assign({},e,{isCallConfirmationInProcess:t.process});case jo.e:return Object.assign({},e,{isForceCheckedConfirmationCode:!0});case jo.o:return Object.assign({},e,{confirmationCodeLength:t.codeLength});default:return e}},humanConfirmation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jo.f:return Object.assign({},e,{questionList:t.questions});case jo.t:return Object.assign({},e,{isFetching:t.data.isFetching});default:return e}},confirmationRetryCountdown:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:30},isEulaCheckedByDefault:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]},isPhoneCanBePrefilled:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]},isPhoneCallConfirmationAvailable:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]},isForcePhoneCallConfirmation:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]},isDiscardCallConfirmation:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]},isMobileRecallBtnRemoved:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]},isMobileCallConfirmationOnly:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]},isEulaShowedInPopup:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]},canSwitchConfirmationMethod:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]},activeField:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return t.type===jo.a?t.field:e},captchaRequired:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return t.type===jo.n?t.isRequired:e},formErrors:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]},captchaErrors:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]},type:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:""},prefix:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}}),xo=n("c842cee9d7a4cfb8b7ca");var Uo={},Lo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uo,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload,o=void 0===r?{}:r;switch(n){case xo.a:var i=o.type,a=o.id;return Object.assign({},e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},"".concat(i,"TrackId"),a));default:return e}},Mo={status:"ok",code:"",text:"",descriptionText:""};function Io(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jo.E:return Object.assign({},e,{status:t.data.status,code:t.data.code,text:t.data.text,descriptionText:t.data.descriptionText});default:return e}}var Do={loginsList:[],isFetching:!1,isValidating:!1};function Fo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jo.g:return Object.assign({},e,{loginsList:t.data.logins,isFetching:t.data.isFetching||!1});case jo.s:return Object.assign({},e,{isValidating:t.isValidating});case jo.d:return Object.assign({},e,{loginsList:[]});default:return e}}function Bo(e){return(Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ho=function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},Vo=function(e,t){var n=("object"===("undefined"==typeof window?"undefined":Bo(window))&&window.__REDUX_DEVTOOLS_EXTENSION__,function(e){return e});return Object(H.e)(function(e){return Object(H.c)({router:Object(p.b)(e),common:Jr,captcha:mo,additionalDataRequest:yo,avatar:vo,mailAuth:to,messengerAuth:ro,auth:eo,mobileMenu:fo,restoreLogin:io,restorePassword:uo,challenge:_o,registerLite:lo,pagePopup:bo,metrics:Ho,monitoring:Ho,social:Ho,customs:Ho,settings:Ho,phoneConfirm:Eo,signup:To,form:No,tracks:Lo,registrationErrors:Io,logins:Fo})}(t),e,Object(H.d)(Object(H.a)(Kr.a,Object($r.a)(t)),n))},Wo=n("d6b450235dea56f14038"),Go=n("fa93acbe643a2e0cfe93"),$o=n("0b88835c11ed4414a373"),zo=n.n($o),Ko={init:function(e){var t=e.getState();zo.a.init(t.monitoring),this.initialized=!0},send:function(e){this.initialized&&zo.a.send(e)}};n("3da6e706e32fb073eff8"),n("be200975e9e0adf66a82"),n("587391ef0a5fa4f84c07");$(function(){var e=$("body"),t=e.data("csrf"),n=e.data("locals")||{};!function(e){var t=$("body"),n=e&&e.ua;if(!n||n.isTablet||!n.isMobile){var r=$("head"),o=t.data("authCustomsUrl");r.append($("<link/>",{rel:"stylesheet",type:"text/css",href:"".concat(o,"/passport.auth.customs.css")}))}}(n.settings),n.common.csrf=t;var r=n.common.pane,i=d()();r&&i.replace(r+location.search);var c=Vo(n,i),f=c.getState().social;r&&c.dispatch(Object(l.e)(r+location.search)),e.removeAttr("data-locals"),b.a.init(c),o.a.init(),f&&f.brokerParams&&Wo.a.init(c),Go.a.init(c),ke.init(c),x.a.init(c),Ko.init(c),u.a.render(a.a.createElement(s.a,{store:c},a.a.createElement(p.a,{history:i},a.a.createElement(Gr,null))),document.getElementById("root")),Ya&&Ya.Rum&&"function"==typeof Ya.Rum.sendTimeMark&&Ya.Rum.sendTimeMark("3036"),x.a.send(["показ страницы"]),$(window).on("load",function(){setTimeout(function(){Ko.send({event:"load"})},0)})})},"5b1ba08c9bbd7767f36c":function(e,t,n){"use strict";var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),i=n("0a81c721557e72a0975d"),a=n("63f14ac74ce296f77f4d"),c=n.n(a),u=n("8a2d1b95e05b6a321e74"),s=n.n(u),l=n("4ee320a8137784c050e0"),f=n("f3e5b0b53b9a60481e9f");var d=n("b912ecc4473ae8a2ff0b"),p=n.n(d),b=n("ac563649a2d33b90d3d7"),h=n.n(b),m=n("b24de1e495698d2f533b"),y=n("2e00c83ced56b4015524"),g=n("2de5c9c49c6d5989f45c"),v=n("8673aa839ecc941c412a"),_=n("ca24a59b6c35f0274ada");function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}function T(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?S(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=function(e){function t(e){var n;return E(this,t),(n=T(this,j(t).call(this,e))).changeCaptchaType=n.changeCaptchaType.bind(S(n)),n.reloadCaptcha=n.reloadCaptcha.bind(S(n)),n.playCaptcha=n.playCaptcha.bind(S(n)),n.isAudioCaptchaEnabled=!1,n.isLoading=!0,n}return C(t,r["PureComponent"]),k(t,[{key:"componentDidMount",value:function(){var e=this;this.isLoading=!1,$.ajax({url:"https://yastatic.net/howler/2.1.2/howler.min.js",dataType:"script",cache:!0,success:function(){e.isAudioCaptchaEnabled=!0,e.props.dispatch(Object(_.a)(!0))},error:function(){e.props.dispatch(Object(_.a)())}}),this.forceUpdate()}},{key:"componentWillUnmount",value:function(){this.props.dispatch(Object(m.l)())}},{key:"changeCaptchaType",value:function(){var e=this.props,t=e.type,n=e.dispatch;n("text"===t?Object(v.a)(!0):Object(_.a)()),n(Object(m.k)())}},{key:"reloadCaptcha",value:function(){this.props.dispatch(Object(y.a)())}},{key:"playCaptcha",value:function(){this.props.dispatch(Object(v.a)())}},{key:"render",value:function(){var e=this.props,t=e.imageUrl,n=e.introSound,r=e.type,i=e.loading,a=e.loadingAudio,c=e.playing,u=e.visible,s=e.lang,l=e.isMobile,f=e.dispatch,d=Boolean(("ru"===s||"tr"===s)&&!l&&!this.isLoading&&this.isAudioCaptchaEnabled);return o.a.createElement("div",{className:"captcha captcha_type_".concat(r)},Boolean(u)&&o.a.createElement("div",{className:"captcha__container"},"text"===r&&o.a.createElement(A,{onClick:this.reloadCaptcha,imageUrl:t,loading:i,dispatch:f}),"audio"===r&&d&&o.a.createElement(q,{loading:a,introSound:n,playing:c,dispatch:f,playCaptcha:this.playCaptcha})),o.a.createElement("div",{className:"captcha__footer clearfix"},!this.isLoading&&o.a.createElement("div",{className:"captcha__reload",onClick:this.reloadCaptcha},o.a.createElement("span",{className:"captcha__reload-icon"}),"Другой код"),d&&o.a.createElement("div",{className:"captcha__change-type",onClick:this.changeCaptchaType},o.a.createElement("span",{className:"captcha__change-type-icon"}),"text"===r?"Послушать код":"Текстовый код")))}}]),t}();R.propTypes={imageUrl:s.a.string,introSound:s.a.object,captchaSound:s.a.object,type:s.a.string.isRequired,loading:s.a.bool.isRequired,loadingAudio:s.a.bool.isRequired,playing:s.a.bool.isRequired,visible:s.a.bool.isRequired,lang:s.a.string.isRequired,isMobile:s.a.bool.isRequired,dispatch:s.a.func.isRequired};var A=function(e){function t(){return E(this,t),T(this,j(t).apply(this,arguments))}return C(t,r["Component"]),k(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.imageUrl;return t?o.a.createElement(h.a,{progress:!0,size:"l"}):o.a.createElement("img",{src:n,onClick:this.props.onClick,className:"captcha__image",alt:"captcha image","aria-label":"captcha image"})}}]),t}();A.propTypes={onClick:s.a.func.isRequired,dispatch:s.a.func.isRequired,imageUrl:s.a.string,loading:s.a.bool.isRequired};var q=function(e){function t(){return E(this,t),T(this,j(t).apply(this,arguments))}return C(t,r["Component"]),k(t,[{key:"componentWillUnmount",value:function(){this.props.dispatch(Object(g.a)())}},{key:"render",value:function(){var e=this.props,t=e.playing,n=e.loading,r=e.playCaptcha;return n?o.a.createElement(h.a,{progress:!0,size:"l"}):o.a.createElement("div",{className:p()("captcha__audio ",{captcha__audio_playing:t}),onClick:r})}}]),t}();q.propTypes={dispatch:s.a.func.isRequired,playing:s.a.bool.isRequired,loading:s.a.bool.isRequired,introSound:s.a.object,captchaSound:s.a.object,playCaptcha:s.a.func.isRequired};var N=R,x=n("f829dce6e807e79181ee");function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var F=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?I(e):t}(this,M(t).call(this,e))).onChangeCaptcha=n.onChangeCaptcha.bind(I(n)),n.focusOnCaptchaField=n.focusOnCaptchaField.bind(I(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,r["Component"]),function(e,t,n){t&&L(e.prototype,t),n&&L(e,n)}(t,[{key:"componentDidMount",value:function(){this.props.isCaptchaRequired&&this.focusOnCaptchaField()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.isCaptchaRequired!==e.isCaptchaRequired&&e.isCaptchaRequired&&setTimeout(function(){t.focusOnCaptchaField()},0)}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e(Object(l.Q)(!1)),e(Object(l.Cb)(""))}},{key:"onChangeCaptcha",value:function(e){(0,this.props.dispatch)(Object(l.Cb)(e))}},{key:"focusOnCaptchaField",value:function(){if(!this.props.isNoTabletTouch){var e=c.a.findDOMNode(this.captchaField).querySelector("input");e.focus(),e.click()}}},{key:"render",value:function(){var e=this,t=this.props,n=t.isCaptchaRequired,r=t.isShowCaptcha,i=t.introSound,a=t.captchaSound,c=t.imageUrl,u=t.loading,s=t.loadingAudio,l=t.playing,f=t.type,d=t.captchaKey,p=t.captchaAnswer,b=t.lang,h=t.fieldError,m=t.dispatch,y=t.forcedError;return n||r?o.a.createElement("div",{className:"passp-captcha-field"},o.a.createElement(N,{isMobile:!1,lang:b,introSound:i,captchaSound:a,imageUrl:c,loading:u,loadingAudio:s,playing:l,type:f,dispatch:m,visible:!0}),o.a.createElement("input",{type:"hidden",name:"captcha_key",value:d||""}),o.a.createElement(x.b,{ref:function(t){e.captchaField=t},fieldLabel:"Введите символы с картинки",fieldValue:p,fieldName:"captcha_answer",fieldType:"text",fieldError:h||y,fieldLink:null,onFieldChange:this.onChangeCaptcha})):null}}]),t}();F.defaultProps={captcha:{captchaKey:""},isShowCaptcha:!1},F.propTypes={isCaptchaRequired:s.a.bool.isRequired,isShowCaptcha:s.a.bool.isRequired,introSound:s.a.string,captchaSound:s.a.string,imageUrl:s.a.string,loading:s.a.bool,loadingAudio:s.a.bool,playing:s.a.bool,type:s.a.string,captchaKey:s.a.string,captchaAnswer:s.a.string.isRequired,lang:s.a.string.isRequired,fieldError:s.a.string,forcedError:s.a.string,dispatch:s.a.func.isRequired};t.a=Object(i.c)(function(e){var t=e.settings,n=t.isNoTabletTouch,r=t.lang,o=e.auth,i=o.isCaptchaRequired,a=o.captchaError,c=o.form.captcha_answer,u=e.captcha,s=u.introSound,l=u.captchaSound,d=u.imageUrl,p=u.loading,b=u.loadingAudio,h=u.playing,m=u.type,y=u.key,g=null;return a&&(g=f.a[a]||f.a.global),{isNoTabletTouch:n,captchaAnswer:c,isCaptchaRequired:i,lang:r,fieldError:g,introSound:s,captchaSound:l,imageUrl:d,loading:p,loadingAudio:b,playing:h,type:m,captchaKey:y}})(F)},"5ca44d31a363ec082218":function(e,t,n){"use strict";n.d(t,"c",function(){return P}),n.d(t,"b",function(){return R}),n.d(t,"a",function(){return A}),n.d(t,"d",function(){return q});var r=n("1ad7ce2a57da9a1fd4ce"),o=n("5f347acb939ad2761ca5"),i=n("c7288bb0a1591286b52d"),a=n("dcab4392e18bb757d6bb"),c=n("c168465d7951f95f2976"),u=n("4a3a8965f3771f79f04b"),s=n("000049b9b67b0c120b8b"),l=n("6a4c14dbe46fa00ed867");function f(e){return b(e)||p(e)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function p(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function b(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}var h=Object(r.a)({chunkName:function(){return"pages-RestoreLogin-EnterPhonePage-EnterPhonePage-jsx"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(1).then(n.bind(null,"c8ffe23a92589aee0f8a"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"c8ffe23a92589aee0f8a"}},{fallback:Object(s.a)()}),m=Object(r.a)({chunkName:function(){return"pages-RestoreLogin-EnterNamePage-EnterNamePage-jsx"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(2).then(n.bind(null,"73164a821679315b0cb3"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"73164a821679315b0cb3"}},{fallback:Object(s.a)()}),y=Object(r.a)({chunkName:function(){return"pages-RestoreLogin-AccountListPage-AccountListPage-jsx"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(3).then(n.bind(null,"173a4ba6a567c7817809"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"173a4ba6a567c7817809"}},{fallback:Object(s.a)()}),g=Object(r.a)({chunkName:function(){return"pages-PhoneRequestPage-PhoneRequestPage-jsx"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(4).then(n.bind(null,"8d9f1d0f1dea0784b365"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"8d9f1d0f1dea0784b365"}},{fallback:Object(s.a)()}),v=Object(r.a)({chunkName:function(){return"pages-EmailRequestPage-EmailRequestPage-jsx"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(5).then(n.bind(null,"7d1e73a3f9d7ef3c5b55"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"7d1e73a3f9d7ef3c5b55"}},{fallback:Object(s.a)()}),_=Object(r.a)({chunkName:function(){return"pages-RegisterLite-PasswordForm-RegisterLitePasswordForm-jsx"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(6).then(n.bind(null,"32b5c4eea662d23fcf1c"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"32b5c4eea662d23fcf1c"}},{fallback:Object(s.a)()}),O=Object(r.a)({chunkName:function(){return"pages-PreRegisterPage-PreRegisterPage-jsx"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(7).then(n.bind(null,"8c3f707e0f6a845a8178"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"8c3f707e0f6a845a8178"}},{fallback:Object(s.a)()}),E=Object(r.a)({chunkName:function(){return"pages-RegisterLite-EnterCode-RegisterLiteEnterCode-jsx"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(8).then(n.bind(null,"927120588b5f1c4885fa"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"927120588b5f1c4885fa"}},{fallback:Object(s.a)()}),w=Object(r.a)({chunkName:function(){return"pages-RegisterLite-NameForm-RegisterLiteNameForm-jsx"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(9).then(n.bind(null,"4987744194d1d8f5f341"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"4987744194d1d8f5f341"}},{fallback:Object(s.a)()}),k=Object(r.a)({chunkName:function(){return"pages-AvatarRequestPage-AvatarRequestPage-jsx"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(10).then(n.bind(null,"4d1db83d310b213ceb21"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"4d1db83d310b213ceb21"}},{fallback:Object(s.a)()}),T=Object(r.a)({chunkName:function(){return"pages-RegisterLite-EulaPage-Eula-jsx"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(11).then(n.bind(null,"5ca113d3bce44cf0399f"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"5ca113d3bce44cf0399f"}},{fallback:Object(s.a)()}),j=Object(r.a)({chunkName:function(){return"pages-Challenge-Challenge-jsx"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(12).then(n.bind(null,"1b8e7c52cdaff4caec22"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"1b8e7c52cdaff4caec22"}},{fallback:Object(s.a)()}),S=Object(r.a)({chunkName:function(){return"pages-AuthWithLetterPage-AuthWithLetterPage-jsx"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(13).then(n.bind(null,"76858b80b4aaf24818ca"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"76858b80b4aaf24818ca"}},{fallback:Object(s.a)()}),C="/auth/register/lite",P="/auth/register/lite/form",R="/auth/register/lite/name",A="/auth/register/lite/eula";function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[{path:"/auth",exact:!0,component:i.a},{path:"/auth/list",exact:!0,component:o.a},{path:"/auth/add",exact:!0,component:i.a},{path:"/auth/magic",exact:!0,component:c.a},{path:"/auth/welcome",exact:!0,component:a.a},{path:"/auth/link",exact:!0,component:S},{path:"/auth/preregister",exact:!0,component:O},{path:"/register/link",exact:!0,component:S},{path:"/auth/phone",exact:!0,component:e.isAdditionalDataRequestEnabled?g:o.a},{path:"/auth/email",exact:!0,component:e.isAdditionalDataRequestEnabled?v:o.a},{path:"/auth/avatar",exact:!0,component:e.isAdditionalDataRequestEnabled?k:o.a},{path:"/auth/challenge",exact:!0,component:j},{path:"/auth/restore/login",exact:!0,component:h},{path:"/auth/restore/login/process",exact:!0,component:m},{path:"/auth/restore/login/result",exact:!0,component:y},{path:C,exact:!0,component:E},{path:P,exact:!0,component:_},{path:R,exact:!0,component:w},{path:A,exact:!0,component:T},{path:"/auth/phoneconfirm",exact:!0,component:u.a},{path:"/auth/reg",exact:!0,component:Object(r.a)({chunkName:function(){return"signup"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(14).then(n.bind(null,"aff0030cdb443471d549"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"aff0030cdb443471d549"}},{fallback:Object(s.a)()})}];return[].concat(t,f(l.a))}},"5f347acb939ad2761ca5":function(e,t,n){"use strict";var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),i=n("0a81c721557e72a0975d"),a=n("1f7eb4558e149d7a2535"),c=n("8a2d1b95e05b6a321e74"),u=n.n(c),s=n("4ee320a8137784c050e0"),l=n("d980a6b4f65a3a13be8b"),f=n("2a8109ac628133d5b12f"),d=n("6720f7e94eecea453799"),p=n("98f11010eed1f30a67e8"),b=n.n(p);function h(e){var t=e.embeddedAuthUrl,n=e.yu,r=e.retpath,o=e.uid,i=e.action,a=e.origin,c=e.login;return-1!==["logout","change_default"].indexOf(i)?"".concat(t)+"&yu=".concat(encodeURIComponent(n))+"&action=".concat(encodeURIComponent(i))+"&uid=".concat(encodeURIComponent(o))+"&retpath=".concat(encodeURIComponent(r))+"&origin=".concat(encodeURIComponent(a)):-1!==["switchTo"].indexOf(i)?"/auth/welcome?uid=".concat(encodeURIComponent(o))+"&retpath=".concat(encodeURIComponent(r))+"&origin=".concat(encodeURIComponent(a)):-1!==["login"].indexOf(i)?"/auth/add?login=".concat(encodeURIComponent(c))+"&retpath=".concat(encodeURIComponent(r))+"&origin=".concat(encodeURIComponent(a)):-1!==["retpath"].indexOf(i)?"".concat(r):""}var m=n("7bec9e0f5607402a990d"),y=n("dabe4e15a14257fec3c9");var g=n("b912ecc4473ae8a2ff0b"),v=n.n(g),_=n("b1ce1a7989017c577d0f");var O=n("1def7208fe0e21ce16a3"),E=n.n(O);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e){var t=function(e){var t=e.account,n=e.avatarSettings,r=e.logoutUrl,o=e.isAuthorized,i=e.isDefault,a=e.isTouch,c=e.fallbackUrl,u=e.onClick,s=e.onCrossClick,l=e.showMobileMenu,f=t.avatarId,d=t.login,p=t.displayName,b=t.hasSocial,h=t.mail,m=t.defaultEmail,y=t.socialProvider,g=n.host,v=n.pathname,O={backgroundImage:'url("https://'.concat(g).concat(v.replace("%uid%",f).replace("%size%","200").replace("%login%",d),'")')},E=r?{url:r}:{pseudo:!0};return{fallbackUrl:c,socialStyleClass:!i&&b?"passp-account-list-item__social-method_".concat(y):"",avatarStyle:O,displayName:p,displayLogin:b?_.a[y]:h||m||"",logoutUrlAttribute:E,isDefault:i,isTouch:a,isAuthorized:o,hasSocial:b,onClick:u,onCrossClick:s,showMobileMenu:l}}(e),n=t.fallbackUrl,r=t.socialStyleClass,i=t.avatarStyle,a=t.displayName,c=t.displayLogin,u=t.logoutUrlAttribute,s=t.isDefault,l=t.isTouch,f=t.isAuthorized,d=t.hasSocial,p=t.onClick,b=t.onCrossClick,h=t.showMobileMenu;return o.a.createElement("div",{className:"passp-account-list-item-block"},o.a.createElement(E.a,{url:n,theme:"normal",onClick:p,cls:v()("passp-account-list-item ".concat(r),{"passp-account-list-item__default":s,"passp-account-list-item__social-method":!s&&d,"passp-account-list-item__without-login":!c})},o.a.createElement("div",{className:"passp-account-list-item__inner"},o.a.createElement("span",{className:"passp-account-list-item__avatar",style:i}),o.a.createElement("span",{className:"passp-account-list-item__display-name"},a),c&&o.a.createElement("span",{className:"passp-account-list-item__login"},c))),!l&&o.a.createElement(E.a,w({cls:"passp-account-list-item__remove-button",onClick:b,theme:"normal"},u),f?"Выйти":"Удалить из списка"),l&&o.a.createElement("button",{onClick:h,className:"passp-account-list-item__remove-button"},o.a.createElement("span",{className:"passp-account-list-item__remove-button-icon"})))}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}k.propTypes={account:u.a.shape({avatarId:u.a.string.isRequired,displayName:u.a.string.isRequired,login:u.a.string.isRequired,hasSocial:u.a.bool,mail:u.a.string,socialProvider:u.a.string}).isRequired,avatarSettings:u.a.shape({host:u.a.string.isRequired,pathname:u.a.string.isRequired}).isRequired,isAuthorized:u.a.bool.isRequired,isDefault:u.a.bool.isRequired,isTouch:u.a.bool.isRequired,logoutUrl:u.a.string,fallbackUrl:u.a.string,onClick:u.a.func.isRequired,onCrossClick:u.a.func.isRequired,showMobileMenu:u.a.func.isRequired};var R=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?C(e):t}(this,S(t).call(this,e))).handleClick=n.handleClick.bind(C(n)),n.handleCrossClick=n.handleCrossClick.bind(C(n)),n.showMobileMenu=n.showMobileMenu.bind(C(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,r["Component"]),function(e,t,n){t&&j(e.prototype,t),n&&j(e,n)}(t,[{key:"handleClick",value:function(e){var t=this.props.redirectToRetpath;e.preventDefault(),t()}},{key:"handleCrossClick",value:function(e){var t=this.props,n=t.account,r=t.logoutAccount;e.preventDefault(),r(n.uid),d.a.send([f.Lc,f.M])}},{key:"showMobileMenu",value:function(e){var t=this.props,n=t.account,r=t.changeMobileMenuVisibility,o=t.changeMobileMenuType,i=t.setProccessedAccountUid;e.preventDefault(),o("logout"),i(n.uid),r(!0)}},{key:"render",value:function(){var e=this.props,t=e.account,n=e.avatarSettings,r=e.isTouch,i=e.logoutUrl,a=e.fallbackUrl;return t?o.a.createElement("li",{className:"passp-account-list-item_block"},o.a.createElement(k,{account:t,avatarSettings:n,logoutUrl:i,fallbackUrl:a,onClick:this.handleClick,onCrossClick:this.handleCrossClick,showMobileMenu:this.showMobileMenu,isAuthorized:!0,isDefault:!0,isTouch:r})):null}}]),t}();R.propTypes={isTouch:u.a.bool.isRequired,avatarSettings:u.a.shape({host:u.a.string.isRequired,pathname:u.a.string.isRequired}).isRequired,logoutUrl:u.a.string.isRequired,fallbackUrl:u.a.string.isRequired,redirectToRetpath:u.a.func.isRequired,logoutAccount:u.a.func.isRequired,changeMobileMenuVisibility:u.a.func.isRequired,changeMobileMenuType:u.a.func.isRequired,setProccessedAccountUid:u.a.func.isRequired};var A=Object(i.c)(function(e,t){var n=e.settings,r=n.avatar,o=n.ua,i=e.common,a=i.embeddedauth_url,c=i.retpath,u=i.origin,s=i.yu,l=t.account.uid,f=h({action:"logout",embeddedAuthUrl:a,retpath:c,yu:s,origin:u,uid:l}),d=h({action:"retpath",embeddedAuthUrl:a,retpath:c,yu:s,origin:u,uid:l});return{isTouch:o&&o.isTouch,avatarSettings:r,logoutUrl:f,fallbackUrl:d}},function(e){var t={redirectToRetpath:m.a,logoutAccount:y.a,changeMobileMenuVisibility:s.S,changeMobileMenuType:s.R,setProccessedAccountUid:s.pb};return Object.assign({},Object(a.b)(t,e),{dispatch:e})})(R);var q=n("fb6358edfd8976cf491c"),N=n("400d618db20c4ff01c08");function x(e){return function(t,n){var r=n().common,o=r.profile_url,i=r.csrf,a=r.yu,c={csrf_token:i,retpath:r.retpath||o,uid:e,yu:a};t(Object(s.W)(!0)),q.a.request("auth/change_default",c).done(function(){t(Object(N.a)()),t(Object(m.a)())}).fail(function(){t(Object(N.a)())}).always(function(){return t(Object(s.W)(!1))})}}function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var F=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?I(e):t}(this,M(t).call(this,e))).handleClick=n.handleClick.bind(I(n)),n.handleCrossClick=n.handleCrossClick.bind(I(n)),n.showMobileMenu=n.showMobileMenu.bind(I(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,r["Component"]),function(e,t,n){t&&L(e.prototype,t),n&&L(e,n)}(t,[{key:"handleClick",value:function(e){var t=this.props,n=t.account,r=t.changeActiveAccount;e.preventDefault(),r(n.uid)}},{key:"handleCrossClick",value:function(e){var t=this.props,n=t.account,r=t.logoutAccount;e.preventDefault(),r(n.uid),d.a.send([f.Lc,f.M])}},{key:"showMobileMenu",value:function(e){var t=this.props,n=t.account,r=t.changeMobileMenuVisibility,o=t.changeMobileMenuType,i=t.setProccessedAccountUid;e.preventDefault(),o("logout"),i(n.uid),r(!0)}},{key:"render",value:function(){var e=this.props,t=e.account,n=e.avatarSettings,r=e.isTouch,i=e.logoutUrl,a=e.fallbackUrl;return t?o.a.createElement("li",{className:"passp-account-list-item_block"},o.a.createElement(k,{account:t,avatarSettings:n,logoutUrl:i,fallbackUrl:a,onClick:this.handleClick,onCrossClick:this.handleCrossClick,showMobileMenu:this.showMobileMenu,isAuthorized:!0,isDefault:!1,isTouch:r})):null}}]),t}();F.propTypes={isTouch:u.a.bool.isRequired,avatarSettings:u.a.shape({host:u.a.string.isRequired,pathname:u.a.string.isRequired}).isRequired,logoutUrl:u.a.string.isRequired,fallbackUrl:u.a.string.isRequired,logoutAccount:u.a.func.isRequired,changeActiveAccount:u.a.func.isRequired,changeMobileMenuVisibility:u.a.func.isRequired,changeMobileMenuType:u.a.func.isRequired,setProccessedAccountUid:u.a.func.isRequired};var B=Object(i.c)(function(e,t){var n=e.settings,r=n.avatar,o=n.ua,i=e.common,a=i.embeddedauth_url,c=i.retpath,u=i.origin,s=i.yu,l=t.account.uid,f=h({action:"logout",embeddedAuthUrl:a,retpath:c,yu:s,origin:u,uid:l}),d=h({action:"change_default",embeddedAuthUrl:a,retpath:c,yu:s,origin:u,uid:l});return{isTouch:o&&o.isTouch,avatarSettings:r,logoutUrl:f,fallbackUrl:d}},function(e){var t={logoutAccount:y.a,changeActiveAccount:x,changeMobileMenuVisibility:s.S,changeMobileMenuType:s.R,setProccessedAccountUid:s.pb};return Object.assign({},Object(a.b)(t,e),{dispatch:e})})(F);var H=n("614b39f039bc9b9d408e"),V=n("e14b389d821b6a025824");function W(e){return function(t,n){var r=n().common.csrf,o=e.uid,i=e.status,a=e.login,c=e.preferred_auth_method,u=e.allowed_auth_methods;if("INVALID"===i)return t(Object(s.W)(!1)),t(Object(s.bb)(e)),void t(Object(H.a)(a));var l={_uid:o,csrf_token:r};t(Object(s.W)(!0)),q.a.request("accounts/input-login",l).done(function(e){var n={};e&&e.input_login&&(n[o]=e&&e.input_login,t(Object(s.ab)(n)))}).always(function(){t(Object(s.W)(!1)),t(Object(s.bb)(e));var n=(c||"").indexOf("social_")>-1,r=(u||[]).some(function(e){return["password","magic_link","magic","magic_x_token","rfc_totp","otp"].indexOf(e)>-1});if(n&&!r)return t(Object(s.V)(e)),t(Object(s.Db)(a)),void t(Object(V.a)());t(Object(H.a)(a))})}}var G=n("256898036d63d335a892");function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var J=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?Q(e):t}(this,K(t).call(this,e))).handleClick=n.handleClick.bind(Q(n)),n.handleCrossClick=n.handleCrossClick.bind(Q(n)),n.showMobileMenu=n.showMobileMenu.bind(Q(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,r["Component"]),function(e,t,n){t&&z(e.prototype,t),n&&z(e,n)}(t,[{key:"handleClick",value:function(e){var t=this.props,n=t.account,r=t.editUrl,o=t.loginSuggestedAccount,i=t.domikIsLoading,a=t.setupBackPane;e.preventDefault(),i(!0),a(r),o(n)}},{key:"handleCrossClick",value:function(e){var t=this.props,n=t.account,r=t.forgetAccount;e.preventDefault(),r(n.uid),d.a.send([f.Lc,f.L])}},{key:"showMobileMenu",value:function(e){var t=this.props,n=t.account,r=t.changeMobileMenuVisibility,o=t.changeMobileMenuType,i=t.setProccessedAccountUid;e.preventDefault(),o("forget"),i(n.uid),r(!0)}},{key:"render",value:function(){var e=this.props,t=e.account,n=e.avatarSettings,r=e.fallbackUrl,i=e.isTouch;return t?o.a.createElement("li",{className:"passp-account-list-item_block"},o.a.createElement(k,{account:t,avatarSettings:n,fallbackUrl:r,onClick:this.handleClick,onCrossClick:this.handleCrossClick,showMobileMenu:this.showMobileMenu,isAuthorized:!1,isDefault:!1,isTouch:i})):null}}]),t}();J.propTypes={isTouch:u.a.bool.isRequired,avatarSettings:u.a.shape({host:u.a.string.isRequired,pathname:u.a.string.isRequired}).isRequired,editUrl:u.a.string.isRequired,fallbackUrl:u.a.string.isRequired,loginSuggestedAccount:u.a.func.isRequired,forgetAccount:u.a.func.isRequired,domikIsLoading:u.a.func.isRequired,setupBackPane:u.a.func.isRequired,changeMobileMenuVisibility:u.a.func.isRequired,changeMobileMenuType:u.a.func.isRequired,setProccessedAccountUid:u.a.func.isRequired};var X=Object(i.c)(function(e,t){var n=e.settings,r=n.avatar,o=n.ua,i=e.common,a=i.embeddedauth_url,c=i.retpath,u=i.yu,s=i.origin,l=i.editUrl,f=h({action:"switchTo",embeddedAuthUrl:a,retpath:c,yu:u,origin:s,uid:t.account.uid});return{isTouch:o&&o.isTouch,fallbackUrl:f,avatarSettings:r,editUrl:l}},function(e){var t={loginSuggestedAccount:W,forgetAccount:G.a,domikIsLoading:s.W,setupBackPane:s.qb,changeMobileMenuVisibility:s.S,changeMobileMenuType:s.R,setProccessedAccountUid:s.pb};return Object.assign({},Object(a.b)(t,e),{dispatch:e})})(J);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?ne(e):t}(this,te(t).call(this,e))).handleClick=n.handleClick.bind(ne(n)),n.handleCrossClick=n.handleCrossClick.bind(ne(n)),n.showMobileMenu=n.showMobileMenu.bind(ne(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(t,r["Component"]),function(e,t,n){t&&ee(e.prototype,t),n&&ee(e,n)}(t,[{key:"handleClick",value:function(e){var t=this.props,n=t.account,r=t.editUrl,o=t.loginSuggestedAccount,i=t.domikIsLoading,a=t.setupBackPane;e.preventDefault(),i(!0),a(r),o(n)}},{key:"handleCrossClick",value:function(e){var t=this.props,n=t.account,r=t.logoutAccount;e.preventDefault(),r(n.uid),d.a.send([f.Lc,f.M])}},{key:"showMobileMenu",value:function(e){var t=this.props,n=t.account,r=t.changeMobileMenuVisibility,o=t.changeMobileMenuType,i=t.setProccessedAccountUid;e.preventDefault(),o("logout"),i(n.uid),r(!0)}},{key:"render",value:function(){var e=this.props,t=e.account,n=e.avatarSettings,r=e.isTouch,i=e.fallbackUrl;return t?o.a.createElement("li",{className:"passp-account-list-item_block"},o.a.createElement(k,{account:t,avatarSettings:n,fallbackUrl:i,onClick:this.handleClick,onCrossClick:this.handleCrossClick,showMobileMenu:this.showMobileMenu,isAuthorized:!1,isDefault:!1,isTouch:r})):null}}]),t}();oe.propTypes={isTouch:u.a.bool.isRequired,avatarSettings:u.a.shape({host:u.a.string.isRequired,pathname:u.a.string.isRequired}).isRequired,editUrl:u.a.string.isRequired,fallbackUrl:u.a.string.isRequired,logoutAccount:u.a.func.isRequired,loginSuggestedAccount:u.a.func.isRequired,domikIsLoading:u.a.func.isRequired,setupBackPane:u.a.func.isRequired,changeMobileMenuVisibility:u.a.func.isRequired,changeMobileMenuType:u.a.func.isRequired,setProccessedAccountUid:u.a.func.isRequired};var ie=Object(i.c)(function(e,t){var n=e.settings,r=n.avatar,o=n.ua,i=e.common,a=i.embeddedauth_url,c=i.retpath,u=i.yu,s=i.origin,l=i.editUrl,f=t.account,d=h({action:"login",embeddedAuthUrl:a,retpath:c,yu:u,uid:f.uid,origin:s,login:f.login});return{isTouch:o&&o.isTouch,avatarSettings:r,fallbackUrl:d,editUrl:l}},function(e){var t={logoutAccount:y.a,loginSuggestedAccount:W,domikIsLoading:s.W,setupBackPane:s.qb,changeMobileMenuVisibility:s.S,changeMobileMenuType:s.R,setProccessedAccountUid:s.pb};return Object.assign({},Object(a.b)(t,e),{dispatch:e})})(oe),ae=n("a3c2d05881d3875b5dbb"),ce=n("8150816e8c486cf8a0f0");function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?fe(e):t}(this,le(t).call(this,e))).handleClick=n.handleClick.bind(fe(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(t,r["Component"]),function(e,t,n){t&&se(e.prototype,t),n&&se(e,n)}(t,[{key:"handleClick",value:function(e){var t=this.props,n=t.switchToModeAddingAccount,r=t.updateLoginValue,o=t.setLoginError,i=t.changeNativeInputValue;e.preventDefault(),r(""),i("login",""),o(null),n()}},{key:"render",value:function(){var e=this.props.addUserUrl;return o.a.createElement(E.a,{url:e,theme:"normal",onClick:this.handleClick,cls:"passp-account-list__sign-in-button"},o.a.createElement("span",{className:"passp-account-list__sign-in-icon"},o.a.createElement("span",{className:"passp-account-list__sign-in-icon-helpers"},o.a.createElement("span",{className:"passp-account-list__sign-in-icon-helper1"}),o.a.createElement("span",{className:"passp-account-list__sign-in-icon-helper2"}))),o.a.createElement("span",{className:"passp-account-list__sign-in-button-text"},"Войти в другой аккаунт"))}}],[{key:"mapStateToProps",value:function(e){return{addUserUrl:e.common.addUserUrl}}},{key:"mapDispatchToProps",value:function(e){var t={switchToModeAddingAccount:ae.a,updateLoginValue:s.Db,setLoginError:s.lb,changeNativeInputValue:ce.a};return Object.assign({},Object(a.b)(t,e),{dispatch:e})}}]),t}();pe.propTypes={switchToModeAddingAccount:u.a.func.isRequired,updateLoginValue:u.a.func.isRequired,changeNativeInputValue:u.a.func.isRequired,setLoginError:u.a.func.isRequired,addUserUrl:u.a.string.isRequired};var be=Object(i.c)(pe.mapStateToProps,pe.mapDispatchToProps)(pe);function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ye(this,ge(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(t,r["Component"]),function(e,t,n){t&&me(e.prototype,t),n&&me(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.authorizedAccounts,n=e.defaultAccount,r=e.hasUnauthorizedAccounts,i=e.suggestedAccounts,a=e.invalidAccounts,c=e.isSessionOverflow;return o.a.createElement("div",{className:"passp-account-list"},o.a.createElement("ul",{className:"passp-account-list-items"},n&&o.a.createElement(A,{key:n.uid,account:n}),t.filter(function(e){return!n||e.uid!==n.uid}).map(function(e){return o.a.createElement(B,{key:e.uid,account:e})}),r&&o.a.createElement("h3",{className:"passp-account-list__unathorized_accounts_title"},"Вы вышли из аккаунтов:"),i.map(function(e){return o.a.createElement(X,{key:e.uid,account:e})}),a.map(function(e){return o.a.createElement(ie,{key:e.uid,account:e})})),!c&&o.a.createElement(be,null))}}]),t}();_e.propTypes={authorizedAccounts:u.a.array.isRequired,defaultAccount:u.a.object,suggestedAccounts:u.a.array.isRequired,invalidAccounts:u.a.array.isRequired,hasUnauthorizedAccounts:u.a.bool.isRequired,isSessionOverflow:u.a.bool.isRequired};var Oe=Object(i.c)(function(e){var t=e.auth,n=t.unitedAccounts,r=t.authorizedAccountsDefaultUid,o=b()(n,function(e){return"000000"!==e.uid}),i=b()(o,{status:"VALID"}),a=b()(i,function(e){return e.uid===r})[0],c=b()(o,function(e){return"VALID"!==e.status}),u=b()(c,function(e){return void 0!==e.allowed_auth_methods}),s=b()(c,function(e){return void 0===e.allowed_auth_methods});return{authorizedAccounts:i,defaultAccount:a,suggestedAccounts:u,invalidAccounts:s,hasUnauthorizedAccounts:Boolean(u.length||s.length),isSessionOverflow:Boolean(i.length>=15)}})(_e),Ee=n("f469c14f5c3cd24dad9a"),we=n("415b2ec7a2c957bbe58a");function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){return!t||"object"!==ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),je(this,Se(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(t,r["Component"]),function(e,t,n){t&&Te(e.prototype,t),n&&Te(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setupBackPane,n=e.setupMode,r=e.setupPane,o=e.editUrl;d.a.goal(f.Mc),d.a.send([f.Lc]),t(null),n("edit"),r(o)}},{key:"render",value:function(){return o.a.createElement(Ee.a,{cls:"list"},o.a.createElement(we.a,null,"Выберите аккаунт для входа"),o.a.createElement(Oe,null))}}],[{key:"mapStateToProps",value:function(e){return{editUrl:e.common.editUrl}}},{key:"mapDispatchToProps",value:function(e){var t={setupBackPane:s.qb,setupPane:l.r,setupMode:s.rb};return Object.assign({},Object(a.b)(t,e),{dispatch:e})}}]),t}();Pe.propTypes={editUrl:u.a.string.isRequired,setupBackPane:u.a.func.isRequired,setupPane:u.a.func.isRequired,setupMode:u.a.func.isRequired};t.a=Object(i.c)(Pe.mapStateToProps,Pe.mapDispatchToProps)(Pe)},"614b39f039bc9b9d408e":function(e,t,n){"use strict";var r=n("98f11010eed1f30a67e8"),o=n.n(r),i=n("fb6358edfd8976cf491c"),a=n("4ee320a8137784c050e0"),c=n("e14b389d821b6a025824"),u=n("ec7a66791361653ff08d"),s=n("a3c2d05881d3875b5dbb"),l=n("7bc0c8a178911cdcd228"),f=n("0651733b927ea67727cd"),d=n("6720f7e94eecea453799"),p=n("2a8109ac628133d5b12f");function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,b){r(Object(a.W)(!0)),r(Object(a.lb)(null)),r(Object(a.kb)(!1));var h=b(),m=h.common,y=m.csrf,g=m.retpath,v=m.fretpath,_=m.origin,O=m.from,E=h.auth,w=E.process_uuid,k=E.form.pdd_domain,T={csrf_token:y,login:e};w&&(T.process_uuid=w),g&&(T.retpath=g),v&&(T.fretpath=v),_&&(T.origin=_),O&&(T.service=O),k&&e&&!/@/.test(e)&&(T.login="".concat(T.login,"@").concat(k)),k&&(T.is_pdd="1"),r(Object(a.Db)(e)),i.a.request("auth/multi_step/start",T).done(function(i){if(i.can_register)return r(Object(a.P)({isCanRegister:!0,registrationLogin:i.login||e,registrationType:i.account_type||"portal",registrationPhoneNumber:i.phone_number&&i.phone_number.original||"",registrationCountry:i.country||""})),r(Object(a.W)(!1)),"lite"===i.account_type?void r(Object(l.a)()):n?void r(function(e,t){var n=t(),r=n.auth.form,o=r.registrationLogin,i=r.registrationType,a=r.registrationPhoneNumber,c=r.registrationCountry,u=n.common,s=u.registration_url_with_params,l=u.lite_registration_url_with_params,b="portal"===i,h=b?s:l;d.a.send([p.P,b?p.R:p.O]),window.location.href=Object(f.a)(h,o,a,c)}):(r(Object(a.lb)("login.can_register")),d.a.send([p.Cc,p.vc,p.wc]),void("magic"===b().auth.mode&&r(Object(s.a)())));r(Object(a.P)({isCanRegister:!1})),d.a.send([p.Cc,p.vc,p.yc]);var h=i.auth_methods,m=i.preferred_auth_method,y=i.track_id,g=i.csrf_token,v=i.magic_link_email,_=b(),O=_.auth,E=O.unitedAccounts,w=O.form.isForceOTP,k=O.isQRAuthEnabled,T=_.settings.ua,j=o()(E,function(t){return t.login===e})[0];j=j?Object.assign({},j,{allowed_auth_methods:j.allowed_auth_methods||h||[],preferred_auth_method:j.preferred_auth_method||m||h&&h[0]||"password",email:v}):{isAddedAccount:!0,allowed_auth_methods:h,preferred_auth_method:h[0]||"password",avatarId:"0/0-0",email:v,login:e},t&&r(Object(a.qb)(t));var S=j.preferred_auth_method;if("magic_x_token"===S&&!k){var C=j.allowed_auth_methods;j.preferred_auth_method=C.filter(function(e){return"magic_x_token"!==e})[0]||"password"}r(Object(a.V)(j)),r(Object(a.Gb)(y,g));var P="magic"===S||"magic_x_token"===S&&k,R=T&&T.isTouch;r(!P||w||R?Object(c.a)():Object(u.a)(!0))}).fail(function(e){var t=e.errors[0];d.a.send([p.Cc,p.vc,p.xc,t]),r(Object(a.lb)(t)),r(Object(a.P)({isCanRegister:!1})),e.can_be_restored&&r(Object(a.kb)(!0)),n||r(Object(s.a)())}).always(function(){r(Object(a.W)(!1))})}}n.d(t,"a",function(){return b})},"65f992ec08dfd9108e30":function(e,t,n){"use strict";t.a={"magic_link.expired":"Ссылка для входа устарела","magic_link.not_sent":"Ссылка для входа недействительна","magic_link.secret_not_matched":"Ссылка для входа недействительна","magic_link.invalidated":"Вы отменили вход с помощью письма","account.auth_passed":"По этой ссылке уже был совершен вход в аккаунт","action.not_required":"По этой ссылке уже был совершен вход в аккаунт","track.not_found":"Ссылка для входа устарела","rate.limit_exceeded":"Не удается отправить письмо, попробуйте другой способ входа в аккаунт","account.global_logout":"Ссылка для входа недействительна"}},"6720f7e94eecea453799":function(e,t,n){"use strict";var r=n("a5a1b76574b70ca294d2"),o=n.n(r),i={initialized:!1,init:function(e){var t=e.getState(),n=$("body").attr("data-metrics-id"),r=$("body").attr("data-version");this.headerMetrics=[t.metrics.header],o.a.init(n,t.metrics.experiments,r),this.initialized=!0},setHeader:function(e){this.headerMetrics=[e]},send:function(e){this.initialized&&o.a.count(this.headerMetrics.concat(e))},goal:function(e,t){this.initialized&&o.a.reachGoal(e,t)}};t.a=i},"6a4c14dbe46fa00ed867":function(e,t,n){"use strict";var r=n("1ad7ce2a57da9a1fd4ce"),o=n("000049b9b67b0c120b8b"),i=Object(r.a)({chunkName:function(){return"Start-RestorePasswordStart-jsx"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(15).then(n.bind(null,"169341abdf35e5157a0e"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"169341abdf35e5157a0e"}},{fallback:Object(o.a)()}),a=Object(r.a)({chunkName:function(){return"CaptchaPage-CaptchaPage-jsx"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(16).then(n.bind(null,"c95464caef6efc5b4e73"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"c95464caef6efc5b4e73"}},{fallback:Object(o.a)()}),c=Object(r.a)({chunkName:function(){return"MethodPage-MethodPage-jsx"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(17).then(n.bind(null,"393b6e66dcb40c735301"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"393b6e66dcb40c735301"}},{fallback:Object(o.a)()}),u=Object(r.a)({chunkName:function(){return"MethodConfirmPage-MethodConfirmPage-jsx"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(18).then(n.bind(null,"1afa9934b494d0c3b3f3"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"1afa9934b494d0c3b3f3"}},{fallback:Object(o.a)()}),s=Object(r.a)({chunkName:function(){return"Finish-RestorePasswordFinish-jsx"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(19).then(n.bind(null,"6a12ab732c2cf200307b"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"6a12ab732c2cf200307b"}},{fallback:Object(o.a)()}),l=Object(r.a)({chunkName:function(){return"BindPhone-BindPhonePage-jsx"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(20).then(n.bind(null,"cd4189fe7b82db40a10a"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"cd4189fe7b82db40a10a"}},{fallback:Object(o.a)()}),f=Object(r.a)({chunkName:function(){return"BindPhone-BindConfirmPage-jsx"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(21).then(n.bind(null,"38c853db39efb4e4880e"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"38c853db39efb4e4880e"}},{fallback:Object(o.a)()}),d=Object(r.a)({chunkName:function(){return"Notify-NotifyPage-jsx"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(22).then(n.bind(null,"42a5dd01352e65411620"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"42a5dd01352e65411620"}},{fallback:Object(o.a)()}),p=[{path:"/auth/restore/password/notify",exact:!0,component:d},{path:"/auth/restore/password",exact:!0,component:i},{path:"/auth/restore/password/captcha",exact:!0,component:a},{path:"/auth/restore/password/method",exact:!0,component:c},{path:"/auth/restore/password/method-confirm",exact:!0,component:u},{path:"/auth/restore/password/finish",exact:!0,component:s},{path:"/auth/restore/password/bind-phone",exact:!0,component:l},{path:"/auth/restore/password/bind-phone-confirm",exact:!0,component:f}];t.a=p},"75e2eb8d7a528e88a9ed":function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),i=n("8a2d1b95e05b6a321e74"),a=n.n(i);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?l(e):t}(this,s(t).call(this,e))).startTimer=n.startTimer.bind(l(n)),n.stopTimer=n.stopTimer.bind(l(n)),n.timerInterval=null,n.state={currentCountdown:30},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r["Component"]),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"componentDidMount",value:function(){this.startTimer()}},{key:"componentWillUnmount",value:function(){this.stopTimer()}},{key:"startTimer",value:function(){var e=this,t=this.props.onTimerEnd;this.setState({currentCountdown:30}),this.timerInterval=setInterval(function(){e.setState(function(e){return{currentCountdown:e.currentCountdown-1}}),e.state.currentCountdown<=1&&(e.stopTimer(),t&&"function"==typeof t&&t())},1e3)}},{key:"stopTimer",value:function(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null),this.setState({currentCountdown:0})}},{key:"render",value:function(){var e=this.state.currentCountdown;return e<=1?null:o.a.createElement("span",{className:"passp-timer"},"00:",e<10?"0".concat(e):e)}}]),t}();d.propTypes={onTimerEnd:a.a.func}},"7bc0c8a178911cdcd228":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("2de66506e54747eb79c9"),o=n("0a056e5750f1e7f88beb"),i=n("4ee320a8137784c050e0"),a=n("d980a6b4f65a3a13be8b");function c(){return function(e,t){var n=t(),c=n.common,u=c.authLiteRegisterUrl,s=c.addUserUrl;"registerLite"!==n.auth.mode&&(e(Object(i.qb)(s)),e(Object(a.r)(u)),e({type:o.l}),e(Object(r.d)(u)))}}},"7be7712634cfee58c146":function(e,t,n){"use strict";n.d(t,"f",function(){return o}),n.d(t,"G",function(){return i}),n.d(t,"H",function(){return a}),n.d(t,"F",function(){return c}),n.d(t,"z",function(){return u}),n.d(t,"v",function(){return s}),n.d(t,"A",function(){return l}),n.d(t,"u",function(){return f}),n.d(t,"h",function(){return d}),n.d(t,"D",function(){return p}),n.d(t,"g",function(){return h}),n.d(t,"y",function(){return m}),n.d(t,"C",function(){return y}),n.d(t,"B",function(){return g}),n.d(t,"w",function(){return v}),n.d(t,"x",function(){return _}),n.d(t,"E",function(){return O}),n.d(t,"p",function(){return E}),n.d(t,"q",function(){return w}),n.d(t,"t",function(){return k}),n.d(t,"i",function(){return T}),n.d(t,"k",function(){return j}),n.d(t,"l",function(){return S}),n.d(t,"n",function(){return C}),n.d(t,"j",function(){return P}),n.d(t,"s",function(){return R}),n.d(t,"d",function(){return A}),n.d(t,"a",function(){return q}),n.d(t,"I",function(){return N}),n.d(t,"c",function(){return x}),n.d(t,"r",function(){return U}),n.d(t,"m",function(){return L}),n.d(t,"b",function(){return M}),n.d(t,"e",function(){return I}),n.d(t,"o",function(){return D}),n.d(t,"J",function(){return F}),n.d(t,"P",function(){return B}),n.d(t,"N",function(){return H}),n.d(t,"K",function(){return V}),n.d(t,"M",function(){return W}),n.d(t,"L",function(){return G}),n.d(t,"O",function(){return $});var r=n("6720f7e94eecea453799"),o="GET_QUESTIONS_LIST",i="UPDATE_VALIDATION_METHOD",a="UPDATE_VALUES",c="UPDATE_STATES",u="UPDATE_HINT_QUESTION_STATES",s="UPDATE_ERRORS",l="UPDATE_PHONE_CODE_STATE",f="UPDATE_EMPTY_ERRORS",d="HUMAN_CONFIRMATION_DONE",p="UPDATE_QUESTION_VALUES",b="UPDATE_FETCHING_STATUS",h="GET_SUGGESTED_LOGINS",m="UPDATE_HINT_CUSTOM_QUESTION_STATE",y="UPDATE_PHONE_VALUES_TO_DEFAULTS",g="UPDATE_PHONE_STATES_TO_DEFAULTS",v="UPDATE_ERRORS_VALID",_="UPDATE_GLOBAL_HINT_STATUS",O="UPDATE_REG_ERROR",E="SET_FIELD_ERROR_ACTIVE",w="SET_GROUP_ERRORS",k="UPDATE_CONFIRMATION_FETCHING_STATUS",T="registration",j="registration_pdd",S="registration_pdd_mobile",C="SET_CAPTCHA_REQUIRED",P="registration_mobile",R="SET_SUGGESTION_VALIDATING_STATUS",A="CLEAR_SUGGESTED_LOGINS",q="CHANGE_ACTIVE_FIELD",N="VALIDATE_PHONE_FOR_CALL",x="CHANGE_PHONE_CONFIRMATION_TYPE",U="SET_MAGIC_CONFIRMATION_CODE",L="SET_CALL_CONFIRMATION_TIMER",M="CHANGE_CALL_CONFIRMATION_PROCESS",I="FORCE_CHECKED_CONFIRMATION_CODE",D="SET_CONFIRMATION_CODE_LENGTH";function F(e){return{type:C,isRequired:e}}function B(e){return{type:a,data:e}}function H(e){return function(t,n){var o=n().form.prefix;t({type:c,data:e}),"valid"===e.status&&"phone"!==e.field&&(r.a.send(["Успешное заполнение",e.field]),r.a.goal("".concat(o,"_field_valid_").concat(e.field)))}}function V(e){return{type:s,data:e}}function W(e){return{type:O,data:e}}function G(e){return{type:b,isFetching:e}}function $(e){return{type:h,data:e}}},"7bec9e0f5607402a990d":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("4ee320a8137784c050e0"),o=n("991bab4cbee4bd95d9b7");function i(){return function(e,t){var n=t().common,i=n.retpath,a=n.profile_url,c=i||a;e(Object(r.eb)()),e(Object(o.a)(c))}}},"7db34b3d0bca6392a74a":function(e,t,n){"use strict";var r=n("fb6358edfd8976cf491c"),o=n("4ee320a8137784c050e0"),i=n("b2d0f77fd033b41cb6bc"),a=n("3f552ab013eb664d938f");var c=n("287b99d6936bf6df3e65"),u=n("6720f7e94eecea453799"),s=n("2a8109ac628133d5b12f");function l(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var d=n(),p=d.restoreLogin,b=p.phone,h=p.confirmMethod,m=p.isValidPhone,y=p.isPhoneOverheated,g=p.errors,v=g.code,_=g.phone,O={phone_number:b,track_id:d.common.track_id,display_language:d.settings.lang,confirm_method:h},E="by_sms"===h;if(E||!("callsLimitExceeded"===v||"callsLimitExceeded"===_)&&!y||(t(Object(i.w)("by_sms")),O.confirm_method="by_sms",E=!0),t(Object(i.t)()),t(Object(o.W)(!0)),!E&&!m)return t(function(e){return function(t,n){var o=n(),a=o.restoreLogin.phone,c=o.common,u={phone_number:a,validate_for_call:!0,check_speech:!0,track_id:c.track_id,csrf_token:c.csrf},s=function(){t(Object(i.w)("by_sms")),t(Object(i.s)(!1))};r.a.request("auth/validate_phone",u).done(function(e){Boolean(e.valid_for_call)&&"ok"===e.status?t(Object(i.s)(!0)):s()}).fail(s).always(function(){return t(l(e))})}}(e)),void t(Object(o.W)(!1));r.a.request("auth/restore_login/check_phone",O).done(function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(Object(i.m)(!0)),t(Object(o.T)("restoreLoginEnterConfirmationCode")),t(Object(o.U)(!0)),u.a.send([s.vb,s.qb]),r.calling_number_template&&t(Object(i.x)(r.calling_number_template)),f(n(),e)}).fail(function(r){var l=r.errors||[];if(l.includes("user.not_verified"))return t(Object(o.T)("restoreLoginEnterCaptcha")),t(Object(o.U)(!0)),void t(Object(o.Q)(!0));l.includes("phone_secure.not_found")&&(t(Object(o.U)(!1)),t(Object(o.T)("")),t(Object(i.v)([])),t(Object(a.a)())),l.includes("calls_limit.exceeded")&&t(Object(i.r)(!0)),t(Object(i.u)(Object(c.a)(l)));var d=l.some(function(e){return"captcha.not_matched"===e||"captcha.empty"===e});u.a.send(d?[s.vb,s.lb]:[s.vb,s.pb,l[0]]),f(n(),e,l)}).always(function(){return t(Object(o.W)(!1))})}}function f(e,t,n){var r=e.restoreLogin,o=r.isCallExp,i=r.isFlashCallExp,a=r.confirmMethod,c=[s.vb],l="by_sms"===a;if(o?c.push(s.ib):i?c.push(s.jb):c.push(s.kb),Array.isArray(n)&&n.length)c.push(l?s.tb:s.rb),c.push(n.join(","));else{var f=t?s.Jb:s.Hb,d=t?s.Mb:s.Kb;c.push(l?d:f)}u.a.send(c)}n.d(t,"a",function(){return l})},"7ea51c4460e1acb054fa":function(e,t,n){"use strict";function r(e){var t=e;return"."===t.charAt(t.length-1)&&(t=t.slice(0,-1)),t}n.d(t,"a",function(){return r})},"7ed68ea4ffabadd59750":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return a});var r="SET_AUTH_MESSENGER_ERROR",o="AUTH_MESSENGER_SENT";function i(e){return{type:r,error:e}}function a(e){return{type:o,code:e}}},"8150816e8c486cf8a0f0":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("f829dce6e807e79181ee");function o(e,t){return function(){if("undefined"!=typeof window){var n=document.getElementById("".concat(r.a).concat(e));n&&(n.value=t)}}}},"81e3542ee6dfa9281cbe":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"e",function(){return c}),n.d(t,"h",function(){return u}),n.d(t,"f",function(){return s}),n.d(t,"g",function(){return l});var r="SET_CHALLENGE_DATA",o="UPDATE_CHALLENGE_VALUE",i="SET_CHALLENGE_ERROR",a="UPDATE_CHALLENGE_TYPE";function c(e){return{type:r,data:e}}function u(e){return{type:o,value:e}}function s(e){return{type:i,error:e}}function l(e){return{type:a,newChallenge:e}}},"8673aa839ecc941c412a":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("b24de1e495698d2f533b"),o=n("311fad8e7fa58bbf8bec");function i(e){return function(t,n){var i=n().captcha,a=i.playing,c=i.introSound;a||(t(Object(r.j)(!0)),e?c&&"function"==typeof c.play&&c.play():t(Object(o.a)()))}}},"887066909d91988c03a4":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("fb6358edfd8976cf491c"),o=n("2e00c83ced56b4015524"),i=n("4ee320a8137784c050e0");function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n,c){var u=c(),s=u.auth.form.captcha_answer,l=u.common,f=l.track_id,d=l.csrf,p=u.captcha,b=p.trackId,h=p.key,m={track_id:b||f,csrf_token:d,answer:s};if(h&&(m.key=h),!s||!s.trim())return n(Object(i.jb)("captcha.empty")),void n(Object(i.W)(!1));r.a.request("checkHuman",m).done(function(r){if("ok"===r.status)return n(Object(i.jb)("")),n(Object(i.Q)(!1)),void n(e.apply(void 0,a(t)));n(Object(o.a)()),n(Object(i.jb)(r.errors)),n(Object(i.W)(!1))}).fail(function(e){n(Object(o.a)()),n(Object(i.jb)(e.errors)),n(Object(i.W)(!1))})}}},"8b51c0d0c1d1775789f5":function(e,t,n){"use strict";var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),i=n("0a81c721557e72a0975d"),a=n("b912ecc4473ae8a2ff0b"),c=n.n(a),u=n("8a2d1b95e05b6a321e74"),s=n.n(u),l=n("e6034e01754f26236b79"),f=n("ec7a66791361653ff08d"),d=n("2a8109ac628133d5b12f"),p=n("6720f7e94eecea453799"),b=n("12409bff7d6b1ff45b24");function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?g(e):t}(this,y(t).call(this,e))).state={isShowFullList:Boolean(e.socialExtended)},n.showFullList=n.showFullList.bind(g(n)),n.authSocial=n.authSocial.bind(g(n)),n.changePromoTooltipPosition=n.changePromoTooltipPosition.bind(g(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,r["Component"]),function(e,t,n){t&&m(e.prototype,t),n&&m(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;this.props.isShowQRAuthPromoTooltip&&(Object(b.a)(),this.promoTimer=setTimeout(function(){e.changePromoTooltipPosition()},600),$(window).on("resize",this.changePromoTooltipPosition))}},{key:"componentDidUpdate",value:function(e){if("addingAccount"===e.mode&&"addingAccount"!==this.props.mode){var t=document.getElementById("qr-promo-tooltip");this.promoTimer&&clearTimeout(this.promoTimer),t&&(t.style.display="none",t.style.opacity="0",t.style.display="block")}}},{key:"componentWillUnmount",value:function(){this.props.isShowQRAuthPromoTooltip&&$(window).off("resize",this.changePromoTooltipPosition)}},{key:"changePromoTooltipPosition",value:function(){var e=document.querySelector(".passp-social-block__list-item-yandex"),t=document.getElementById("qr-promo-tooltip");if(e&&t){var n=e.getBoundingClientRect();t.style.top="".concat(n.top-10,"px"),t.style.left="".concat(n.left-195,"px"),t.style.opacity="1"}}},{key:"showFullList",value:function(e){e.stopPropagation(),this.setState({isShowFullList:!0}),setTimeout(function(){var e=document.querySelectorAll(".passp-social-block__list-item-secondary");e.length&&e[0].focus()},300)}},{key:"authSocial",value:function(e){var t=this.props,n=t.dispatch,r=t.socialScope,o=e.code,i=e.name;"yandex"!==o?(p.a.send([d.Cc,d.Nc,i||o]),n(Object(l.a)({provider:o,scope:r&&r[o]}))):n(Object(f.a)(!0))}},{key:"render",value:function(){var e=this,n=this.props,r=n.socialProviders,i=n.minimal,a=n.intranet,u=n.isQRPromoEnabled,s=n.isBrightButtonsExp,l=n.isRegister,f=this.state.isShowFullList,d=u?"Войти с помощью":"Войти с помощью соцсетей";return l&&(d="Регистрация через соцсеть:"),i||a?null:o.a.createElement("div",{className:"passp-social-block"},o.a.createElement("h3",{className:"passp-social-block__title"},d),o.a.createElement("ul",{className:c()("passp-social-block__list",{"passp-social-block__list_full":f,"passp-social-block_with-qr-promo":u,"passp-social-block_with-bright-buttons":s})},r.slice(0,3).map(function(n){var r=n.id,i=n.data;return o.a.createElement("li",{key:r,onKeyUp:t.handleEnterKey,onClick:function(t){t.stopPropagation(),e.authSocial(i)},className:c()(t.getSocialItemClass(i),{"passp-social-block__list-item-secondary":!1}),tabIndex:"0"},o.a.createElement("span",{className:t.getSocialItemIconClass(i)}))}),r.length>3&&o.a.createElement("li",{key:"more",onKeyUp:t.handleEnterKey,onClick:this.showFullList,tabIndex:"0",className:"passp-social-block__list-item passp-social-block__list-item_more"},o.a.createElement("span",{className:"passp-social-block__list-item-icon passp-social-block__list-item-icon_more"})),r.slice(3).map(function(n){var r=n.id,i=n.data;return o.a.createElement("li",{key:r,onKeyUp:t.handleEnterKey,onClick:function(t){t.stopPropagation(),e.authSocial(i)},className:c()(t.getSocialItemClass(i),{"passp-social-block__list-item-secondary":!0}),tabIndex:f?"0":"-1"},o.a.createElement("span",{className:t.getSocialItemIconClass(i)}))})))}}],[{key:"handleEnterKey",value:function(e){13===e.keyCode&&(e.stopPropagation(),e.target.click())}},{key:"getSocialItemClass",value:function(e){return"passp-social-block__list-item passp-social-block__list-item-".concat(e.code)}},{key:"getSocialItemIconClass",value:function(e){return"passp-social-block__list-item-icon passp-social-block__list-item-icon_".concat(e.code)}},{key:"mapStateToProps",value:function(e){var t=e.social,n=e.customs,r=n.socialScope,o=n.socialExtended,i=n.minimal,a=e.settings,c=a.intranet,u=a.ua,s=e.auth,l=s.isQRPromo1Enabled,f=s.isQRAuthPromoShowed,d=s.isBrightButtonsExp,p=s.mode,b={vk:1,fb:2,gg:3,mr:4,ok:5,tw:6,sberbank:7},h=t.providers.slice().filter(function(e){return e.enabled}).sort(function(e,t){return b[e.data.code]>b[t.data.code]?1:-1}),m=Boolean(u&&u.isTouch),y=l&&!m,g=y&&!f;return y&&h.unshift({id:"yandex",data:{code:"yandex"}}),{socialProviders:h,socialScope:r,socialExtended:o,minimal:i,intranet:c,isQRPromoEnabled:y,isBrightButtonsExp:d,isShowQRAuthPromoTooltip:g,mode:p}}}]),t}();_.defaultProps={minimal:!1,intranet:!1,isRegister:!1},_.propTypes={socialProviders:s.a.array.isRequired,mode:s.a.string,minimal:s.a.bool.isRequired,intranet:s.a.bool.isRequired,isQRPromoEnabled:s.a.bool,isBrightButtonsExp:s.a.bool,socialScope:s.a.object,socialExtended:s.a.bool,dispatch:s.a.func.isRequired,isShowQRAuthPromoTooltip:s.a.bool,isRegister:s.a.bool},t.a=Object(i.c)(_.mapStateToProps)(_)},"8d4307b24932d183c9b4":function(e,t){!function(t,n){"use strict";"object"==typeof e&&e.exports?e.exports=n():t.simpleCipher=n()}(this,function(){"use strict";var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function t(e,t){return e.charCodeAt(Math.floor(t%e.length))}function n(e){if("string"!=typeof e)return!1;for(var t=0;t<e.length;t++)if(e.charCodeAt(t)>127)return!1;return!0}return{encode:function(r,o){if(n(r)&&n(o))return function(t){var n,r,o,i,a,c,u=0,s="";if(!t)return t;do{n=(a=t[u++]<<16|t[u++]<<8|t[u++])>>18&63,r=a>>12&63,o=a>>6&63,i=63&a,s+=e.charAt(n)+e.charAt(r)+e.charAt(o)+e.charAt(i)}while(u<t.length);return((c=t.length%3)?s.slice(0,c-3):s)+"===".slice(c||3)}(o=function(e,n){return n.split("").map(function(n,r){return n.charCodeAt(0)^t(e,r)})}(r,o));throw new Error("Secret and data should be ASCII string")},decode:function(r,o){if(n(r)&&n(o))return function(e,n){return n.map(function(n,r){return String.fromCharCode(n^t(e,r))}).join("")}(r,o=function(t){var n,r,o,i,a,c,u=0,s=[];if(!t)return t;t+="";do{n=(c=e.indexOf(t.charAt(u++))<<18|e.indexOf(t.charAt(u++))<<12|(i=e.indexOf(t.charAt(u++)))<<6|(a=e.indexOf(t.charAt(u++))))>>16&255,r=c>>8&255,o=255&c,s.push(n),64!==i&&(s.push(r),64!==a&&s.push(o))}while(u<t.length);return s}(o));throw new Error("Secret and data should be ASCII string")}}})},"991bab4cbee4bd95d9b7":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("4ee320a8137784c050e0"),o=n("2de66506e54747eb79c9");function i(e){return function(t,n){var i=n().common.editUrl;t(Object(r.W)(!0)),t(Object(o.e)(i)),Object(r.cb)(e)}}},a1d676ee048a2b15fe67:function(e,t,n){"use strict";var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),i=n("8a2d1b95e05b6a321e74"),a=n.n(i),c=function(e){e.preventDefault()},u=function(e){var t=e.cls,n=e.children,r=e.onSubmit;return o.a.createElement("form",{onSubmit:r||c,className:"passp-form passp-".concat(t,"-form")},n)};u.propTypes={cls:a.a.string.isRequired,children:a.a.node.isRequired,onSubmit:a.a.func},t.a=u},a3c2d05881d3875b5dbb:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("2de66506e54747eb79c9"),o=n("4ee320a8137784c050e0");function i(){return function(e,t){var n=t(),i=n.common,a=i.addUserUrl,c=i.editUrl,u=n.auth,s=u.unitedAccounts,l=void 0===s?{}:s;"addingAccount"!==u.mode&&(e(Object(r.d)(a)),Object.keys(l).length>0?e(Object(o.qb)(c)):e(Object(o.qb)(null)),e(Object(o.ub)()))}}},a5a1b76574b70ca294d2:function(e,t,n){(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(n,r){"use strict";"object"===t(e)&&e.exports?e.exports=r($):n.Metrika=r(n.$)}(this,function(e){return{inited:!1,counts:[],goals:[],counter:null,init:function(t,n,r){var o=this;if(!t)return this.clear();r&&(o.version=r),e.ajax({url:"https://mc.yandex.ru/metrika/watch.js",dataType:"script",cache:!0,scriptAttrs:{crossorigin:"anonymous"},success:function(){if(window.Ya&&Ya.Metrika){var e={id:t,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0,trackHash:!0};n&&(e.experiments=n);try{o.counter=window["yaCounter"+t]=new Ya.Metrika(e)}catch(e){return o.clear()}for(o.inited=!0;o.counts.length;)o.count.apply(o,o.counts.shift());for(;o.goals.length;)o.reachGoal.apply(o,o.goals.shift())}}})},wrap:function(e,t){var n={};return n[t]=e,n},flatten:function(e){for(var t=[];e.length;)t=t.concat(e.shift());return t.filter(function(e){return Boolean(e)})},count:function(e){var t=Array.prototype.slice.call(arguments);if(!this.inited)return this.counts.push(t);for(e=(t=this.flatten(t)).pop();t.length;)e=this.wrap(e,t.pop());this.version&&(e.info={version:this.version}),this.counter.params(e)},reachGoal:function(e,t){var n=Array.prototype.slice.call(arguments);if(!this.inited)return this.goals.push(n);this.counter.reachGoal(e,t)},clear:function(){this.count=e.noop,this.counts=[],this.goals=[]}}})}).call(this,n("f586cf5b9f4b7719b2c1")(e))},a7262dc46759c15aec75:function(e,t,n){"use strict";n("fb6358edfd8976cf491c"),n("442e7e280b4a55cd8a6e"),n("199afe915d0301db3224"),n("6720f7e94eecea453799"),n("2e00c83ced56b4015524"),n("d980a6b4f65a3a13be8b");var r=n("3ad3c1378076e862aab0");n.d(t,"a",function(){return o}),n.d(t,"b",function(){return c}),n.d(t,"e",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"c",function(){return d});var o="one_domik_v2",i="REDIRECT_TO_RETPATH",a="REDIRECT_TO_BACKPATH",c="UPDATE_TOKENS_SUCCESS",u="DOMIK_IS_LOADING";function s(){return function(e,t){var n=t(),r=n.common.retpath||n.common.profile_url;e({type:i}),e(f(r))}}function l(){return function(e,t){var n=t(),r=n.common.backpath||n.common.profile_url;e({type:a}),e(f(r))}}function f(e){return function(t,n){var o=n().common.editUrl;t({type:u,loading:!0}),t(Object(r.replace)(o)),function(e){var t=document.createElement("form"),n=document.createElement("input");t.method="GET",t.action="/redirect",n.value=e,n.name="url",t.appendChild(n),document.body.appendChild(t),t.submit(),t.parentNode.removeChild(t)}(e)}}function d(e){return{type:u,loading:e}}},aeb629ea3b6b52a55f8e:function(e,t,n){"use strict";var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),i=n("8a2d1b95e05b6a321e74"),a=n.n(i),c=n("f829dce6e807e79181ee"),u=n("5b1ba08c9bbd7767f36c"),s=n("ce71044ed50ae6df54b1"),l=n("a1d676ee048a2b15fe67"),f=n("f3e5b0b53b9a60481e9f");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,h(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,r["Component"]),function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.isCaptchaRequired,n=e.phoneNumber,r=e.handlePhoneChange,i=e.errors,a=void 0===i?[]:i,d=e.sentConfirmationCode,p=e.goBack,b=e.action,h=null;return a.length>0&&(h=f.a[a[0]]?f.a[a[0]]:f.a.internal),o.a.createElement(l.a,{cls:"enter-phone"},o.a.createElement(c.b,{fieldLabel:"Номер телефона",fieldValue:n,fieldName:"phoneNumber",fieldType:"text",fieldError:h,onFieldChange:r}),t&&o.a.createElement(u.a,null),o.a.createElement("div",{"data-t":"phone_submit",className:"passp-button"},o.a.createElement(s.a,{buttonType:"submit",buttonText:"add"===b?"Привязать":"Подтвердить",buttonTheme:"action",onClick:d})),p&&o.a.createElement("div",{"data-t":"phone_skip",className:"passp-button"},o.a.createElement(s.a,{buttonType:"button",buttonText:"Не сейчас",buttonTheme:"normal",onClick:p})))}}]),t}();y.propTypes={isCaptchaRequired:a.a.bool.isRequired,phoneNumber:a.a.string.isRequired,handlePhoneChange:a.a.func.isRequired,errors:a.a.array.isRequired,sentConfirmationCode:a.a.func.isRequired,goBack:a.a.func,action:a.a.string.isRequired},t.a=y},b1ce1a7989017c577d0f:function(e,t,n){"use strict";t.a={fb:"Facebook",gg:"Google",tw:"Twitter",vk:"ВКонтакте",mr:"Mail.ru",ok:"Одноклассники"}},b24de1e495698d2f533b:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"h",function(){return o}),n.d(t,"g",function(){return a}),n.d(t,"d",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"e",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return f}),n.d(t,"i",function(){return d}),n.d(t,"n",function(){return p}),n.d(t,"r",function(){return b}),n.d(t,"p",function(){return h}),n.d(t,"m",function(){return m}),n.d(t,"j",function(){return y}),n.d(t,"o",function(){return g}),n.d(t,"q",function(){return v}),n.d(t,"k",function(){return _}),n.d(t,"l",function(){return O}),n.d(t,"s",function(){return E});var r="CHANGE_CAPTCHA_PLAY_STATUS",o="LOAD_CAPTCHA",i="GET_CAPTCHA_FAIL",a="GET_IMAGE_CAPTCHA_SUCCESS",c="GET_AUDIO_CAPTCHA",u="GET_AUDIO_CAPTCHA_SUCCESS",s="GET_AUDIO_CAPTCHA_FAIL",l="CHANGE_CAPTCHA_TYPE",f="CLEAR_CAPTCHA_PROPS",d="SET_CAPTCHA_TRACK";function p(e){return{type:s,error:e}}function b(){return{type:o}}function h(e){return{type:i,error:e}}function m(){return{type:c}}function y(e){return{type:r,playing:e}}function g(e,t,n){var r={type:u,key:e,captchaSound:n};return t&&(r.introSound=t),r}function v(e,t){return{type:a,key:e,imageUrl:t}}function _(){return{type:l}}function O(){return{type:f}}function E(e){return{type:d,trackId:e}}},b2d0f77fd033b41cb6bc:function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"j",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"k",function(){return s}),n.d(t,"g",function(){return l}),n.d(t,"f",function(){return f}),n.d(t,"i",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"l",function(){return b}),n.d(t,"q",function(){return h}),n.d(t,"o",function(){return m}),n.d(t,"p",function(){return y}),n.d(t,"n",function(){return g}),n.d(t,"v",function(){return v}),n.d(t,"m",function(){return _}),n.d(t,"s",function(){return O}),n.d(t,"r",function(){return E}),n.d(t,"u",function(){return w}),n.d(t,"t",function(){return k}),n.d(t,"w",function(){return T}),n.d(t,"x",function(){return j});var r="[RESTORE_LOGIN] CHANGE_PHONE",o="[RESTORE_LOGIN] CHANGE_FIRST_NAME",i="[RESTORE_LOGIN] CHANGE_LAST_NAME",a="[RESTORE_LOGIN] CHANGE_CONFIRMATION_CODE",c="[RESTORE_LOGIN] SET_SUGGESTED_ACCOUNTS",u="[RESTORE_LOGIN] CHANGE_CHECK_PHONE_STATUS",s="[RESTORE_LOGIN] SWITCH_CONFIRM_METHOD",l="[RESTORE_LOGIN] CHANGE_PHONE_VALIDATION_STATUS",f="[RESTORE_LOGIN] CHANGE_PHONE_OVERHEAT_STATUS",d="[RESTORE_LOGIN] SET_ERRORS",p="[RESTORE_LOGIN] CLEAR_ERRORS",b="UPDATE_PHONE_CONFIRMATION_CALL_NUMBER";function h(e){return{type:r,phone:e}}function m(e){return{type:o,firstName:e}}function y(e){return{type:i,lastName:e}}function g(e){return{type:a,confirmationCode:e}}function v(e){return{type:c,accounts:e}}function _(e){return{type:u,isPhoneCheckSent:e}}function O(e){return{type:l,isValidPhone:e}}function E(e){return{type:f,isPhoneOverheated:e}}function w(e){return{type:d,errors:e}}function k(){return{type:p}}function T(e){return{type:s,confirmMethod:e}}function j(e){return{type:b,callingNumberStr:e}}},ba531bf28b1c27064b28:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("b24de1e495698d2f533b"),o=n("8673aa839ecc941c412a");function i(e,t){return function(n){var i=window.Howl,a=e.voice&&e.voice.url;if(i&&a){var c=new i({src:e.voice.url,html5:!0,preload:!0,format:["mp3"]});c.on("load",function(){n(Object(r.o)(e.key,null,c)),t&&n(Object(o.a)())}),c.on("loaderror",function(){return n(Object(r.n)())}),c.on("end",function(){return n(Object(r.j)(!1))})}else n(Object(r.n)())}}},bb35215c4a46a2d07b5f:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("991bab4cbee4bd95d9b7");function o(){return function(e,t){var n=t(),o=n.auth,i=o.processedAccount,a=o.defaultAccount,c=n.common,u=c.authUrl,s=c.currentUrl,l=i||a,f=u.split("?")[0],d=[];l&&d.push("login=".concat(encodeURIComponent(l.login))),s&&d.push("retpath=".concat(encodeURIComponent(s))),0!==d.length&&(f+="?".concat(d.join("&"))),e(Object(r.a)(f))}}},be48ce876f6c8aa1a0dc:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("2de66506e54747eb79c9"),o=n("4ee320a8137784c050e0"),i=n("d980a6b4f65a3a13be8b"),a=n("6720f7e94eecea453799"),c=n("2a8109ac628133d5b12f");function u(){return function(e,t){var n=t(),u=n.common,s=u.restorePasswordUrl,l=u.restorePasswordCaptchaUrl,f=u.addUserUrl,d=u.experiments.flags,p=n.restorePassword.errors,b=Boolean(p.code),h=d.includes("domik-restore-exp-flow1")&&!b?l:s;e(Object(o.qb)(f)),e(Object(i.r)(h)),e(Object(o.rb)("restore-password")),e(Object(r.d)(h)),a.a.send([c.Nb,"".concat(c.qc,", эксперимент: ").concat(d)])}}},c168465d7951f95f2976:function(e,t,n){"use strict";var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),i=n("0a81c721557e72a0975d"),a=n("8a2d1b95e05b6a321e74"),c=n.n(a),u=n("1def7208fe0e21ce16a3"),s=n.n(u),l=n("fa93acbe643a2e0cfe93"),f=n("2a8109ac628133d5b12f"),d=n("6720f7e94eecea453799"),p=n("f3e5b0b53b9a60481e9f");var b=n("1f7eb4558e149d7a2535"),h=n("fb6358edfd8976cf491c"),m=n("4ee320a8137784c050e0"),y=n("400d618db20c4ff01c08");function g(){return function(e,t){var n=t().common,r=n.profile_url,o=n.retpath,i=n.fretpath,a=n.clean,c=n.origin,u={retpath:o||r,fretpath:i,clean:a,origin:c};e(Object(m.W)(!0)),h.a.request("auth/password/submit",u).done(function(t){var n=t.track_id,r=t.csrf_token;e(Object(m.Eb)(n,r))}).fail(function(){e(Object(y.a)())}).always(function(){return e(Object(m.W)(!1))})}}var v=n("d980a6b4f65a3a13be8b"),_=n("a3c2d05881d3875b5dbb"),O=n("98f11010eed1f30a67e8"),E=n.n(O);function w(e){return function(t,n){var r=n(),o=r.common,i=o.csrf,a=o.retpath,c=o.fretpath,u=o.origin,s=o.from,l=r.auth,f=l.process_uuid,d=l.form.pdd_domain,p={csrf_token:i,login:e};f&&(p.process_uuid=f),a&&(p.retpath=a),c&&(p.fretpath=c),u&&(p.origin=u),s&&(p.service=s),d&&e&&!/@/.test(e)&&(p.login="".concat(p.login,"@").concat(d)),d&&(p.is_pdd="1"),t(Object(m.W)(!0)),t(Object(m.lb)(null)),t(Object(m.Db)(e)),h.a.request("auth/multi_step/start",p).done(function(r){var o=r.auth_methods,i=r.preferred_auth_method,a=r.track_id,c=r.csrf_token,u=r.magic_link_email,s=n().auth,l=s.unitedAccounts,f=s.isQRAuthEnabled,d=E()(l,function(t){return t.login===e})[0];if("magic_x_token"===(d=d?Object.assign({},d,{allowed_auth_methods:d.allowed_auth_methods||o||[],preferred_auth_method:d.preferred_auth_method||i||o&&o[0]||"password",email:u}):{isAddedAccount:!0,allowed_auth_methods:o,preferred_auth_method:o[0]||"password",avatarId:"0/0-0",email:u,login:e}).preferred_auth_method&&!f){var p=d.allowed_auth_methods;d.preferred_auth_method=p.filter(function(e){return"magic_x_token"!==e})[0]||"password"}t(Object(m.V)(d)),t(Object(m.Gb)(a,c))}).fail(function(){}).always(function(){t(Object(m.W)(!1))})}}var k=n("b912ecc4473ae8a2ff0b"),T=n.n(k);function j(e){var t=e.trackId,n=e.fieldError,r=t?{backgroundImage:'url("/auth/magic/code/?track_id='.concat(t,'")')}:{};return o.a.createElement("div",{className:T()("passp-magic-field",{"passp-magic-field_hidden":!t})},Boolean(n)&&o.a.createElement("div",{className:"passp-magic-field__error",dangerouslySetInnerHTML:{__html:n}}),o.a.createElement("div",{className:"passp-magic-field__qr",style:r}))}j.propTypes={fieldError:c.a.string,trackId:c.a.string};var S=n("f469c14f5c3cd24dad9a"),C=n("415b2ec7a2c957bbe58a"),P=n("492f0884ca0d25627280"),R=n("614b39f039bc9b9d408e");function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var L=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(x(n=function(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?x(e):t}(this,(e=N(t)).call.apply(e,[this].concat(i)))),"_maybeRenderTitle",function(){return n.props.hideTitle?null:o.a.createElement("h3",{className:"passp-install-yandex-app-title"},"Установить Яндекс")}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(t,o.a.PureComponent),function(e,t,n){t&&q(e.prototype,t),n&&q(e,n)}(t,[{key:"render",value:function(){return o.a.createElement("div",null,this._maybeRenderTitle(),o.a.createElement("div",{className:"passp-install-yandex-app-links passp-clearfix"},o.a.createElement("a",{className:"passp-install-yandex-app-link",href:"https://redirect.appmetrica.yandex.com/serve/458404701881276453?c=passport_bage"},o.a.createElement("div",{className:"passp-gplay-icon"})),o.a.createElement("a",{className:"passp-install-yandex-app-link",href:"https://redirect.appmetrica.yandex.com/serve/386347106450828605?c=passport_bage"},o.a.createElement("div",{className:"passp-appstore-icon"}))))}}]),t}();function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}L.propTypes={hideTitle:c.a.bool};var H=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?F(e):t}(this,D(t).call(this,e))).switchToOTP=n.switchToOTP.bind(F(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,r["Component"]),function(e,t,n){t&&I(e.prototype,t),n&&I(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.magicUrl,n=e.login,r=e.setupMode,o=e.setupPane,i=e.authPasswordSubmitForMagic,a=e.multiStepAuthStartForMagic;r("magic"),o(t),d.a.goal(f.Ic),d.a.send([f.Hc]),n&&a(n),i()}},{key:"componentDidUpdate",value:function(e){e.magicCSRFToken===this.props.magicCSRFToken?e.trackId!==this.props.trackId&&l.a.restart():l.a.restart()}},{key:"componentWillUnmount",value:function(){l.a.stop()}},{key:"switchToOTP",value:function(e){e.preventDefault();var t=this.props,n=t.switchToModeAddingAccount,r=t.forceOTPMethod,o=t.login,i=t.addUserUrl,a=t.editUrl,c=t.isSocialAccount,u=t.dispatch;if(o){r(!0);var s=c?a:i;u(Object(P.a)(R.a,o,s))}else n()}},{key:"render",value:function(){var e=this.props,t=e.trackId,n=e.fieldError,r=e.addUserUrl,i=e.fallbackLinkText,a=e.texts,c=e.isAccountWith2FA,u=a.descriptionText,l=a.title;return o.a.createElement(S.a,{cls:"magic"},o.a.createElement("div",{className:"passp-magic-promo-title passp-clearfix"},c?o.a.createElement("div",{className:"passp-magic-key-app-logo"}):o.a.createElement("div",{className:"passp-magic-promo-title__image"}),o.a.createElement("div",{className:"passp-magic-promo-title__text"},l)),o.a.createElement(C.a,null,o.a.createElement("span",{dangerouslySetInnerHTML:{__html:u}})),o.a.createElement(j,{trackId:t,fieldError:n}),o.a.createElement(s.a,{cls:"passp-otp-link",url:r,onClick:this.switchToOTP,theme:"normal"},i),!c&&o.a.createElement(L,null))}}]),t}();H.propTypes={addUserUrl:c.a.string.isRequired,editUrl:c.a.string.isRequired,magicUrl:c.a.string.isRequired,trackId:c.a.string,magicCSRFToken:c.a.string,tld:c.a.string.isRequired,fallbackLinkText:c.a.string.isRequired,login:c.a.string,isTouch:c.a.bool.isRequired,isSocialAccount:c.a.bool.isRequired,fieldError:c.a.string,setupMode:c.a.func.isRequired,setupPane:c.a.func.isRequired,dispatch:c.a.func.isRequired,authPasswordSubmitForMagic:c.a.func.isRequired,switchToModeAddingAccount:c.a.func.isRequired,forceOTPMethod:c.a.func.isRequired,texts:c.a.object,isAccountWith2FA:c.a.bool};t.a=Object(i.c)(function(e){var t=e.common,n=t.magicUrl,r=t.addUserUrl,o=t.editUrl,i=e.auth,a=i.magicError,c=i.isFromLoginSuggest,u=i.isQRAuthEnabled,s=i.processedAccount,l=i.form.login,f=i.magicTrack,d=i.magicCSRF,b=e.settings,h=b.tld,m=b.ua.isTouch,y=s&&s.allowed_auth_methods||[],g=a&&(p.a[a]||p.a.global)||null,v=y.some(function(e){return e.indexOf("social_")>-1}),_=y.indexOf("magic")>-1,O=y.indexOf("magic_x_token")>-1,E=y.includes("magic")&&y.includes("otp"),w=Boolean(u&&(c&&O||!c)),k=Boolean(y.length&&!y.some(function(e){return-1===e.indexOf("social_")&&"magic_x_token"!==e})),T=function(e,t){var n='<span class="passp-magic__photo-icon" aria-hidden="true"></span>',r={title:"Войдите с помощью приложения Яндекс",descriptionText:"Откройте приложение Яндекс, нажмите на иконку %icon в поисковой строке и наведите камеру на QR-код".replace("%icon",n)};return e||(r.title="Войдите с помощью приложения Яндекс или Яндекс.Ключ",r.descriptionText="Откройте приложение Яндекс или Яндекс.Ключ, нажмите на иконку %icon и наведите камеру на QR-код".replace("%icon",n)),t&&(r.title="Войдите с помощью приложения Яндекс.Ключ",r.descriptionText="Откройте приложение Яндекс.Ключ и наведите камеру на QR-код"),r}(l,E),j="Или войдите по одноразовому паролю";return w&&(_||(j=c&&!v?"Войти с помощью пароля":"Войти с помощью пароля или соцсети"),k&&(j="Войти с помощью соцсети"),c||(j="Войти с помощью пароля или соцсети")),{magicUrl:n,addUserUrl:r,editUrl:o,isFromLoginSuggest:c,trackId:f,magicCSRFToken:d,login:l,tld:h,isTouch:m,fieldError:g,fallbackLinkText:j,isSocialAccount:k,texts:T,isAccountWith2FA:E}},function(e){var t={setupMode:m.rb,setupPane:v.r,switchToModeAddingAccount:_.a,authPasswordSubmitForMagic:g,multiStepAuthStartForMagic:w,forceOTPMethod:m.Y};return Object.assign({},Object(b.b)(t,e),{dispatch:e})})(H)},c1c5f474e631e6348cde:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("2a8109ac628133d5b12f"),o=n("6720f7e94eecea453799");function i(e,t,n){return function(i,a){var c=a().additionalDataRequest.action,u=t||"";"skip_phone"!==e&&"show_phone"!==e||(u=("add"===c?"Показ привязки телефона":"secure"===c&&"Показ превращения телефона в защищенный")||"admit"===c&&"Показ актуализации телефона"||"Показ привязки телефона"),"skip_email"!==e&&"show_email"!==e||(u=("add"===c?"Показ привязки емейла":"restore"===c&&"Показ превращения емейла в защищенный")||"Показ привязки емейла"),"skip_social"!==e&&"show_social"!==e||(u=("add"===c?"Показ привязки социальщика":"allow_auth"===c&&"Показ включения авторизации социальщика")||"Показ привязки социальщика"),o.a.goal("".concat(r.a,"_").concat(e)),o.a.send([u,n])}}},c7288bb0a1591286b52d:function(e,t,n){"use strict";var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),i=n("0a81c721557e72a0975d"),a=n("b912ecc4473ae8a2ff0b"),c=n.n(a),u=n("8a2d1b95e05b6a321e74"),s=n.n(u),l=n("2a8109ac628133d5b12f"),f=n("6720f7e94eecea453799");var d=n("1f7eb4558e149d7a2535"),p=n("4ee320a8137784c050e0"),b=n("d980a6b4f65a3a13be8b");var h=n("492f0884ca0d25627280"),m=n("614b39f039bc9b9d408e"),y=n("0651733b927ea67727cd");var g=n("ec7a66791361653ff08d"),v=n("7bc0c8a178911cdcd228"),_=n("154f4cb3d35e7b354bf9");var O=n("5b1ba08c9bbd7767f36c"),E=n("63f14ac74ce296f77f4d"),w=n.n(E),k=n("f3e5b0b53b9a60481e9f"),T=n("7ea51c4460e1acb054fa"),j="https://yandex.%tld/support/passport/troubleshooting/blocked.html";var S=n("f829dce6e807e79181ee"),C=n("3025578a00df69bdcb8e");function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=A(this,q(t).call(this,e))).fieldOptions={autoCorrect:"off",autoCapitalize:"off",autoComplete:"username"},n.fieldLink=Object.assign({},n.props.fieldLink),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,r["Component"]),function(e,t,n){t&&R(e.prototype,t),n&&R(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.fieldLink,r=t.isRestoreLoginEnabled,o=t.dispatch;r&&(this.fieldLink.onClick=function(){n.onClick(),o(Object(C.a)())}),this.props.isNoTabletTouch||setTimeout(function(){w.a.findDOMNode(e.loginField).querySelector("input").focus()},300)}},{key:"render",value:function(){var e=this,t=this.props,n=t.login,r=t.onChangeLogin,i=t.fieldError,a=t.fieldLabel,c=t.accountDisabledFieldLink,u=t.isShowFieldLink,s=t.isAccountDisabledStatus;return o.a.createElement(S.b,{ref:function(t){e.loginField=t},fieldLabel:a,fieldValue:n,fieldName:"login",fieldType:"text",fieldError:i,fieldLink:s?c:this.fieldLink,fieldOptions:this.fieldOptions,isShowFieldLink:u,onFieldChange:r})}}]),t}();x.defaultProps={fieldValue:""},x.propTypes={login:s.a.string.isRequired,onChangeLogin:s.a.func.isRequired,dispatch:s.a.func.isRequired,fieldLink:s.a.shape({url:s.a.string.isRequired,text:s.a.string.isRequired,onClick:s.a.func.isRequired}).isRequired,fieldError:s.a.string.isRequired,fieldLabel:s.a.string.isRequired,isShowFieldLink:s.a.bool.isRequired,isNoTabletTouch:s.a.bool.isRequired,isRestoreLoginEnabled:s.a.bool.isRequired};var U=Object(i.c)(function(e){var t=e.settings,n=t.isNoTabletTouch,r=t.tld,o=e.common,i=o.restoration_login_url,a=o.restoreLoginUrl,c=o.restoration_url,u=e.auth,s=u.loginError,d=u.isRestoreLoginEnabled,p=u.isRestoreLoginTextExp,b=u.isDefaultTextsExp,h=u.isAbleToRestore,m=u.isAuthButtonAndTextExp,y=u.authButtonAndTextExperimentNumber,g=u.form,v={url:d?a:i,text:p?"Вспомнить логин":"Не помню логин",pseudo:d,onClick:function(){f.a.send([l.Cc,l.J])}},_=g.login,O={url:h?c.replace("login=login",_?"login=".concat(_):""):j.replace("%tld",r),text:h?"Восстановить доступ":"Обратиться в поддержку",onClick:function(){f.a.send([l.Cc,l.J])}},E=function(e){return e?"captcha.required"===e?"":Object(T.a)(k.a[e]||k.a.global):""}(s),w="account.disabled_on_deletion"===s,S=!E||E!==k.a.global&&-1===["captcha.required","csrf_token.invalid","account.disabled","sessionid.overflow"].indexOf(s),C="Введите логин, почту или телефон";return b&&(C="Введите почту или телефон"),m&&(C=[2,4].includes(y)?"Почта, логин или телефон":"Почта или телефон"),{isNoTabletTouch:n,fieldLink:v,accountDisabledFieldLink:O,fieldError:E,isShowFieldLink:S,isRestoreLoginEnabled:d,isAccountDisabledStatus:w,fieldLabel:C,loginError:s}})(x),L=n("ce71044ed50ae6df54b1");function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var H=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?F(e):t}(this,D(t).call(this,e))).sendMetrics=n.sendMetrics.bind(F(n)),n.onClick=n.onClick.bind(F(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,o.a.PureComponent),function(e,t,n){t&&I(e.prototype,t),n&&I(e,n)}(t,[{key:"sendMetrics",value:function(){f.a.send([l.Cc,l.I])}},{key:"onClick",value:function(){var e=this.props,t=e.isRegisterWithSuggestToRestoreByPhoneInDaHouse,n=e.switchToModeRegisterLite,r=e.switchToModeRegister;this.sendMetrics(),t?r():n()}},{key:"render",value:function(){var e=this.props,t=e.login,n=e.url,r=e.theme,i=e.registrationType,a=e.isRegisterWithSuggestToRestoreByPhoneInDaHouse;return"portal"!==i||a?o.a.createElement("div",{className:"passp-button passp-register-button"},o.a.createElement(L.a,{buttonType:"button",onClick:this.onClick,buttonText:"Зарегистрировать %1".replace("%1",t),buttonTheme:r})):o.a.createElement("div",{className:"passp-button passp-register-button"},o.a.createElement(L.a,{buttonType:"link",buttonLink:n,buttonText:"Зарегистрировать %1".replace("%1",t),buttonTheme:r}))}}]),t}();H.defaultProps={theme:"normal"},H.propTypes={login:s.a.string,theme:s.a.string,url:s.a.string.isRequired,switchToModeRegisterLite:s.a.func.isRequired,switchToModeRegister:s.a.func,registrationType:s.a.string.isRequired,isPreRegisterExp:s.a.bool,isPreRegisterWithSocialExp:s.a.bool,isRegisterWithSuggestToRestoreByPhoneInDaHouse:s.a.bool};var V=H,W=function(){return f.a.send([l.Cc,l.G])};function G(e){var t=e.url,n=e.theme,r=e.text;return o.a.createElement("div",{onClick:W,className:"passp-button passp-exp-register-button"},o.a.createElement(L.a,{buttonType:"link",buttonLink:t,buttonText:r,buttonTheme:n}))}G.defaultProps={theme:"normal"},G.propTypes={url:s.a.string.isRequired,text:s.a.string.isRequired,theme:s.a.string.isRequired};var z=n("13a6fd289c62825ef787"),K=n("12409bff7d6b1ff45b24");function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ee=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?X(e):t}(this,J(t).call(this,e))).changeLoginValue=n.changeLoginValue.bind(X(n)),n.submitLoginForm=n.submitLoginForm.bind(X(n)),n.handlePasswordChange=n.handlePasswordChange.bind(X(n)),n.switchToMagicPage=n.switchToMagicPage.bind(X(n)),n.state={isPasswordChanged:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,r["Component"]),function(e,t,n){t&&Y(e.prototype,t),n&&Y(e,n)}(t,[{key:"componentDidMount",value:function(){this.props.isShowQRAuthPromoTooltip&&(Object(K.a)(),this.promoTimer=setTimeout(function(){t.changePromoTooltipPosition()},600),$(window).on("resize",t.changePromoTooltipPosition),$(window).on("click",document,t.hidePromoTooltips))}},{key:"componentDidUpdate",value:function(e){"addingAccount"===e.mode&&"addingAccount"!==this.props.mode&&(this.promoTimer&&clearTimeout(this.promoTimer),t.hidePromoTooltips())}},{key:"componentWillUnmount",value:function(){var e=this.props,n=e.setLoginError,r=e.isShowQRAuthPromoTooltip;n(""),r&&($(window).off("resize",t.changePromoTooltipPosition),$(window).off("click",document,t.hidePromoTooltips))}},{key:"changeLoginValue",value:function(e){(0,this.props.updateLoginValue)(e)}},{key:"handlePasswordChange",value:function(e){e.target.value&&this.setState({isPasswordChanged:!0})}},{key:"submitLoginForm",value:function(e){e.preventDefault();var t=this.props,n=t.addUserUrl,r=t.login;(0,t.dispatch)(Object(h.a)(m.a,r,n))}},{key:"switchToMagicPage",value:function(){this.props.switchToModeMagic(!1)}},{key:"render",value:function(){var e=this.props,t=e.login,n=e.retpath,r=e.fretpath,i=e.clean,a=e.csrf,u=e.isCanRegister,s=e.registrationLogin,l=e.registrationUrl,f=e.registrationExpUrl,d=e.hasCaptcha,p=e.authUrl,b=e.loading,h=e.switchToModeRegisterLite,m=e.switchToModeRegister,y=e.registrationType,g=e.signInButtonTheme,v=e.isShowExperimentRegisterButton,_=e.isShowQRAuthPromoTooltip,E=e.registerButtonTheme,w=e.registerButtonText,k=e.signInButtonText,T=e.isPreRegisterExp,j=e.isPreRegisterWithSocialExp,S=e.isRegisterWithSuggestToRestoreByPhoneInDaHouse;return o.a.createElement("div",{className:c()("passp-login-form",{"passp-login-form_can-register":u,"passp-login-form_has-captcha":d})},o.a.createElement("form",{onSubmit:this.submitLoginForm,method:"post",action:p},o.a.createElement("input",{type:"hidden",name:"retpath",value:n}),o.a.createElement("input",{type:"hidden",name:"fretpath",value:r}),o.a.createElement("input",{type:"hidden",name:"clean",value:i}),o.a.createElement("input",{type:"hidden",name:"service",value:""}),o.a.createElement("input",{type:"hidden",name:"origin",value:""}),o.a.createElement("input",{type:"hidden",name:"policy",value:""}),o.a.createElement("input",{type:"hidden",name:"is_pdd",value:""}),o.a.createElement("input",{type:"hidden",name:"csrf_token",value:a}),d&&o.a.createElement(O.a,null),o.a.createElement(U,{login:t,onChangeLogin:this.changeLoginValue}),!this.state.isPasswordChanged&&o.a.createElement("input",{className:"passp-hidden-password-field",type:"password",id:"hiddenPassword",name:"hidden-password",onChange:this.handlePasswordChange,tabIndex:-1,autoComplete:"off","aria-hidden":!0}),o.a.createElement(V,{login:s,url:l,isPreRegisterExp:T,isPreRegisterWithSocialExp:j,switchToModeRegisterLite:h,switchToModeRegister:m,registrationType:y,theme:E,isRegisterWithSuggestToRestoreByPhoneInDaHouse:S}),o.a.createElement(z.a,{isShowQRAuthPromoTooltip:_,theme:g,text:k,isDisabled:b,switchToModeMagic:d?void 0:this.switchToMagicPage}),!u&&v&&o.a.createElement(G,{url:f,text:w,theme:E})))}}],[{key:"changePromoTooltipPosition",value:function(){var e=document.querySelector(".passp-sign-in-button"),n=document.getElementById("qr-promo-tooltip"),r=document.getElementById("qr-promo-tooltip-large");if(e&&(n||r))if(r)t.changeLargePromoTooltipPosition();else{var o=e.getBoundingClientRect(),i=void 0!==window.scrollY?window.scrollY:window.pageYOffset;n.style.top="".concat(o.top+i-15,"px"),n.style.right="".concat(o.left-250,"px"),n.style.left="auto",n.style.opacity="1"}}},{key:"changeLargePromoTooltipPosition",value:function(){var e=document.querySelector(".passp-sign-in-button"),t=document.getElementById("qr-promo-tooltip-large"),n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),o=void 0!==window.scrollY?window.scrollY:window.pageYOffset;t.style.top="".concat(r.top+o-n.height/2,"px"),t.style.left="".concat(r.left+320,"px"),t.style.opacity="1"}},{key:"hidePromoTooltips",value:function(e){var t=document.getElementById("qr-promo-tooltip"),n=document.getElementById("qr-promo-tooltip-large");if(e&&"click"===e.type){if($(e.target).closest("#qr-promo-tooltip-large").length>0)return;if($(e.target).closest("#qr-promo-tooltip").length>0)return}t&&(t.style.display="none",t.style.opacity="0",t.style.display="block"),n&&(n.style.display="none",n.style.opacity="0",n.style.display="block")}}]),t}();ee.defaultProps={retpath:"",fretpath:"",clean:"",csrf:"",isCanRegister:!1,loading:!1},ee.propTypes={registrationUrl:s.a.string.isRequired,registrationExpUrl:s.a.string.isRequired,signInButtonTheme:s.a.string.isRequired,registerButtonTheme:s.a.string.isRequired,registerButtonText:s.a.string.isRequired,login:s.a.string.isRequired,retpath:s.a.string,fretpath:s.a.string,clean:s.a.string,csrf:s.a.string,addUserUrl:s.a.string.isRequired,authUrl:s.a.string.isRequired,backPane:s.a.string,mode:s.a.string,isCanRegister:s.a.bool.isRequired,isShowExperimentRegisterButton:s.a.bool,loading:s.a.bool.isRequired,isShowQRAuthPromoTooltip:s.a.bool,registrationLogin:s.a.string,hasCaptcha:s.a.oneOfType([s.a.bool,s.a.object]),updateLoginValue:s.a.func.isRequired,setupBackPane:s.a.func.isRequired,canRegister:s.a.func.isRequired,setLoginError:s.a.func.isRequired,switchToModeMagic:s.a.func.isRequired,signInButtonText:s.a.string.isRequired,dispatch:s.a.func.isRequired,registrationType:s.a.string.isRequired,switchToModeRegisterLite:s.a.func.isRequired,switchToModeRegister:s.a.func,getLiteRegisterTrack:s.a.func,isPreRegisterExp:s.a.bool,isPreRegisterWithSocialExp:s.a.bool,isRegisterWithSuggestToRestoreByPhoneInDaHouse:s.a.bool};var te=Object(i.c)(function(e){var t=e.auth,n=t.form,r=n.login,o=n.isCanRegister,i=n.registrationLogin,a=n.registrationType,c=n.registrationPhoneNumber,u=n.registrationCountry,s=t.loginError,l=t.isQRPromoPart2Enabled,f=t.isQRAuthPromoShowed,d=t.mode,p=t.loading,b=t.isRegisterButtonExperiment,h=t.registerButtonTheme,m=t.registerButtonExperimentNumber,g=t.isNextStepBtnExp,v=t.isAuthButtonAndTextExp,_=t.isPreRegisterExp,O=t.isPreRegisterWithSocialExp,E=t.authButtonAndTextExperimentNumber,w=t.isRegisterWithSuggestToRestoreByPhoneInDaHouse,k=e.common,T=k.registration_url,j=k.registration_url_with_params,S=k.retpath,C=k.fretpath,P=k.clean,R=k.csrf,A=k.addUserUrl,q=k.backPane,N=k.authUrl,x=k.liteRegisterUrl,U=e.settings.ua,L=j;"portal"!==a&&(L=x);var M=Object(y.a)(L,i,c,u),I=Boolean(s&&s.indexOf("captcha")>-1),D=Boolean(U&&U.isTouch),F=l&&!D&&!f,B="action",H="normal",V=function(e){switch(e){case 3:return"Зарегистрироваться";case 4:return"Создать аккаунт";case 5:return"Я новый пользователь";default:return"Регистрация по телефону или почте"}}(m),W=b;b&&"action"===h&&(B="normal",H="action"),v&&(B="action",H="normal",V="Зарегистрироваться",W=[3,4].includes(E));var G="Войти";return g&&(G="Далее"),{registrationUrl:M,registrationExpUrl:T,registrationType:a,login:r,retpath:S,fretpath:C,clean:P,csrf:R,addUserUrl:A,backPane:q,isCanRegister:o,registrationLogin:i,hasCaptcha:I,authUrl:N,mode:d,isQRPromoPart2Enabled:l,isShowQRAuthPromoTooltip:F,loading:p,signInButtonTheme:B,registerButtonTheme:H,registerButtonText:V,isRegisterButtonExperiment:b,signInButtonText:G,isShowExperimentRegisterButton:W,isPreRegisterExp:_,isPreRegisterWithSocialExp:O,isRegisterWithSuggestToRestoreByPhoneInDaHouse:w}},function(e){var t={updateLoginValue:p.Db,setupBackPane:p.qb,canRegister:p.P,setLoginError:p.lb,switchToModeMagic:g.a,switchToModeRegisterLite:v.a,switchToModeRegister:_.a};return Object.assign({},Object(d.b)(t,e),{dispatch:e})})(ee),ne=n("8b51c0d0c1d1775789f5");var re=n("a6fd5b93bd0fb4ce3d49"),oe=n.n(re);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var le=function(){return f.a.send([l.K])},fe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ce(this,ue(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(t,r["Component"]),function(e,t,n){t&&ae(e.prototype,t),n&&ae(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.isSberbankSignInExp,n=e.sberbankSignInUrl;return t?o.a.createElement("div",{className:"passp-sberbank-sign-in__block"},o.a.createElement(oe.a,{cls:"passp-sberbank-sign-in__btn",size:"l",width:"max",theme:"normal",url:n,onClick:le,type:"link"},o.a.createElement("span",{className:"passp-sberbank-sign-in__btn-icon"}),"Войти по Сбербанк ID")):null}}]),t}();fe.propTypes={isSberbankSignInExp:s.a.bool,sberbankSignInUrl:s.a.string.isRequired};var de=Object(i.c)(function(e){var t=e.common.sberbankSignInUrl,n=e.auth.isSberbankSignInExp;return{sberbankSignInUrl:t,isSberbankSignInExp:Boolean(n)}})(fe),pe=n("f469c14f5c3cd24dad9a"),be=n("415b2ec7a2c957bbe58a");function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ye(this,ge(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(t,r["Component"]),function(e,t,n){t&&me(e.prototype,t),n&&me(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setupBackPane,n=e.setupMode,r=e.setupPane,o=e.addUserUrl,i=e.editUrl;e.hasUnitedAccounts&&t(i),n("addingAccount"),r(o),f.a.send([l.Cc]),f.a.goal(l.Dc)}},{key:"render",value:function(){var e=this.props,t=e.isCanRegister,n=e.customTagline;return o.a.createElement(pe.a,{cls:"add-account"},o.a.createElement("div",{className:c()({"passp-add-account-page_has-social-block":!0,"passp-add-account-page_can-register":t})},o.a.createElement(be.a,null,o.a.createElement("span",{dangerouslySetInnerHTML:{__html:n}})),o.a.createElement(te,null),o.a.createElement(ne.a,null),o.a.createElement(de,null)))}}]),t}();_e.propTypes={isCanRegister:s.a.bool.isRequired,customTagline:s.a.string.isRequired,setupBackPane:s.a.func.isRequired,canRegister:s.a.func.isRequired,setupMode:s.a.func.isRequired,setupPane:s.a.func.isRequired};t.a=Object(i.c)(function(e){var t=e.auth,n=t.form.isCanRegister,r=t.unitedAccounts,o=void 0===r?{}:r,i=t.isDefaultTextsExp,a=t.isAuthButtonAndTextExp,c=t.authButtonAndTextExperimentNumber,u=e.common,s=u.addUserUrl,l=u.editUrl,f=e.customs.tagline,d=Object.keys(o).length>0,p="Войдите, чтобы продолжить";return i&&(p="Введите почту или телефон для продолжения"),a&&(p=[2,4].includes(c)?"Введите почту, логин или телефон для продолжения":"Введите почту или телефон для продолжения"),f&&(p=f),{addUserUrl:s,editUrl:l,isCanRegister:n,hasUnitedAccounts:d,customTagline:p}},function(e){var t={setupBackPane:p.qb,canRegister:p.P,setupMode:p.rb,setupPane:b.r};return Object.assign({},Object(d.b)(t,e),{dispatch:e})})(_e)},c842cee9d7a4cfb8b7ca:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r="UPDATE_TRACK_ID",o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return t({type:r,payload:e})}}},ca24a59b6c35f0274ada:function(e,t,n){"use strict";var r=n("fb6358edfd8976cf491c");var o=n("311fad8e7fa58bbf8bec"),i=n("b24de1e495698d2f533b");var a=n("ba531bf28b1c27064b28");function c(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var c=n(),u=c.common,s=u.track_id,l=u.uid,f=u.captchaScaleFactor,d=c.settings.language,p=c.captcha,b=p.ocr,h=p.trackId,m=h||s;t(Object(i.r)());var y={track_id:m,uid:l,language:d,ocr:b};f&&(y.scale_factor=f),h&&(y.track_id=h),r.a.request("textcaptcha",y,{abortPrevious:!0}).done(function(n){return t(Object(i.q)(n.key,n.image_url)),t(e?function(e){return function(t){var n=window.Howl,r=e.voice&&e.voice.intro_url&&e.voice.url;if(t(function(e,t){var n=t().captcha,r=n.introSound,o=n.captchaSound;r&&"function"==typeof r.unload&&r.unload(),o&&"function"==typeof o.unload&&o.unload()}),!n||!r)return t(Object(i.n)());var a=null,c=new Promise(function(r,i){return(a=new n({src:e.voice.intro_url,html5:!0,preload:!0,format:["mp3"]})).on("load",function(){return r()}),a.on("loaderror",function(){return i()}),a.on("end",function(){return t(Object(o.a)())}),a}),u=null,s=new Promise(function(r,o){return(u=new n({src:e.voice.url,html5:!0,preload:!0,format:["mp3"]})).on("load",function(){return r()}),u.on("loaderror",function(){return o()}),u.on("end",function(){return t(Object(i.j)(!1))}),u});return Promise.all([c,s]).then(function(){return t(Object(i.o)(e.key,a,u))}).catch(function(){return t(Object(i.n)())})}}(n):Object(a.a)(n))}).fail(function(e){t(Object(i.p)(e))})}}n.d(t,"a",function(){return c})},ce6a336dd6fa524abe9a:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"g",function(){return o}),n.d(t,"k",function(){return i}),n.d(t,"j",function(){return a}),n.d(t,"h",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"b",function(){return f}),n.d(t,"i",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"l",function(){return b}),n.d(t,"p",function(){return h}),n.d(t,"v",function(){return m}),n.d(t,"u",function(){return y}),n.d(t,"s",function(){return g}),n.d(t,"n",function(){return v}),n.d(t,"o",function(){return _}),n.d(t,"q",function(){return O}),n.d(t,"m",function(){return E}),n.d(t,"t",function(){return w}),n.d(t,"r",function(){return k});var r="CHANGE_SIGN_UP_STEP",o="SET_SIGN_UP_PHONE_CONFIRMATION_DENY_RESEND_UNTIL",i="TOGGLE_SIGN_UP_PASSWORD_VISIBILITY_STATE",a="SUGGEST_TO_RESTORE_ACCOUNTS",c="STOP_SUGGEST_TO_RESTORE_ACCOUNTS",u="SET_PHONE_CONFIRM_METHOD",s="SET_PHONE_CONFIRMATION_CALLING_NUMBER_TEMPLATE",l="SET_PHONE_CONFIRMATION_PHONE_CHECK_STATE",f="SET_PASSWORD_WEIGHT",d="SUGGEST_PASSWORD",p="SET_REGISTER_MODE",b=function(e){return function(t){return t({type:r,payload:{step:e}})}},h=function(e){return function(t){return t({type:o,payload:{phoneConfirmationDenyResendUntil:e}})}},m=function(){return function(e){return e({type:i})}},y=function(e){return function(t){return t({type:a,payload:{accounts:e}})}},g=function(){return function(e){return e({type:c})}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"by_sms";return function(t){return t({type:u,payload:{phoneConfirmMethod:e}})}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){return t({type:s,payload:{callingNumberTemplate:e}})}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){return t({type:l,payload:{shouldCheckPhone:e}})}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){return t({type:f,payload:{passwordWeight:e}})}},w=function(e){return function(t){return t({type:d,payload:{suggestedPassword:e}})}},k=function(e){return function(t){return t({type:p,payload:{mode:e}})}}},ce71044ed50ae6df54b1:function(e,t,n){"use strict";var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),i=n("8a2d1b95e05b6a321e74"),a=n.n(i),c=n("a6fd5b93bd0fb4ce3d49"),u=n.n(c);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=o.a.forwardRef(function(e,t){var n=e.buttonType,r=e.buttonText,i=e.buttonTheme,a=e.buttonLink,c=e.buttonTone,l=e.buttonView,f=e.onClick,d=e.disabled,p={};return a&&(p.url=a),d&&(p.disabled=d),c&&(p.tone=c),l&&(p.view=l),o.a.createElement(u.a,s({ref:t,cls:"passp-form-button",theme:i,size:"l",width:"max",type:n,onClick:f},p),r)});l.propTypes={buttonType:a.a.string.isRequired,buttonText:a.a.oneOfType([a.a.string,a.a.object]).isRequired,buttonTheme:a.a.string.isRequired,buttonTone:a.a.string,buttonView:a.a.string,buttonLink:a.a.string,onClick:a.a.func,disabled:a.a.bool},t.a=l},d015a73834d877d84607:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("fb6358edfd8976cf491c"),o=n("4ee320a8137784c050e0"),i=n("438378fae3cc76ac2470"),a=n("81e3542ee6dfa9281cbe"),c=n("1359072b563fb7f15ef0");function u(){return function(e,t){var n=t(),u=n.challenge.phone,s=n.common,l={phone_number:u,validate_for_call:!0,check_speech:!0,track_id:s.track_id,csrf_token:s.csrf};e(Object(o.W)(!0)),e(Object(a.f)({code:"",text:""})),r.a.request("auth/validate_phone",l).done(function(t){var n=t.valid_for_call;e(n?Object(a.e)({isConfirmWithCall:!0}):Object(a.e)({isConfirmWithCall:!1})),e(Object(i.a)())}).fail(function(t){var n=Array.isArray(t.errors)&&t.errors[0];e(Object(c.a)(n))}).always(function(){e(Object(o.W)(!1))})}}},d27b64418ce2627b0b59:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"g",function(){return i}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"c",function(){return s}),n.d(t,"h",function(){return l}),n.d(t,"i",function(){return f}),n.d(t,"n",function(){return d}),n.d(t,"k",function(){return p}),n.d(t,"m",function(){return b}),n.d(t,"j",function(){return h}),n.d(t,"l",function(){return m});var r="RESTORE_PASSWORD_SET_INITIAL_DATA",o="RESTORE_PASSWORD_SET_METHODS",i="RESTORE_PASSWORD_UPDATE_SELECTED_METHOD",a="RESTORE_PASSWORD_UPDATE_ERROR",c="RESTORE_PASSWORD_UPDATE_PROCESS_STATE",u="RESTORE_PASSWORD_UPDATE_CAPTCHA_STATUS",s="RESTORE_PASSWORD_SET_PHONE_STATUS";function l(e){return{type:r,payload:e}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:o,methods:e}}function d(e){var t=e.method,n=void 0===t?"semiauto":t,r=e.methodInfo;return{type:i,method:n,methodInfo:void 0===r?{}:r}}function p(e){return{type:a,error:e}}function b(e){return{type:c,processState:e}}function h(e){return{type:u,isRequired:e}}function m(e){var t=e.number,n=e.isValidForCall;return{type:s,number:t,isValidForCall:n}}},d6b450235dea56f14038:function(e,t,n){"use strict";var r=n("442e7e280b4a55cd8a6e"),o=n.n(r),i=n("199afe915d0301db3224"),a=n.n(i),c=n("4ee320a8137784c050e0"),u=n("991bab4cbee4bd95d9b7");var s,l=n("7bec9e0f5607402a990d"),f=n("6720f7e94eecea453799"),d={init:function(e){var t=this;t.setStore(e);var n=t.getStore().getState(),r=n.social.brokerParams.startUrl,o=n.common,i=o.retpath,c=o.backpath,u=o.origin,s=n.settings,l=void 0===s?{}:s,f=n.auth,d=void 0===f?{}:f,p=n.customs,b=void 0===p?{}:p,h=d.process_uuid||l.process_uuid,m=b.display,y={},g=i||"".concat(location.protocol,"//").concat(location.host,"/profile");"yandex"===u&&(g=c||"".concat(location.protocol,"//").concat(location.host,"/profile")),y.resize=1,y.startUrl=r,("popup"===m||"touch"===m||t.isTouch())&&(y.display="touch",y.retnopopup=g),y.process_uuid=h,window.addEventListener?window.addEventListener("message",t.onSuccess.bind(this)):window.attachEvent&&window.attachEvent("onmessage",t.onSuccess.bind(this)),window.location.origin||(window.location.origin="".concat(window.location.protocol,"//").concat(window.location.hostname)),window.socialResponse=function(e){t.onSuccess({origin:location.origin,data:e})},a.a.init(y)},getStore:function(){return s},isTouch:function(){return o.a.isTouch},setStore:function(e){s=e},onSuccess:function(e){var t=this.getStore().getState().common,n=t.origin,r=t.pane,o=void 0===r?"":r;e.origin===location.origin&&e.data.socialAuth&&(o.match(/\/auth\/social/)||"ok"===e.data.status&&(f.a.send(["Успешная авторизация с помощью соц.сети"]),f.a.goal("one_domik_social_auth_sucess"),"yandex"===n?this.getStore().dispatch(function(e,t){var n=t().common,r=n.backpath,o=n.profile_url,i=r||o;e(Object(c.db)()),e(Object(u.a)(i))}):this.getStore().dispatch(Object(l.a)())))},start:function(e){a.a.start(e)}};t.a=d},d980a6b4f65a3a13be8b:function(e,t,n){"use strict";n.d(t,"e",function(){return i}),n.d(t,"h",function(){return c}),n.d(t,"i",function(){return u}),n.d(t,"a",function(){return s}),n.d(t,"l",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"f",function(){return b}),n.d(t,"g",function(){return h}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return y}),n.d(t,"j",function(){return g}),n.d(t,"k",function(){return v}),n.d(t,"m",function(){return _}),n.d(t,"p",function(){return O}),n.d(t,"s",function(){return E}),n.d(t,"o",function(){return w}),n.d(t,"n",function(){return k}),n.d(t,"v",function(){return T}),n.d(t,"u",function(){return j}),n.d(t,"q",function(){return S}),n.d(t,"t",function(){return C}),n.d(t,"r",function(){return P});n("3ad3c1378076e862aab0");var r=n("fb6358edfd8976cf491c");function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i="SAVE_ACTION_FOR_REPEAT",a="CONNECTION_ERROR",c="SET_EDIT_MODE",u="SHOW_REG_POPUP",s="CURRENT_PAGE_CHANGED",l="UPDATE_TRACK",f="GET_TRACK",d="GET_TRACK_SUCCESS",p="GET_TRACK_FAIL",b="SETUP_BACK_PANE",h="SETUP_PANE",m="GET_COUNTRIES",y="GET_TIMEZONES",g="TOGGLE_BACK_PANE_VISIBILITY",v="UPDATE_CSRF";function _(e){return{type:a,error:e}}function O(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return{type:i,actionToCall:e,payload:n}}function E(e){return{type:u,show:e}}function w(){return function(e,t){var n=t().common,r=n.defaultPage,o=n.authURL;o?location.replace(o):location.replace("/auth?retpath=".concat(r))}}function k(){return function(e,t){var n=t().common,i=n.csrf,a=n.actionForRepeat||{},c=a.action,u=a.payload;e({type:f}),r.a.request("getTrackWithUid",{csrf_token:i}).done(function(t){e({type:d,track_id:t.track_id}),c&&e(c.apply(void 0,o(u)))}).fail(function(t){e({type:p,res:t})})}}function T(e){return{type:l,track_id:e}}function j(e){return{type:v,token:e}}function S(e){return function(t){t({type:b,pane:e})}}function C(e){return function(t){t({type:g,isBackPaneVisible:e})}}function P(e){return function(t){t({type:h,pane:e})}}},d9f91b7fc5fea852c17a:function(e,t,n){!function(t,r){"use strict";"object"==typeof e&&e.exports?e.exports=r(n("442e7e280b4a55cd8a6e")):r(t.passport)}(this,function(e){"use strict";if("object"!=typeof window)return{};var t={blur:1,change:1,click:1,dblclick:1,dragstart:1,dragenter:1,dragover:1,dragleave:1,drag:1,drop:1,dragend:1,focus:1,focusin:1,focusout:1,keydown:1,keypress:1,keyup:1,mousedown:1,mouseenter:1,mouseleave:1,mousemove:1,mouseout:1,mouseover:1,mouseup:1,resize:1,scroll:1,submit:1},n=/^(([^\.\s]+)(?:\.[^\s]+)*)\s?(.+)?$/;return e.blocks={},e.block=function(t,n,r){var o,i=e.blocks;if(1===arguments.length)return i[t];2===arguments.length&&(r=n,n="block"),n=i[n]||{};var a=function(){};return a.prototype=n,o=new a,$.extend(o,r),o.id=t,o.parent=n,o.inited=new $.Deferred,i[t]=o,o},e.block("block",{construct:function(e,t){this.$el=$(e),this.initEvents(),this.init(t),this.options=t||{}},init:function(){},initEvents:function(){var e,r,o=this.events||{};for(e in o){if("function"!=typeof this[o[e]])throw new Error("Method "+o[e]+" is undefined in "+this.id+" block, but is referenced in events hash.");if(!(r=e.match(n)))throw new Error('Wrong rule "'+e+'"');var i=this[o[e]].bind(this);["blur","focusout"].indexOf(r[2])>-1&&(i=function(e){return function(){setTimeout(e,50)}}(i)),r[3]?this.$el.on(r[1],r[3],i):(r[2]in t?this.$el:$(document)).on(r[1],i)}},$:function(e){return this.$el.find(e)},emit:function(e,t){$(document).emit(e+"."+this.id,Array.prototype.slice.call(arguments,1))}}),e})},dabe4e15a14257fec3c9:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("fb6358edfd8976cf491c"),o=n("4ee320a8137784c050e0"),i=n("400d618db20c4ff01c08");function a(e){return function(t,n){var a=n(),c=a.settings.ua,u=a.common,s=u.profile_url,l=u.csrf,f=u.yu,d=u.retpath,p=c&&c.isTouch,b={csrf_token:l,retpath:d||s,uid:e,yu:f};t(Object(o.W)(!0)),r.a.request("auth/logout",b).done(function(){t(Object(i.a)()),p&&t(Object(o.S)(!1))}).fail(function(){t(Object(i.a)())}).always(function(){return t(Object(o.W)(!1))})}}},dafcc85692a2c3d9f452:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("fb6358edfd8976cf491c"),o=n("4ee320a8137784c050e0"),i=n("7bec9e0f5607402a990d"),a=n("2dad848e8287918fdb83"),c=n("bb35215c4a46a2d07b5f"),u=n("c1c5f474e631e6348cde");function s(e){return function(t,n){if(!e||!e.trim())return t(Object(a.q)(["email.empty"])),void t(Object(o.W)(!1));var s=n(),l=s.additionalDataRequest.track_id,f=s.auth,d=f.processedAccount,p=f.defaultAccount,b=s.common,h=b.profile_url,m=b.csrf,y=d||p,g={email:e,track_id:l,csrf_token:m,validator_ui_url:h,retpath:h,code_only:"yes",uid:y?y.uid:""};t(Object(a.n)()),r.a.request("email/send_confirmation_email_v2",g).done(function(){t(Object(u.a)("request_email_confirmation_code","Показ привязки емейла","Отправка кода")),t(Object(a.o)()),t(Object(o.W)(!1)),t(Object(o.U)(!0)),t(Object(o.T)("emailConfirmation"))}).fail(function(e){for(var n=e.errors.length,r=0;r<n;r++){var u=e.errors[r];if("password.required"===u)return void t(Object(c.a)());if("email.already_confirmed"===u)return void t(Object(i.a)())}t(Object(a.q)(e.errors)),t(Object(o.W)(!1))})}}},dcab4392e18bb757d6bb:function(e,t,n){"use strict";var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),i=n("0a81c721557e72a0975d"),a=n("8a2d1b95e05b6a321e74"),c=n.n(a),u=n("2a8109ac628133d5b12f"),s=n("6720f7e94eecea453799"),l=["social_gg","social_fb","social_tw","social_mr","social_vk","social_sberbank","social_ok"];var f=n("1f7eb4558e149d7a2535"),d=n("d980a6b4f65a3a13be8b"),p=n("4ee320a8137784c050e0"),b=n("8150816e8c486cf8a0f0");var h=n("492f0884ca0d25627280"),m=n("fb6358edfd8976cf491c"),y=n("2e00c83ced56b4015524"),g=n("2de66506e54747eb79c9"),v=n("7bec9e0f5607402a990d"),_=n("400d618db20c4ff01c08");var O=n("81e3542ee6dfa9281cbe"),E=n("1359072b563fb7f15ef0");var w=["social_gg","social_fb","social_tw","social_mr","social_vk","social_ok"];function k(e){return function(t,n){var r=n(),o=r.common,i=o.track_id,a=o.profile_url,c=o.csrf,l=o.retpath,f=r.auth,h=f.isAdditionalDataRequestEnabled,w=f.isChallengeExperiment,k={track_id:i,csrf_token:c,password:e};t(Object(p.W)(!0)),t(Object(p.ob)(null)),m.a.request("auth/multi_step/commit_password",k).done(function(e){if(e){s.a.goal(u.Oc),s.a.send([T(r),u.sc,u.uc]);var n=l||a;if("ok"===e.status&&!e.state){if(!h)return void(window.location=n);t(function(e,t){var n=t().common,r=n.askEmailUrl,o=n.askPhoneUrl,i=n.askAvatarUrl;m.a.request("auth/accounts").done(function(t){var n={csrf_token:t.csrf,uid:t.accounts.defaultAccount&&t.accounts.defaultAccount.uid};e(Object(d.u)(t.csrf)),m.a.request("auth/additional_data/ask_v2",n).done(function(t){var n=t.state;return e(Object(p.Z)(t)),e(Object(p.qb)(null)),"phone"===n?(e(Object(_.a)()),void e(Object(g.d)(o))):"email"===n?(e(Object(_.a)()),void e(Object(g.d)(r))):"avatar"===n?(e(Object(_.a)()),void e(Object(g.d)(i))):void e(Object(v.a)())}).fail(function(){e(Object(v.a)())})}).fail(function(){e(Object(v.a)())})})}"auth_challenge"===e.state&&w?t(function(e,t){var n=t().common,r=n.challengeUrl,o=n.track_id,i=n.csrf,a={track_id:o,csrf_token:i};m.a.request("auth/challenge/submit",a).done(function(t){e(Object(O.e)(t.challenge)),e(Object(g.d)("".concat(r).concat(o)))}).fail(function(t){var n=Array.isArray(t.error)&&t.error[0];e(Object(E.a)(n)),"challenge.limit_exceeded"===n&&e(Object(g.d)("".concat(r).concat(o)))}).always(function(){e(Object(p.W)(!1))})}):e.state&&e.redirect_url&&(window.location=e.redirect_url)}else t(Object(p.W)(!1))}).fail(function(e){var o=e.errors[0],i=n().auth.isCaptchaRequired;s.a.send([T(r),u.sc,u.tc,o]),["captcha.required","captcha.invalid"].indexOf(o)>-1&&(t(Object(p.Q)(!0)),i&&t(Object(y.a)())),["password.not_matched","password.empty","rfc_otp.invalid"].indexOf(o)>-1&&(t(Object(p.Fb)("")),t(Object(b.a)("passwd",""))),t(Object(p.ob)(o)),t(Object(p.W)(!1))})}}function T(e){var t=e.auth,n=t.form.isForceOTP,r=t.processedAccount,o=e.social.providers,i=r.allowed_auth_methods||[],a=r.preferred_auth_method||"password";i.indexOf("otp")>-1&&n&&(a="otp");var c=o.filter(function(e){var t=e.data;return"social_".concat(t.code)===a})[0]||null,s=Boolean("password"===a||i.indexOf("password")>-1),l=Boolean(w.indexOf(a)>-1&&c);return s&&l?u.Kc:s?u.Fc:u.Ec}var j=n("ec7a66791361653ff08d");var S=n("5b1ba08c9bbd7767f36c"),C=n("b912ecc4473ae8a2ff0b"),P=n.n(C),R=n("1def7208fe0e21ce16a3"),A=n.n(R),q=n("b1ce1a7989017c577d0f");function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var I=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?L(e):t}(this,U(t).call(this,e))).switchToListPage=n.switchToListPage.bind(L(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,r["Component"]),function(e,t,n){t&&x(e.prototype,t),n&&x(e,n)}(t,[{key:"switchToListPage",value:function(e){var t=this.props,n=t.addUserUrl,r=t.editUrl,o=t.hasUnitedAccounts,i=t.dispatch;e.preventDefault(),i(Object(g.d)(o?r:n,{isPreviousStep:!0})),o||(i(Object(p.Db)("")),i(Object(b.a)("login","")))}},{key:"render",value:function(){var e=this.props,t=e.hasDisplayName,n=e.displayLogin,r=e.avatarStyle,i=e.displayName,a=e.login,c=e.editUrl;return o.a.createElement(A.a,{url:c,theme:"normal",onClick:this.switchToListPage,cls:P()("passp-current-account",{"passp-current-account_has-display-name":t,"passp-current-account_without-login":!n})},o.a.createElement("div",{className:"passp-current-account__avatar",style:r}),o.a.createElement("div",{className:"passp-current-account__display-name"},i||n||a),t&&n&&o.a.createElement("div",{className:"passp-current-account__login"},n),o.a.createElement("div",{className:"passp-current-account__select-icon"}))}}]),t}();I.propTypes={hasDisplayName:c.a.bool.isRequired,displayLogin:c.a.string,avatarStyle:c.a.object.isRequired,displayName:c.a.string,login:c.a.string,addUserUrl:c.a.string.isRequired,editUrl:c.a.string.isRequired,hasUnitedAccounts:c.a.bool.isRequired,dispatch:c.a.func.isRequired};var D=Object(i.c)(function(e){var t=e.common,n=t.editUrl,r=t.addUserUrl,o=e.settings.avatar,i=e.auth,a=i.processedAccount,c=i.unitedAccounts,u=void 0===c?{}:c,s=a.avatarId,l=a.login,f=a.displayName,d=a.hasSocial,p=a.mail,b=a.defaultEmail,h=a.socialProvider,m=o.host,y=o.pathname,g=Boolean(f),v=y.replace("%uid%",s).replace("%size%","200").replace("%login%",l),_={backgroundImage:'url("https://'.concat(m).concat(v,'")')};return{hasDisplayName:g,displayLogin:d?q.a[h]:p||b||"",avatarStyle:_,displayName:f,login:l,addUserUrl:r,editUrl:n,hasUnitedAccounts:Object.keys(u).length>0}})(I),F=n("63f14ac74ce296f77f4d"),B=n.n(F),H=n("f829dce6e807e79181ee"),V=n("f3e5b0b53b9a60481e9f"),W=n("7ea51c4460e1acb054fa");function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Y=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?K(e):t}(this,z(t).call(this,e))).state={isPasswordShowed:!1},n.fieldOptions={autoCorrect:"off",autoCapitalize:"off",autoComplete:"new-password"},n.togglePasswordVision=n.togglePasswordVision.bind(K(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(t,r["Component"]),function(e,t,n){t&&$(e.prototype,t),n&&$(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.isNoTabletTouch;s.a.send([u.Ec]),t||setTimeout(function(){B.a.findDOMNode(e.passwordField).querySelector("input").focus()},300)}},{key:"togglePasswordVision",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState(function(e){return{isPasswordShowed:!e.isPasswordShowed}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.password,r=t.isShowFieldLink,i=t.onChange,a=t.login,c=t.fieldError,u=t.fieldLink,s=this.state.isPasswordShowed;return o.a.createElement("div",{className:"passp-otp-field"},o.a.createElement("input",{className:"passp-hidden-login-field",type:"text",name:"login",id:"login",readOnly:!0,autoCorrect:"off",autoCapitalize:"off",autoComplete:"username",value:a}),o.a.createElement(H.b,{ref:function(t){e.passwordField=t},fieldLabel:"Введите одноразовый пароль",fieldValue:n,fieldName:"passwd",fieldType:s?"text":"password",fieldError:c,fieldLink:u,fieldOptions:this.fieldOptions,isShowFieldLink:r,onFieldChange:i}),o.a.createElement("span",{onClick:this.togglePasswordVision,className:P()("passp-otp-field__eye",{"passp-otp-field__eye_closed":s})}))}}]),t}();Y.defaultProps={fieldValue:""},Y.propTypes={isNoTabletTouch:c.a.bool.isRequired,password:c.a.string,isShowFieldLink:c.a.bool.isRequired,onChange:c.a.func.isRequired,login:c.a.string,fieldError:c.a.string,fieldLink:c.a.shape({url:c.a.string.isRequired,text:c.a.string.isRequired,onClick:c.a.func.isRequired}).isRequired};var J=Object(i.c)(function(e){var t=e.settings.isNoTabletTouch,n=e.auth,r=n.passwordError,o=n.form,i=o.login,a=o.password,c={url:e.common.restoration_url.replace("login=login",i?"login=".concat(i):""),text:"Восстановить доступ",onClick:function(){s.a.send([u.Ec,u.J])}},l=function(e){return e?"captcha.required"===e?"":"password.not_matched"===e?V.a["password.not_matched_2fa"]:Object(W.a)(V.a[e]||V.a.global):""}(r);return{isNoTabletTouch:t,password:a,isShowFieldLink:!l||l!==V.a.global&&-1===["captcha.required","csrf_token.invalid","password.not_matched","account.disabled","account.disabled_on_deletion","sessionid.overflow"].indexOf(r),login:i,fieldError:l,fieldLink:c}})(Y);var X=n("be48ce876f6c8aa1a0dc");function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?ne(e):t}(this,te(t).call(this,e))).state={isPasswordShowed:!1},n.fieldOptions={autoCorrect:"off",autoCapitalize:"off",autoComplete:"current-password"},n.updatedFieldLink={},n.togglePasswordVision=n.togglePasswordVision.bind(ne(n)),n.defineFieldLinkHandler=n.defineFieldLinkHandler.bind(ne(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(t,r["Component"]),function(e,t,n){t&&ee(e.prototype,t),n&&ee(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.isNoTabletTouch,r=t.hasSocialButton;s.a.send([r?u.Kc:u.Fc]),this.updatedFieldLink=this.defineFieldLinkHandler(),n||setTimeout(function(){B.a.findDOMNode(e.passwordField).querySelector("input").focus()},300)}},{key:"togglePasswordVision",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState(function(e){return{isPasswordShowed:!e.isPasswordShowed}})}},{key:"defineFieldLinkHandler",value:function(){var e=this,t=this.props,n=t.hasSocialButton,r=t.isAuthRestorePasswordEnabled,o=t.fieldLink,i=Object.assign({},o);return i.onClick=function(){s.a.send([n?u.Kc:u.Fc,u.J]),r&&e.props.dispatch(Object(X.a)())},i}},{key:"render",value:function(){var e=this,t=this.props,n=t.password,r=t.onChange,i=t.fieldError,a=t.isShowFieldLink,c=t.inputLogin,u=t.login,s=this.state.isPasswordShowed;return o.a.createElement("div",{className:"passp-password-field"},o.a.createElement("input",{className:"passp-hidden-login-field",type:"text",name:"login",id:"login",readOnly:!0,autoComplete:"username",value:c||u}),o.a.createElement(H.b,{ref:function(t){e.passwordField=t},fieldLabel:"Введите пароль",fieldValue:n,fieldName:"passwd",fieldType:s?"text":"password",fieldError:i,fieldOptions:this.fieldOptions,fieldLink:this.updatedFieldLink,isShowFieldLink:a,onFieldChange:r}),o.a.createElement("span",{onClick:this.togglePasswordVision,className:P()("passp-password-field__eye passp-password-field__eye_opened",{"passp-password-field__eye_hidden":s})}),o.a.createElement("span",{onClick:this.togglePasswordVision,className:P()("passp-password-field__eye passp-password-field__eye_closed",{"passp-password-field__eye_hidden":!s})}))}}]),t}();oe.defaultProps={fieldValue:""},oe.propTypes={password:c.a.string,login:c.a.string,inputLogin:c.a.string,onChange:c.a.func.isRequired,fieldError:c.a.string,fieldLink:c.a.shape({url:c.a.string.isRequired,text:c.a.string.isRequired,onClick:c.a.func.isRequired}).isRequired,isShowFieldLink:c.a.bool.isRequired};var ie=Object(i.c)(function(e,t){var n=e.settings.isNoTabletTouch,r=e.auth,o=r.passwordError,i=r.inputLogins,a=r.processedAccount,c=r.form.login,l=e.common,f=l.restoration_url,d=l.experiments.flags,p=t.hasSocialButton,b=d.includes("domik-restore-exp-flow1")||d.includes("domik-restore-exp-flow2"),h=o&&-1===["captcha.required","password.empty","password.not_matched"].indexOf(o)?"Восстановить доступ":"Не помню пароль",m={url:f.replace("login=login",c?"login=".concat(c):""),text:h,pseudo:b,onClick:function(){s.a.send([p?u.Kc:u.Fc,u.J])}},y=function(e){return e?"captcha.required"===e?"":Object(W.a)(V.a[e]||V.a.global):""}(o);return{isAuthRestorePasswordEnabled:b,isNoTabletTouch:n,login:c,isShowFieldLink:!y||y!==V.a.global&&-1===["captcha.required","csrf_token.invalid","account.disabled","account.disabled_on_deletion","sessionid.overflow"].indexOf(o),fieldError:y,fieldLink:m,inputLogin:a&&i&&i[a.uid]||null}})(oe),ae=n("13a6fd289c62825ef787");function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var de=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?le(e):t}(this,se(t).call(this,e))).changePasswordValue=n.changePasswordValue.bind(le(n)),n.submitPasswordForm=n.submitPasswordForm.bind(le(n)),n.switchToMagicPage=n.switchToMagicPage.bind(le(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(t,r["Component"]),function(e,t,n){t&&ue(e.prototype,t),n&&ue(e,n)}(t,[{key:"componentWillUnmount",value:function(){(0,this.props.setPasswordError)("")}},{key:"changePasswordValue",value:function(e){(0,this.props.updatePasswordValue)(e)}},{key:"submitPasswordForm",value:function(e){e.preventDefault();var t=this.props,n=t.password;(0,t.dispatch)(Object(h.a)(k,n))}},{key:"switchToMagicPage",value:function(){(0,this.props.switchToModeMagic)(!0)}},{key:"render",value:function(){var e=this.props,t=e.password,n=e.trackId,r=e.csrf,i=e.hasSocialButton,a=e.hasCaptcha,c=e.isShowOTPField,u=e.isShowPasswordField,s=e.isShowSubmitButton,l=e.isShouldFallbackToPassword,f=e.isMagicAuth,d=e.authUrl,p=e.loading;return o.a.createElement("div",{className:"passp-password-form"},o.a.createElement("form",{onSubmit:this.submitPasswordForm,method:"post",action:d,noValidate:!0},o.a.createElement("input",{type:"hidden",name:"track_id",value:n,readOnly:!0}),o.a.createElement("input",{type:"hidden",name:"csrf_token",value:r,readOnly:!0}),a&&o.a.createElement(S.a,null),o.a.createElement(D,null),c&&o.a.createElement(J,{onChange:this.changePasswordValue,password:t}),(u||l)&&o.a.createElement(ie,{onChange:this.changePasswordValue,hasSocialButton:i,password:t}),s&&o.a.createElement(ae.a,{isDisabled:p,switchToModeMagic:f?this.switchToMagicPage:void 0})))}}]),t}();de.defaultProps={trackId:"",csrf:""},de.propTypes={password:c.a.string,trackId:c.a.string,csrf:c.a.string,switchToModeMagic:c.a.func.isRequired,dispatch:c.a.func,authUrl:c.a.string.isRequired,hasSocialButton:c.a.bool.isRequired,hasCaptcha:c.a.oneOfType([c.a.bool,c.a.object]),isShowOTPField:c.a.bool.isRequired,isShowPasswordField:c.a.bool.isRequired,isShouldFallbackToPassword:c.a.bool.isRequired,isMagicAuth:c.a.bool.isRequired,isShowSubmitButton:c.a.bool.isRequired,isForceMailAuthEnable:c.a.bool.isRequired,updatePasswordValue:c.a.func.isRequired,loading:c.a.bool.isRequired,setPasswordError:c.a.func.isRequired};var pe=Object(i.c)(function(e,t){var n=e.common,r=n.track_id,o=n.csrf,i=n.authUrl,a=e.auth,c=a.form,u=c.isForceOTP,s=c.password,l=a.passwordError,f=a.processedAccount,d=a.isQRAuthEnabled,p=a.isAuthRestorePasswordEnabled,b=a.loading,h=f&&f.allowed_auth_methods||[],m=f&&f.preferred_auth_method||"password";h.indexOf("otp")>-1&&u&&(m="otp");var y=Boolean(l&&l.indexOf("captcha")>-1),g=Boolean("password"===m||h.indexOf("password")>-1),v=Boolean("otp"===m||h.indexOf("otp")>-1),_=Boolean(g||v),O=!y&&h.indexOf("magic")>-1||h.indexOf("magic_x_token")>-1&&d;return{password:s,trackId:r,csrf:o,passwordError:l,isShowPasswordField:g,isShowOTPField:v,authUrl:i,isShowSubmitButton:_,isShouldFallbackToPassword:!(g||v||t.hasSocialButton||t.isForceMailAuthEnable),isAuthRestorePasswordEnabled:p,isMagicAuth:O,hasCaptcha:y,loading:b}},function(e){var t={updatePasswordValue:p.Fb,setPasswordError:p.ob,switchToModeMagic:j.a};return Object.assign({},Object(f.b)(t,e),{dispatch:e})})(de),be=n("e6034e01754f26236b79"),he=n("ce71044ed50ae6df54b1");function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Oe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?ve(e):t}(this,ge(t).call(this,e))).authSocial=n.authSocial.bind(ve(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(t,r["Component"]),function(e,t,n){t&&ye(e.prototype,t),n&&ye(e,n)}(t,[{key:"componentDidMount",value:function(){this.props.isShowPasswordField||s.a.send([u.Jc])}},{key:"authSocial",value:function(){var e=this.props,t=e.socialScope,n=e.provider,r=e.dispatch,o=n.data.code;r(Object(be.a)({provider:o,scope:t&&t[o]}))}},{key:"render",value:function(){var e=this.props,t=e.provider,n=e.lang;if(!t)return null;var r=t.data.display_name[n]||t.data.display_name.default,i=o.a.createElement("span",{className:"passp-social-button__content"},o.a.createElement("span",{className:"passp-social-button__icon passp-social-button__icon_".concat(t.data.code)}),o.a.createElement("span",{className:"passp-social-button__text"},"Войти через %1".replace("%1",r)));return o.a.createElement("div",{className:"passp-social-button passp-social-button_".concat(t.data.code)},o.a.createElement(he.a,{buttonType:"button",buttonText:i,buttonTheme:"normal",onClick:this.authSocial}))}}],[{key:"mapStateToProps",value:function(e){var t=e.settings.lang,n=e.auth.processedAccount,r=e.social.providers,o=n.preferred_auth_method;return"magic_x_token"===o&&(o=n.allowed_auth_methods.filter(function(e){return e.indexOf("social_")>-1})[0]),{provider:r.filter(function(e){var t=e.data;return"social_".concat(t.code)===o})[0]||null,lang:t}}}]),t}();Oe.propTypes={provider:c.a.object,lang:c.a.string.isRequired};var Ee=Object(i.c)(Oe.mapStateToProps)(Oe);var we=n("65f992ec08dfd9108e30");var ke=n("887066909d91988c03a4");function Te(){return function(e,t){var n=t(),r=n.common,o=r.csrf,i=r.track_id,a=r.retpath,c=n.mailAuth.isEnabled,u={csrf_token:o,track_id:i};e(Object(p.W)(!0)),e(Object(p.hb)("")),m.a.request("/auth/letter/status/",u).done(function(t){if(t&&"ok"===t.status&&t.magic_link_confirmed){var n="/auth/finish/?track_id=".concat(i);return e(Object(p.hb)("")),a&&(n+="&retpath=".concat(encodeURIComponent(a))),void(window.location.href=n)}e(Object(p.U)(!0)),e(Object(p.T)(c?"authLetter":"authMessenger")),e(Object(p.fb)(!1))}).fail(function(t){var n=Array.isArray(t.errors)?t.errors[0]:"global";e(Object(p.hb)(n))}).always(function(){e(Object(p.W)(!1))})}}var je=function(e){var t=e.handleCaptcha;return o.a.createElement("div",{className:"al-captcha__wrapper"},o.a.createElement("form",{onSubmit:t,method:"post"},o.a.createElement(S.a,null),o.a.createElement(he.a,{buttonType:"submit",buttonText:"Продолжить",buttonTheme:"action"})))},Se=je;je.propTypes={handleCaptcha:c.a.func.isRequired};var Ce=function(e){return o.a.createElement("div",{className:P()("passp-auth__tooltip",{"passp-auth__tooltip_visible":e.isVisible}),role:"status","aria-live":"polite"},o.a.createElement("div",{className:"passp-auth__tooltip-text"},e.children))};Ce.propTypes={isVisible:c.a.bool};var Pe=Ce;function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ue=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?Ne(e):t}(this,qe(t).call(this,e))).handleAuthLetter=n.handleAuthLetter.bind(Ne(n)),n.handleCaptcha=n.handleCaptcha.bind(Ne(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(t,r["Component"]),function(e,t,n){t&&Ae(e.prototype,t),n&&Ae(e,n)}(t,[{key:"componentDidMount",value:function(){s.a.send([u.zc])}},{key:"componentWillUnmount",value:function(){this.props.dispatch(Object(p.hb)(""))}},{key:"componentDidUpdate",value:function(e){var t=this;!e.shouldErrorDisappear&&this.props.shouldErrorDisappear&&setTimeout(function(){t.props.dispatch(Object(p.hb)(""))},6e3)}},{key:"handleAuthLetter",value:function(){var e=this.props,t=e.isAuthMailConfirmationVisible,n=e.isAuthLetterStatusChecking,r=e.dispatch;if(n&&!t)return r(Object(p.U)(!0)),void r(Object(p.T)("authLetter"));r(function(e,t){var n=t(),r=n.common,o=r.csrf,i=r.track_id,a={csrf_token:o,language:n.settings.lang,track_id:i};e(Object(p.W)(!0)),m.a.request("auth/send_magic_letter",a).done(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t&&"ok"===t.status){var n=t.code;e(Object(p.ib)(n)),e(Object(p.U)(!0)),e(Object(p.T)("authLetter")),e(Object(p.fb)(!1)),e(Object(p.Bb)(!1))}else e(Object(p.hb)("global"))}).fail(function(t){var n=Array.isArray(t.errors)?t.errors[0]:"global";e(Object(p.hb)(n))}).always(function(){e(Object(p.W)(!1))})}),s.a.send([u.E])}},{key:"handleCaptcha",value:function(e){e.preventDefault(),this.props.dispatch(Object(ke.a)(Te))}},{key:"render",value:function(){var e=this.props,t=e.isAuthMailSent,n=e.isCaptchaRequired,r=e.isShouldBeDisabled,i=e.email,a=e.error,c=e.buttonText,u=e.descriptionText,s=e.titleRequired;return n?o.a.createElement(Se,{handleCaptcha:this.handleCaptcha}):o.a.createElement("div",{className:"al-button__wrapper"},s&&o.a.createElement("div",{className:"al-title"},"Не хотите вводить пароль?"),o.a.createElement("button",{className:P()("al-button",{"al-button-disabled":r}),onClick:this.handleAuthLetter,disabled:r,type:"button"},o.a.createElement("span",{className:"al-button__icon","aria-hidden":"true"}),c),!t&&i&&o.a.createElement("div",{className:"al-description",dangerouslySetInnerHTML:{__html:u}}),o.a.createElement(Pe,{isVisible:Boolean(a&&!n)},a))}}]),t}(),Le=Object(i.c)(function(e){var t=e.mailAuth,n=t.isAuthMailConfirmationVisible,r=t.isUpdatedAuthLetterStatus,o=t.isAuthMailSent,i=t.isAuthCancelled,a=t.mailAuthError,c=t.mailAuthExperiment,u=e.auth.processedAccount,s=u.email,l=u.allowed_auth_methods,f=Object.assign({},V.a,we.a),d="magic_link.invalidated"===a,p=a&&(f[a]||f.global),b="captcha.required"===a,h=o&&!i,m=function(e,t){if(t)return"Письмо отправлено";var n={magic_link_exp:"Отправить письмо для входа",magic_link_exp_t1:"Отправить письмо для входа",magic_link_exp_t2:"Войти без пароля",magic_link_exp_t3:"Войти без пароля",magic_link_exp_t4:"Отправить письмо для входа"};return n[e]||n.magic_link_exp}(c,h);return{isAuthMailConfirmationVisible:n,isUpdatedAuthLetterStatus:r,isShouldBeDisabled:r&&!l.includes("magic_link"),isAuthMailSent:o,isAuthCancelled:i,isAuthLetterStatusChecking:h,isCaptchaRequired:b,error:p,shouldErrorDisappear:d,email:s,buttonText:m,descriptionText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"magic_link_exp",t=arguments.length>1?arguments[1]:void 0,n={magic_link_exp:"Письмо со ссылкой придёт на почту <strong>%s</strong>.\nОткройте его на любом устройстве",magic_link_exp_t1:"Если вы уже вошли в почту <strong>%s</strong> на другом устройстве, подтвердите вход, нажав на кнопку в письме",magic_link_exp_t2:"Мы отправим на ящик <strong>%s</strong> письмо для подтверждения входа",magic_link_exp_t3:"Мы отправим письмо на <strong>%s</strong>, откройте его на устройстве, где вы авторизованы",magic_link_exp_t4:"Откройте его на устройстве, где вы авторизованы, и подтвердите вход"};return n[e]&&n[e].replace("%s",t)||n.magic_link_exp}(c,s),titleRequired:"magic_link_exp_t1"===c}})(Ue);Ue.propTypes={isAuthMailConfirmationVisible:c.a.bool,isShouldBeDisabled:c.a.bool.isRequired,isAuthMailSent:c.a.bool,isAuthLetterStatusChecking:c.a.bool,isCaptchaRequired:c.a.bool,email:c.a.string.isRequired,error:c.a.string,shouldErrorDisappear:c.a.bool,buttonText:c.a.string,descriptionText:c.a.string,titleRequired:c.a.bool,dispatch:c.a.func};var Me={"backend.bot_api_failed":"Внутренняя ошибка: обновите страницу и попробуйте еще раз","messenger_link.invalidated":"Вы отменили вход по ссылке из приложения"};var Ie=n("7ed68ea4ffabadd59750"),De=n("fb09d2078d24ea3d0b13");function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function He(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function We(e,t){return(We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ge=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),He(this,Ve(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}(t,r["Component"]),function(e,t,n){t&&Be(e.prototype,t),n&&Be(e,n)}(t,[{key:"componentWillUnmount",value:function(){this.props.setAuthMessengerError("")}},{key:"componentDidUpdate",value:function(e){var t=this;!e.shouldErrorDisappear&&this.props.shouldErrorDisappear&&setTimeout(function(){t.props.setAuthMessengerError("")},6e3)}},{key:"render",value:function(){var e=this.props,t=e.error,n=e.isCaptchaRequired;return n?o.a.createElement(Se,{handleCaptcha:this.props.handleCaptcha}):o.a.createElement("div",{className:"al-button__wrapper"},o.a.createElement("button",{className:"al-button",onClick:this.props.sendRequestToMessenger,type:"button"},o.a.createElement("span",{className:"al-button__icon","aria-hidden":"true"}),"Войти без пароля"),o.a.createElement("div",{className:"al-description"},"Мы отправим вам сообщение для подтверждения входа. Откройте его на устройстве, где вы уже авторизованы"),o.a.createElement(Pe,{isVisible:Boolean(t&&!n)},t))}}]),t}(),$e=Object(i.c)(function(e){var t=e.messengerAuth,n=Object.assign({},V.a,we.a,Me),r=t.error&&(n[t.error]||n.global),o="messenger_link.invalidated"===t.error;return{error:r,isCaptchaRequired:"captcha.required"===t.error,shouldErrorDisappear:o}},function(e){var t={checkCaptcha:ke.a,handleCaptcha:function(t){return function(){t.preventDefault(),e(Object(ke.a)(Te))}},checkAuthLetterStatus:Te,setAuthMessengerError:Ie.c,sendRequestToMessenger:De.a};return Object.assign({},Object(f.b)(t,e),{dispatch:e})})(Ge);Ge.propTypes={error:c.a.string,isCaptchaRequired:c.a.bool,shouldErrorDisappear:c.a.bool,setAuthMessengerError:c.a.func.isRequired,sendRequestToMessenger:c.a.func.isRequired,handleCaptcha:c.a.func.isRequired};var ze=n("f469c14f5c3cd24dad9a"),Ke=n("415b2ec7a2c957bbe58a");function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,t){return!t||"object"!==Qe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var et=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Je(this,Xe(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(t,r["Component"]),function(e,t,n){t&&Ye(e.prototype,t),n&&Ye(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setupBackPane,n=e.addUserUrl,r=e.editUrl,o=e.welcomeUrl,i=e.setupMode,a=e.setupPane,c=e.backPane,l=e.hasUnitedAccounts,f=e.updateLoginValue,d=e.enableAuthMailStatus,p=e.account,b=e.login,h=e.isSocialAccount,m=e.isForceMailAuthEnable,y=e.isMailAuthEnabled,g=e.mailAuthExperiment,v=e.disableAuthMailStatus;s.a.goal(u.Gc),c&&c!==o||t(l?r:n),b||h||f(p.login),m&&!g&&d(),m||!y||g||v(),i("welcome"),a(o)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.updatePasswordValue,n=e.changeNativeInputValue;t(""),n("passwd","")}},{key:"render",value:function(){var e=this.props,t=e.customTagline,n=e.hasSocialButton,r=e.isShowPasswordField,i=e.isShowMailAuthBtn,a=e.isShowMessengerAuthBtn,c=e.isForceMailAuthEnable,u=e.isMailAuthCaptchaRequired,s=e.isMessengerAuthCaptchaRequired;return o.a.createElement(ze.a,{cls:"welcome"},o.a.createElement(Ke.a,null,o.a.createElement("span",{dangerouslySetInnerHTML:{__html:t}})),(!i||i&&!u)&&(!a||a&&!s)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(pe,{hasSocialButton:n,isForceMailAuthEnable:c}),n&&o.a.createElement(Ee,{isShowPasswordField:r})),a&&o.a.createElement($e,null),i&&o.a.createElement(Le,null))}}]),t}();et.propTypes={addUserUrl:c.a.string.isRequired,editUrl:c.a.string.isRequired,welcomeUrl:c.a.string.isRequired,backPane:c.a.string,hasUnitedAccounts:c.a.bool.isRequired,customTagline:c.a.string.isRequired,account:c.a.shape({login:c.a.string}).isRequired,login:c.a.string,hasSocialButton:c.a.bool.isRequired,isShowPasswordField:c.a.bool.isRequired,isShowMailAuthBtn:c.a.bool.isRequired,isForceMailAuthEnable:c.a.bool.isRequired,isSocialAccount:c.a.bool.isRequired,isShowMessengerAuthBtn:c.a.bool,updatePasswordValue:c.a.func.isRequired,updateLoginValue:c.a.func.isRequired,setupBackPane:c.a.func.isRequired,setupMode:c.a.func.isRequired,setupPane:c.a.func.isRequired,changeNativeInputValue:c.a.func.isRequired,enableAuthMailStatus:c.a.func.isRequired,isMailAuthEnabled:c.a.bool,mailAuthExperiment:c.a.string,disableAuthMailStatus:c.a.func.isRequired};t.a=Object(i.c)(function(e){var t=e.common,n=t.addUserUrl,r=t.editUrl,o=t.welcomeUrl,i=t.backPane,a=e.auth,c=a.processedAccount,u=a.form,s=u.login,f=u.isForceOTP,d=a.unitedAccounts,p=void 0===d?{}:d,b=a.isWelcomePageTitleExp,h=e.customs.tagline,m=e.social.providers,y=e.mailAuth,g=y.isEnabled,v=y.mailAuthExperiment,_=y.mailAuthError,O=y.isUpdatedAuthLetterStatus,E=e.messengerAuth,w=E.isEnabled,k=E.error,T=Object.keys(p).length>0,j=c&&c.allowed_auth_methods||[],S=c&&c.preferred_auth_method||"password";j.indexOf("otp")>-1&&f&&(S="otp");var C=m.filter(function(e){var t=e.data;return"social_".concat(t.code)===S})[0]||null,P="Войдите, чтобы продолжить",R=Boolean(j.length&&!j.some(function(e){return-1===e.indexOf("social_")&&"magic_x_token"!==e})),A=Boolean(l.indexOf(S)>-1&&C)||R,q=Boolean("password"===S||j.indexOf("password")>-1),N=Boolean("otp"===S||j.indexOf("otp")>-1),x=Boolean(j.indexOf("magic_link")>-1),U=1===j.length&&"magic_link"===j[0],L=x||O,M=w&&!U,I=L&&M;return b&&((q||!(q||N||A||U))&&(P="Введите пароль"),N&&(P="Введите одноразовый пароль\n"),A&&(P=q?"Введите пароль или войдите через соцсеть\n":"Войдите через соцсеть\n"),U&&(P="Для входа отправьте себе ссылку")),h&&(P=h),{addUserUrl:n,editUrl:r,welcomeUrl:o,backPane:i,hasUnitedAccounts:T,customTagline:P,account:c,login:s,hasSocialButton:A,isShowPasswordField:q,isShowMailAuthBtn:L&&!I&&g,isShowMessengerAuthBtn:I,isMailAuthEnabled:g,isMailAuthCaptchaRequired:"captcha.required"===_,isMessengerAuthCaptchaRequired:"captcha.required"===k,isForceMailAuthEnable:U,isMessengerAuthEnabled:M,mailAuthExperiment:v,isSocialAccount:R}},function(e){var t={updatePasswordValue:p.Fb,updateLoginValue:p.Db,setupBackPane:p.qb,setupMode:p.rb,setupPane:d.r,changeNativeInputValue:b.a,enableAuthMailStatus:p.X,disableAuthMailStatus:p.nb};return Object.assign({},Object(f.b)(t,e),{dispatch:e})})(et)},e14b389d821b6a025824:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("2de66506e54747eb79c9"),o=n("4ee320a8137784c050e0");function i(){return function(e,t){var n=t(),i=n.common.welcomeUrl;"welcome"!==n.auth.mode&&(e(Object(o.Ab)()),e(Object(r.d)(i)))}}},e6034e01754f26236b79:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("d6b450235dea56f14038");function o(e){return function(t,n){var o={track_id:n().common.track_id,provider:e.provider};e.scope&&(o.scope=e.scope),r.a.start(o)}}},ec7a66791361653ff08d:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("2de66506e54747eb79c9"),o=n("4ee320a8137784c050e0");function i(e){return function(t,n){var i=n(),a=i.common,c=a.pane,u=a.magicUrl;"magic"!==i.auth.mode&&(t(Object(o.qb)(c)),t(Object(r.d)(u)),t(Object(o.wb)(e)))}}},f3e5b0b53b9a60481e9f:function(e,t,n){"use strict";t.a={"login.can_register":"Такого аккаунта нет","login.empty":"Логин не указан","login.missingvalue":"Необходимо выбрать логин","login.invalid":"Такой логин не подойдет","login.not_available":"Логин введен некорректно или удален","login.prohibitedsymbols":"Такой логин не подойдет","login.startswithdigit":"Такой логин не подойдет","login.long":"Такой логин не подойдет","login.startswithdot":"Такой логин не подойдет","login.startswithhyphen":"Такой логин не подойдет","login.endswithhyphen":"Такой логин не подойдет","login.doubleddot":"Такой логин не подойдет","login.doubledhyphen":"Такой логин не подойдет","login.dothyphen":"Такой логин не подойдет","login.hyphendot":"Такой логин не подойдет","login.endwithdot":"Такой логин не подойдет","login.notavailable":"Логин введен некорректно или удален","account.disabled":"Аккаунт заблокирован","account.disabled_on_deletion":"Аккаунт заблокирован","account.global_logout":"Что-то пошло не так. Попробуйте обновить страницу","account.not_found":"Такого аккаунта нет","action.impossible":"Введенные данные нельзя использовать для входа","captcha.invalid":"Символы введены неверно","captcha.empty":"Введите символы с картинки","captcha.not_matched":"Вы неверно ввели символы. Попробуйте еще раз","captcha.required":"Введите символы с картинки","captcha.missingvalue":"Введите символы с картинки","captcha.cannot_locate":"Введите символы с картинки","csrf_token.invalid":"Что-то пошло не так. Проверьте <a class='link link_theme_normal' href='https://yandex.ru/support/common/browsers-settings/browsers-cookies.html' target='_blank'>настройки cookie</a> и перезагрузите страницу","password.empty":"Пароль не указан","password.not_matched_2fa":"Неверный пин-код, одноразовый пароль или логин.","password.not_matched":"Неверный пароль","rfc_otp.invalid":"Неверный пароль","sessionid.overflow":"Список аккаунтов заполнен.",global:"Внутренняя ошибка: обновите страницу и попробуйте еще раз",internal:"Внутренняя ошибка: обновите страницу и попробуйте еще раз","number.empty":"Укажите номер телефона","number.invalid":"Пожалуйста, укажите корректный номер телефона","sms_limit.exceeded":"Превышено количество попыток подтверждения номера телефона. Попробуйте еще раз позже.","phone.confirmed":"Невозможно подтвердить телефон, попробуйте ввести другой номер","phone.blocked":"Номер телефона заблокирован","phone_secure.bound_and_confirmed":"","code.empty":"Укажите код подтверждения","code.invalid":"Неправильный код подтверждения","confirmations_limit.exceeded":"Превышен лимит проверки кода подтверждения. Отмените операцию или запросите код повторно","challenge.confirmations_limit.exceeded":"Превышен лимит проверки кода подтверждения. Попробуйте еще раз позже.","phone.not_found":"Данный номер больше не привязан к аккаунту. Вы можете привязать новый номер на странице управления телефонами.","email.invalid":"Неправильный формат адреса","email.already_confirmed":"Этот адрес уже привязан к вашему аккаунту\n","email.is_native":"Это ваш основной адрес. Его привязать нельзя","email.already_sent":"Слишком много попыток подтверждения для этого адреса, попробуйте позднее","key.empty":"Укажите код подтверждения","email.incorrect_key":"Неправильный код подтверждения","email.key_check_limit_exceeded":"Слишком много попыток ввести код подтверждения. Попробуйте еще раз позднее","email.not_found":"Данный адрес больше не привязан к аккаунту. Вы можете привязать новый адрес на странице управления адресами.","email.empty":"Вы не ввели адрес электронной почты.","email.send_limit_exceeded":"Превышено количество попыток зарегистрироваться с этим адресом электронной почты. Попробуйте использовать другой адрес или повторите попытку позднее.","email_confirmations_limit.exceeded":"Слишком много попыток ввести код подтверждения. Попробуйте еще раз позднее","social_profile.invalid":"Данный профиль больше не привязан к аккаунту. Вы можете привязать новый профиль на странице управления соц.профилями.","account.strong_password_policy_enabled":"При выбранной для вашей учетной записи политике аутентификации авторизация через соц.сети отключена.","social_profile.single_auth_method":"Данный профиль невозможно использовать для входа. Вы можете привязать новый профиль на странице управления соц.профилями.","oauth_token.invalid":"Что-то пошло не так. Войдите в аккаунт с помощью пароля.","track.invalid_state":"Что-то пошло не так. Попробуйте обновить страницу"}},f465ae3c0c877deeba74:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("fb6358edfd8976cf491c"),o=n("81e3542ee6dfa9281cbe"),i=n("4ee320a8137784c050e0"),a=n("1359072b563fb7f15ef0"),c=n("6720f7e94eecea453799"),u=n("2a8109ac628133d5b12f");function s(){return function(e,t){var n=t(),s=n.common,l=s.track_id,f=s.csrf,d=s.retpath,p=n.challenge,b=p.challengeType,h=p.fieldValue,m={track_id:l,csrf_token:f,challenge:b};"phone_confirmation"!==b&&(m.answer=h),h.trim()?(e(Object(i.W)(!0)),r.a.request("auth/challenge/commit",m).done(function(){if("ok"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).status){var t="/auth/finish/?track_id=".concat(l),n="phone"===b?u.z:u.p;return d&&(t+="&retpath=".concat(encodeURIComponent(d))),c.a.send([u.o,n]),void(window.location.href=t)}e(Object(o.f)({code:"internal",text:"Что-то пошло не так. Попробуйте обновить страницу"})),e(Object(i.W)(!1))}).fail(function(t){var n=Array.isArray(t.error)&&t.error[0],r="phone"===b?u.A:u.q;e(Object(a.a)(n)),e(Object(i.W)(!1)),c.a.send([u.o,"".concat(r," ").concat(n)])})):e(Object(a.a)("missingvalue"))}}},f469c14f5c3cd24dad9a:function(e,t,n){"use strict";var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),i=n("8a2d1b95e05b6a321e74"),a=n.n(i),c=function(e){var t=e.cls,n=e.children;return o.a.createElement("div",{className:"passp-auth-screen passp-".concat(t,"-page")},n)};c.propTypes={cls:a.a.string.isRequired,children:a.a.node.isRequired},t.a=c},f829dce6e807e79181ee:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),i=n("8a2d1b95e05b6a321e74"),a=n.n(i),c=n("0a81c721557e72a0975d"),u=n("b912ecc4473ae8a2ff0b"),s=n.n(u),l=n("1def7208fe0e21ce16a3"),f=n.n(l);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v="passp-field-",_=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),g(m(n=function(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?m(e):t}(this,h(t).call(this,e))),"ref",o.a.createRef()),g(m(n),"focus",function(){n.ref.current&&n.ref.current.focus&&n.ref.current.focus()}),n.handleFocus=n.handleFocus.bind(m(n)),n.handleBlur=n.handleBlur.bind(m(n)),n.handleChange=n.handleChange.bind(m(n)),n.state={isFocused:!1},n.updateInterval=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,r["Component"]),function(e,t,n){t&&b(e.prototype,t),n&&b(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.fieldValue,r=t.fieldName,o=t.ua,i=document.getElementById("".concat(v).concat(r));i.value=n,o.isMobile&&(this.updateInterval=setInterval(function(){i.value!==e.props.fieldValue&&e.handleChange({target:{value:i.value}})},100))}},{key:"componentWillUnmount",value:function(){this.props.ua.isMobile&&clearInterval(this.updateInterval)}},{key:"handleFocus",value:function(){"checkbox"!==this.props.fieldType&&this.setState({isFocused:!0})}},{key:"handleBlur",value:function(){var e=this.props,t=e.fieldType,n=e.onFieldBlur;"checkbox"!==t&&(this.setState({isFocused:!1}),"function"==typeof n&&n())}},{key:"handleChange",value:function(e){var t=this.props,n=t.onFieldChange,r=t.fieldValue;n("checkbox"===t.fieldType?!r:e.target.value),this.forceUpdate()}},{key:"render",value:function(){var e,t=this.props,n=t.fieldLabel,r=t.fieldValue,i=t.fieldClass,a=t.fieldName,c=t.fieldType,u=t.fieldError,l=t.fieldLink,d=t.fieldOptions,b=void 0===d?{}:d,h=t.isShowFieldLink,m=t.fieldPlaceholder,y=t.hideLabel,_=t.weight,O=t.hasTick,E=t.isValid,w=this.state.isFocused,k={},T=Boolean(u),j=Boolean(r);return"checkbox"===c&&(k.checked=r),o.a.createElement("div",{className:s()("passp-form-field ".concat(i||""),(e={"passp-form-field_focused":w},g(e,"passp-form-field_".concat(c),!0),g(e,"passp-form-field_".concat(_),Boolean(_)),g(e,"passp-form-field_filled",j),g(e,"passp-form-field_failed",T),g(e,"passp-form-field_valid",O&&E),e))},o.a.createElement("div",{className:"passp-form-field__input"},o.a.createElement("input",p({ref:this.ref,type:c,id:"".concat(v).concat(a),name:a},b,{value:r,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,placeholder:w?m:""},k)),!y&&o.a.createElement("label",{className:"passp-form-field__label",htmlFor:"".concat(v).concat(a)},["eula_accepted","eula_accepted_money"].includes(a)?o.a.createElement("span",{dangerouslySetInnerHTML:{__html:n}}):n)),T&&o.a.createElement("div",{className:"passp-form-field__error",dangerouslySetInnerHTML:{__html:u}}),h&&Boolean(l)&&o.a.createElement("div",{className:"passp-form-field__link"},o.a.createElement(f.a,{url:l.url,onClick:l.onClick,pseudo:l.pseudo||!1,theme:"normal"},l.text)))}}]),t}();_.defaultProps={fieldError:"",fieldLink:{},fieldOptions:{},isShowFieldLink:!1,fieldClass:""},_.propTypes={fieldLabel:a.a.string,fieldValue:a.a.oneOfType([a.a.string,a.a.bool]).isRequired,fieldName:a.a.string.isRequired,fieldType:a.a.string.isRequired,fieldError:a.a.string,fieldLink:a.a.shape({url:a.a.string,text:a.a.string,onClick:a.a.func,pseudo:a.a.bool}),fieldOptions:a.a.object,onFieldChange:a.a.func,onFieldBlur:a.a.func,fieldClass:a.a.string,isShowFieldLink:a.a.bool,fieldPlaceholder:a.a.string,ua:a.a.shape({isMobile:a.a.bool}),hideLabel:a.a.bool,weight:a.a.string,hasTick:a.a.bool,isValid:a.a.bool},t.b=Object(c.c)(function(e){return{ua:e.settings&&e.settings.ua||{}}},null,null,{forwardRef:!0})(_)},f90d1e31363e3e95f33e:function(e,t,n){"use strict";var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),i=n("8a2d1b95e05b6a321e74"),a=n.n(i),c=n("0a81c721557e72a0975d");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,f(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r["Component"]),function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.code,n=e.deviceInfo,r=e.showDescription,i=e.staticPath,a=e.text,c=n||"";return t?o.a.createElement("div",null,r&&o.a.createElement("p",{className:"al-send-popup__code-descr"},"Убедитесь, что видите на экране устройства %device вот эти символы:".replace("%device",c)),o.a.createElement("ul",{className:"al-send-popup__code"},t.map(function(e,t){return o.a.createElement("li",{className:"popup__code-item",key:t},o.a.createElement("img",{className:"popup__code-item-img",src:"".concat(i,"/i/magic-letter/").concat(e,".png"),alt:"magic link code image"}))})),o.a.createElement("div",{className:"al-send-popup__code-descr",dangerouslySetInnerHTML:{__html:a}})):null}}]),t}();t.a=Object(c.c)(function(e){var t=e.mailAuth,n=e.settings;return{code:t.code,staticPath:n.staticPath}})(p);p.propTypes={text:a.a.string.isRequired,staticPath:a.a.string.isRequired,code:a.a.array.isRequired}},fa93acbe643a2e0cfe93:function(e,t,n){"use strict";var r=n("4ee320a8137784c050e0"),o=n("b24de1e495698d2f533b"),i=n("400d618db20c4ff01c08"),a=n("a3c2d05881d3875b5dbb"),c=n("fb6358edfd8976cf491c");function u(){return function(e,t){var n=t().common,o=n.csrf,i=n.retpath,a={csrf_token:o};i&&(a.retpath=i),c.a.request("reAuthPasswordSubmit",a).done(function(t){var n=t.track_id,o=t.csrf_token;e(Object(r.Eb)(n,o))})}}var s,l=n("2a8109ac628133d5b12f"),f=n("6720f7e94eecea453799"),d={init:function(e){this.setStore(e)},onSuccess:function(e){var t;if(e.origin===location.origin&&e.data.socialAuth){var n=this.getStore(),o=n.getState,a=n.dispatch;(t=o()).common.retpath?Object(r.cb)(t.common.retpath):a(Object(i.a)())}},setStore:function(e){s=e},getStore:function(){return s},start:function(e){this.restart(e)},restart:function(){var e=this,t=this.getStore().getState();e.track_id=t.auth.magicTrack,e.csrf_token=t.auth.magicCSRF,e.trackNotFoundErrorCount=0,e.timeoutErrorCount=0,e.stop(),e._interval=300,window.intervalTimeout=setTimeout(function(){e._interval=1e3},6e4),window.redirectTimeout=setTimeout(function(){window.location.reload(!0)},6e5),e._stopped=!1,e.restartPolling()},restartPolling:function(){var e=this;e._stopped||setTimeout(function(){e.poll()},e._interval)},poll:function(){var e=this,t=$.ajax("/auth/new/magic/status/",{data:{track_id:e.track_id,csrf_token:e.csrf_token},dataType:"json",timeout:1e4,type:"POST"}),n=e.getStore().dispatch;t.fail(function(){e.timeoutErrorCount>1&&(e.stop(),n(Object(r.mb)("global"))),e.timeoutErrorCount++,e.restartPolling()}),t.done(function(t){var i;if("ok"===t.status&&"otp_auth_finished"===t.state)return e.stop(),f.a.goal(l.Oc),void(window.location.href="/auth/finish/?track_id=".concat(e.track_id));if(t.errors){if("password.not_matched"===(i=t.errors[0])&&(i="password.not_matched_2fa"),"captcha.required"===i)return e.stop(),n(Object(o.s)(e.track_id)),n(Object(r.lb)(i)),n(Object(r.Q)(!0)),void n(Object(a.a)());"track.not_found"===i&&(e.trackNotFoundErrorCount>5&&(e.stop(),n(Object(r.mb)(i)),n(u())),e.trackNotFoundErrorCount++),-1===["internal.temporary","backend.redis_failed","track.not_found","oauth_token.invalid"].indexOf(i)&&(e.stop(),n(Object(r.mb)(i)),n(u()))}e.restartPolling()})},stopPoll:function(){this._stopped=!0},stop:function(){this.stopPoll(),clearTimeout(window.intervalTimeout),clearTimeout(window.redirectTimeout)}};t.a=d},fb09d2078d24ea3d0b13:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("fb6358edfd8976cf491c"),o=n("7ed68ea4ffabadd59750"),i=n("4ee320a8137784c050e0"),a=n("2a8109ac628133d5b12f"),c=n("6720f7e94eecea453799");function u(){return c.a.send([a.F]),function(e,t){var n=t(),u=n.common,s=u.csrf,l=u.track_id,f={csrf_token:s,language:n.settings.lang,send_to:"messenger",track_id:l};e(Object(i.W)(!0)),r.a.request("auth/send_magic_letter",f).done(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t&&"ok"===t.status){var n=t.code;e(Object(o.d)(n)),e(Object(i.U)(!0)),e(Object(i.T)("authMessenger")),c.a.send([a.l])}else e(Object(o.c)("global"))}).fail(function(t){var n=Array.isArray(t.errors)?t.errors[0]:"global";if("bot_api.request_failed"===n)return e(Object(i.U)(!0)),e(Object(i.T)("authMessengerInfo")),void e(Object(i.ob)(""));e(Object(o.c)(n)),c.a.send([a.k,n])}).always(function(){e(Object(i.W)(!1))})}}},fb6358edfd8976cf491c:function(e,t,n){"use strict";var r=n("442e7e280b4a55cd8a6e"),o=n.n(r);n("2e00c83ced56b4015524");var i="SHOW_REQUEST_PASSWORD",a="SHOW_REQUEST_CAPTCHA";var c,u=n("d980a6b4f65a3a13be8b"),s=n("c842cee9d7a4cfb8b7ca");t.a={init:function(e){c=e},request:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=new $.Deferred;return o.a.api.request(e,t,n).done(function(t){return"error"!==t.status?r.resolve(t):(Array.isArray(t.errors)&&(t.errors.find(function(e){return"password.required"===e})&&c.dispatch(function(e){return{type:i,show:e}}(!0)),t.errors.find(function(e){return"captcha.required"===e})&&"/profile/password/submit"!==e&&c.dispatch(function(e){return{type:a,show:e}}(!0)),t.errors.find(function(e){return"sessionid.invalid"===e})&&c.dispatch(Object(u.o)()),t.errors.find(function(e){return"track.not_found"===e||"track_id.invalid"===e})&&c.dispatch(Object(u.n)())),r.reject(t))}).fail(function(e){var t={status:"error",errors:[]};return 403===e.status?t.errors.push("csrf_token.invalid"):t.errors.push("internal"),c.dispatch(Object(u.m)(t)),r.reject(t)}),r.promise()},log:function(e,t){o.a.api.log(e,t)},getTrack:function(e){var t=this,n=e.trackId,r=e.type;return new Promise(function(e){t.request("track",{type:r,track_id:n}).done(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id;c.dispatch(Object(s.b)({id:n,type:r})),e(t)}).fail(e)})},setCsrfToken:function(e){o.a.api.setCsrfToken(e)},validatePhone:function(e){var t=this,n={track_id:e.trackId,phone_number:e.phone,validate_for_call:!0};return new Promise(function(e){t.request("validate-phone",n).done(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.valid_for_call,r=t.valid_for_flash_call;e({isPhoneValidForCall:n,isPhoneValidForFlashCall:r})}).fail(e)})},requestPhoneConfirmationCode:function(e){var t=this,n={track_id:e.trackId,display_language:e.language,number:e.phone,confirm_method:e.phoneConfirmMethod};return new Promise(function(e,r){t.request("phone-confirm-code-submit",n).done(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.deny_resend_until,r=t.calling_number_template;e({denyResendUntil:n,callingNumberTemplate:r})}).fail(r)})},checkPhoneConfirmationStatus:function(e){var t=this,n=e.trackId,r=e.phoneConfirmMethod;return new Promise(function(e,o){["by_flash_call","by_call"].includes(r)&&function i(){return setTimeout(function(){t.request("confirm-phone-check-status",{track_id:n}).then().fail(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).errors,n=(void 0===t?[]:t)[0]||"call_confirm.failed",a=["call_confirm.not_ready"].includes(n),c=["call_confirm.in_progress","call_confirm.finished","call_confirm.started"].includes(n),u=["call_confirm.failed","call_confirm.user_unavailable"].includes(n);if(["by_flash_call","by_call"].includes(r)&&"track.invalid_state"!==n&&("by_flash_call"!==r||"call_confirm.user_hangup"!==n))return a?i():c?e():o(u?{code:"check_phone"}:{code:n})})},500)}()})},checkPhoneConfirmationCode:function(e){var t=this,n=e.trackId,r=e.code;return new Promise(function(e,o){t.request("phone-confirm-code",{track_id:n,code:r}).done(e).fail(o)})},findAccountsByNameAndPhone:function(e){var t=this,n=e.trackId,r=e.firstname,o=e.lastname;return new Promise(function(e,i){t.request("find-accounts-by-name-and-phone",{track_id:n,firstname:r,lastname:o}).done(e).fail(i)})},getSuggestedLogins:function(e){var t=this,n={track_id:e.trackId,firstname:e.firstname,lastname:e.lastname,login:e.login,timeout:2e3};return new Promise(function(e,r){n.firstname.trim()&&n.lastname.trim()||e([]),t.request("suggestV2",n).done(e).fail(r)})}}},ff5e0c92347047de2c64:function(e,t,n){"use strict";var r=n("8a2d1b95e05b6a321e74"),o=n.n(r),i=n("8af190b70a6bc55c6f1b"),a=n.n(i);function c(e){return String(e).length<2?"0".concat(e):String(e)}function u(e){var t=e.startTime,n=e.endTime,r=e.isUnixTimeStamp,o=function(e,t,n){return e>t?0:n?Math.floor((t-e)/60):Math.floor((t-e)/1e3/60)}(t,n,r),i=function(e,t,n){return e>t?0:n?Math.floor((t-e)%60):Math.floor((t-e)/1e3%60)}(t,n,r);return a.a.createElement("span",{className:"phone-confirmation-timer"},c(o),":",c(i))}n.d(t,"a",function(){return u}),u.propTypes={startTime:o.a.number.isRequired,endTime:o.a.number.isRequired,isUnixTimeStamp:o.a.bool}}});